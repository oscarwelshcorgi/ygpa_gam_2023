<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="ygpa.gam.asset">

    <typeAlias alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
    <typeAlias alias="hashMap" type="java.util.HashMap"/>
    <typeAlias alias="gamAssetPopupInqireVO" type="egovframework.rte.ygpa.gam.asset.service.GamAssetPopupInqireVO"/>
    
    <resultMap id="gamAssetPopupInqireMap" class="egovframework.rte.ygpa.gam.asset.service.GamAssetPopupInqireVO">
        <result property="prmisnYnCnt" column="PRMISN_YN_CNT" columnIndex="1"/>
        <result property="nticPdCnt" column="NTIC_PD_CNT" columnIndex="2"/>
        <result property="rcivSeCnt" column="RCIV_SE_CNT" columnIndex="3"/>
    </resultMap>
    
    <select id="gamAssetPopupInqireDao.selectAssetPopupInqire_S" parameterClass="gamAssetPopupInqireVO" resultMap="gamAssetPopupInqireMap">
           SELECT
			       (                               
			        SELECT COUNT(*) 
			          FROM ASSETS_RENT_F
			         WHERE PRMISN_YN IS NULL OR PRMISN_YN = 'N'     
			       ) PRMISN_YN_CNT
			      ,(
			         SELECT COUNT(*) 
			          FROM LEV_REQEST_F L
			         WHERE L.NTIC_PD_FROM <![CDATA[>=]]> TO_CHAR(SYSDATE, 'YYYYMMDD') 
			           AND L.CONST_PER_TO <![CDATA[<=]]> TO_CHAR(SYSDATE, 'YYYYMMDD')
			       ) NTIC_PD_CNT   
			      ,(
			        SELECT COUNT(*)
			          FROM ANLRVE_LEV_F
			         WHERE RCIV_SE IS NULL OR RCIV_SE = 'N'  
			       ) RCIV_SE_CNT
			 FROM DUAL
    </select>
    
</sqlMap>
