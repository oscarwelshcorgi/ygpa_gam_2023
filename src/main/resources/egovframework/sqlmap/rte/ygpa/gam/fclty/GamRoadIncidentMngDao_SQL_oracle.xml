<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">
<!-- SQL MAP 정의 -->
<sqlMap namespace="ygpa.gam.fclty">
	<!-- TYPE ALIAS 정의 -->
	<typeAlias alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias alias="hashMap" type="java.util.HashMap"/>

	<typeAlias alias="gamRoadMngGroupVO" type="egovframework.rte.ygpa.gam.fclty.service.GamRoadMngGroupVO" />
	<typeAlias alias="GamRoadIncidentMngVO" type="egovframework.rte.ygpa.gam.fclty.service.GamRoadIncidentMngVO" />

	<!-- RESULT MAP 정의 -->
<!-- 	<resultMap id="gamInfoCommFcltySpecInqireSumMap" class="GamInfoCommFcltySpecInqireVO">
		<result property="totalCount" column="TOTAL_COUNT" columnIndex="1"/>
		<result property="sumQy" column="SUM_QY" columnIndex="2"/>
		<result property="sumAcqAmt" column="SUM_ACQ_AMT" columnIndex="3"/>
	</resultMap>
 -->

	<select id="GamRoadIncidentMngDao.selectRoadIncidentMngList" parameterClass="GamRoadIncidentMngVO" resultClass="egovMap">
		SELECT ROWNUM RNUM, S.*
		  FROM(
			SELECT
					T1.PRT_FCLTY_NM AS PRT_FCLTY_NM
					,T2.STRCT_FMT AS STRCT_FMT
					,LTRIM(TO_CHAR(NVL(T2.BERTH,0),'99,990')) AS BERTH
					,T1.PRT_FCLTY_STNDRD AS PRT_FCLTY_STNDRD
					,T1.PRT_FCLTY_UNIT AS PRT_FCLTY_UNIT
					,T1.PRT_PRT_FCLTY_CNT AS PRT_PRT_FCLTY_CNT
					,T2.FENDER_KND_CD AS FENDER_KND_CD
					,T2.FENDER_PMNT_ITV AS FENDER_PMNT_ITV
					,T2.FENDER_FMT AS FENDER_FMT
			  FROM GIS_PRT_FCLTY_CD_F T1
			  LEFT OUTER JOIN CVL_ENG_FCLTY_SPEC_F T2 ON (T1.FCLTS_MNG_NO=T2.FCLTS_MNG_NO)
			 WHERE 1=1
			   AND T1.PRT_FCLTY_SE = 'C'
			   AND T1.GIS_PRT_FCLTY_CD = 'C1'
			   AND T1.FCLTS_MNG_GROUP_NO = #sFcltsMngGroupNo#
			ORDER BY GIS_PRT_FCLTY_SEQ) S

	</select>

</sqlMap>
