<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="ygpa.gam.code">

	<typeAlias alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias alias="hashMap" type="java.util.HashMap"/>
    <typeAlias alias="gamGisAssetCodeVO" type="egovframework.rte.ygpa.gam.code.service.GamGisAssetCodeVO"/>

	<insert id="gamGisAssetCodeDao.insertAssetCode_S">
		<![CDATA[
			INSERT INTO GIS_ASSETS_CD_F
				( 					GIS_ASSETS_PRT_AT_CODE,
					GIS_ASSETS_SUB_CD,
					GIS_ASSETS_CD,
					GIS_ASSETS_NM,
					GIS_ASSETS_MNG_DEPT_CD,
					GIS_ASSETS_OPER_DEPT_CD,
					GIS_ASSETS_LOCPLC,
					GIS_ASSETS_LNM,
					GIS_ASSETS_LNM_SUB,
					GIS_ASSETS_AR,
					GIS_ASSETS_USAGE_YN,
					GIS_ASSETS_ACQ_PRI,
					GIS_ASSETS_STNDRD,
					GIS_ASSETS_BLDDATE,
					GIS_ASSETS_BLD_DT,
					GIS_ASSETS_RM,
					REG_USR,
					REGISTDT,
					UPD_USR,
					UPDTDT,
					GIS_ASSETS_QUAY_GROUP_CD,
					GIS_ASSETS_LOC_CD,
					GIS_ASSETS_SE_CD,
					GIS_ASSETS_PRPRTY_SE_CD,
					GIS_ASSETS_INVSTMNT_MTHD,
					GIS_ASSETS_GIS_CD,
					GIS_ASSETS_REAL_RENT_AR,
					DRW_LST_REGIST_YEAR,
					DRW_LST_SEQ,
					GIS_ASSETS_VAL_AMT,
					GIS_ASSETS_VAL_INQIRE_DT,
					ERP_ASSETS_SE_CD,
					ERP_ASSETS_NO,
					ERP_ASSETS_NO_SEQ,
					ERP_ASSETS_DISUSE_REGIST_YN,
					ERP_ASSETS_DISUSE_RSN,
					GIS_ASSETS_QUAY_CD
				 )
			VALUES (
					#gisAssetsPrtAtCode#,
					#gisAssetsSubCd#,
					#gisAssetsCd#,
					#gisAssetsNm#,
					#gisAssetsMngDeptCd#,
					#gisAssetsOperDeptCd#,
					#gisAssetsLocplc#,
					#gisAssetsLnm#,
					#gisAssetsLnmSub#,
					#gisAssetsAr#,
					#gisAssetsUsageYn#,
					#gisAssetsAcqPri#,
					#gisAssetsStndrd#,
					#gisAssetsBlddate#,
					#gisAssetsBldDt#,
					#gisAssetsRm#,
					#regUsr#,
					#registdt#,
					#updUsr#,
					#updtdt#,
					#gisAssetsQuayGroupCd#,
					#gisAssetsLocCd#,
					#gisAssetsSeCd#,
					#gisAssetsPrprtySeCd#,
					#gisAssetsInvstmntMthd#,
					#gisAssetsGisCd#,
					#gisAssetsRealRentAr#,
					#drwLstRegistYear#,
					#drwLstSeq#,
					#gisAssetsValAmt#,
					#gisAssetsValInqireDt#,
					#erpAssetsSeCd#,
					#erpAssetsNo#,
					#erpAssetsNoSeq#,
					#erpAssetsDisuseRegistYn#,
					#erpAssetsDisuseRsn#,
					#gisAssetsQuayCd#
 )
		]]>
	</insert>

	<update id="gamGisAssetCodeDao.updateAssetCode_S">
		<![CDATA[
			UPDATE GIS_ASSETS_CD_F
			SET ID=#id#
				, NAME=#name#
				, DESCRIPTION=#description#
				, USE_YN=#useYn#
			WHERE
				GIS_ASSETS_PRT_AT_CODE=#gisAssetsPrtAtCode#
				AND GIS_ASSETS_SUB_CD=#gisAssetsSubCd#
				AND GIS_ASSETS_CD=#gisAssetsCd#
		]]>
	</update>

	<delete id="gamGisAssetCodeDao.deleteAssetCode_S">
		<![CDATA[
			DELETE FROM GIS_ASSETS_CD_F
			WHERE GIS_ASSETS_PRT_AT_CODE=#gisAssetsPrtAtCode#
				AND GIS_ASSETS_SUB_CD=#gisAssetsSubCd#
				AND GIS_ASSETS_CD=#gisAssetsCd#
		]]>
	</delete>

	<select id="gamGisAssetCodeDao.selectAssetCode_S" resultClass="egovMap">
		<![CDATA[
			SELECT
					GIS_ASSETS_PRT_AT_CODE,
					GIS_ASSETS_SUB_CD,
					GIS_ASSETS_CD,
					GIS_ASSETS_PRPRTY_SE_CD,
					GIS_ASSETS_LOC_CD,
					GIS_ASSETS_QUAY_CD,
					GIS_ASSETS_NM,
					GIS_ASSETS_LOCPLC,
					GIS_ASSETS_MNG_DEPT_CD,
					GIS_ASSETS_OPER_DEPT_CD,
					GIS_ASSETS_LNM,
					GIS_ASSETS_LNM_SUB,
					GIS_ASSETS_AR,
					GIS_ASSETS_USAGE_YN,
					GIS_ASSETS_ACQ_PRI,
					GIS_ASSETS_STNDRD,
					GIS_ASSETS_BLDDATE,
					GIS_ASSETS_BLD_DT,
					GIS_ASSETS_RM,
					GIS_ASSETS_QUAY_GROUP_CD,
					GIS_ASSETS_SE_CD,
					GIS_ASSETS_INVSTMNT_MTHD,
					GIS_ASSETS_GIS_CD,
					GIS_ASSETS_REAL_RENT_AR,
					DRW_LST_REGIST_YEAR,
					DRW_LST_SEQ,
					GIS_ASSETS_VAL_AMT,
					GIS_ASSETS_VAL_INQIRE_DT,
					ERP_ASSETS_SE_CD,
					ERP_ASSETS_NO,
					ERP_ASSETS_NO_SEQ,
					ERP_ASSETS_DISUSE_REGIST_YN,
					ERP_ASSETS_DISUSE_RSN,
					REG_USR,
					REGISTDT,
					UPD_USR,
					UPDTDT
			FROM GIS_ASSETS_CD_F
			WHERE GIS_ASSETS_PRT_AT_CODE=#gisAssetsPrtAtCode#
				AND GIS_ASSETS_CD=#gisAssetsCd#
				AND GIS_ASSETS_SUB_CD=#gisAssetsSubCd#

		]]>
	</select>

	<select id="gamGisAssetCodeDao.selectGetNewAssetCode_S" resultClass="egovMap">
		<![CDATA[
			SELECT
					#gisAssetsPrprtySeCd# || #gisAssetsLocCd# || #gisAssetsQuayCd# GIS_ASSETS_CD,
					(SELECT LPAD(NVL(MAX(GIS_ASSETS_SUB_CD), 1)+1,2,'0') FROM GIS_ASSETS_CD_F WHERE GIS_ASSETS_PRT_AT_CODE=#gisAssetsPrtAtCode# AND GIS_ASSETS_CD=#gisAssetsPrprtySeCd# || #gisAssetsLocCd# || #gisAssetsQuayCd#) GIS_ASSETS_SUB_CD
			FROM DUAL
		]]>
	</select>

	<select id="gamGisAssetCodeDao.selectAssetCodeList_D" parameterClass="gamGisAssetCodeVO" resultClass="egovMap">
	       SELECT A.*
	       FROM (
		       SELECT  ROWNUM RNUM, S.* FROM (
		       	SELECT
					GIS_ASSETS_PRT_AT_CODE,
					GAM_GETCODENAME('GAM019', GIS_ASSETS_PRT_AT_CODE) PRT_AT_CODE_NM,
						GIS_ASSETS_CD,
						GIS_ASSETS_SUB_CD,
						GIS_ASSETS_NM,
						GIS_ASSETS_PRPRTY_SE_CD,
						GAM_GETCODENAME('GAM001', GIS_ASSETS_PRPRTY_SE_CD) GIS_ASSETS_PRPRTY_NM,
						GIS_ASSETS_LOC_CD,
						GAM_GETCODENAME('GAM002', GIS_ASSETS_LOC_CD) GIS_ASSETS_LOC_NM,
						GIS_ASSETS_QUAY_CD,
						GAM_GETCODENAME('GAM003', GIS_ASSETS_QUAY_CD) GIS_ASSETS_QUAY_NM,
						GIS_ASSETS_LOCPLC,
						GIS_ASSETS_LNM,
						GIS_ASSETS_LNM_SUB,
						GIS_ASSETS_AR,
						GIS_ASSETS_REAL_RENT_AR,
						GIS_ASSETS_ACQ_PRI,
						GIS_ASSETS_STNDRD,
						GIS_ASSETS_BLDDATE,
						GIS_ASSETS_BLD_DT,
						GIS_ASSETS_MNG_DEPT_CD,
						GAM_GETDEPTNAME(GIS_ASSETS_MNG_DEPT_CD) MNG_DEPT_NM,
						GIS_ASSETS_OPER_DEPT_CD,
						GAM_GETDEPTNAME(GIS_ASSETS_OPER_DEPT_CD) OPER_DEPT_NM,
						GIS_ASSETS_SE_CD,
						GAM_GETCODENAME('GAM013', GIS_ASSETS_SE_CD) GIS_ASSETS_SE_NM,
						GIS_ASSETS_USAGE_YN,
						ERP_ASSETS_SE_CD,
						ERP_ASSETS_NO,
						ERP_ASSETS_NO_SEQ,
						ERP_ASSETS_DISUSE_REGIST_YN,
						ERP_ASSETS_DISUSE_RSN
					FROM GIS_ASSETS_CD_F
					WHERE 1=1
				<isNotEmpty prepend="AND" property="gisAssetsPrtAtCode">
					GIS_ASSETS_PRT_AT_CODE=#gisAssetsPrtAtCode#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsCd">
					GIS_ASSETS_CD=#gisAssetsCd#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsSubCd">
					GIS_ASSETS_SUB_CD=#gisAssetsSubCd#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsNm">
					GIS_ASSETS_NM LIKE '%' || #gisAssetsNm# || '%'
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsPrprtySeCd">
					GIS_ASSETS_PRPRTY_SE_CD=#gisAssetsPrprtySeCd#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsLocCd">
					GIS_ASSETS_LOC_CD=#gisAssetsLocCd#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsQuayCd">
					GIS_ASSETS_QUAY_CD=#gisAssetsQuayCd#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsLocplc">
					GIS_ASSETS_LOCPLC LIKE '%' || #gisAssetsLocplc# || '%'
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsLnm">
					GIS_ASSETS_LNM=#gisAssetsLnm#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsLnmSub">
					GIS_ASSETS_LNM_SUB=#gisAssetsLnmSub#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="erpAssetsSeCd">
					ERP_ASSETS_SE_CD=#erpAssetsSeCd#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="erpAssetsNo">
					ERP_ASSETS_NO=#erpAssetsNo#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="erpAssetsNoSeq">
					ERP_ASSETS_NO_SEQ=#erpAssetsNoSeq#
				</isNotEmpty>
				ORDER BY GIS_ASSETS_PRT_AT_CODE, GIS_ASSETS_CD, GIS_ASSETS_SUB_CD
				) S
			 ) A
		<![CDATA[ WHERE ROWNUM <= #recordCountPerPage# and RNUM > #firstIndex# ]]>
	</select>

	<select id="gamGisAssetCodeDao.selectAssetCodeListTotCnt_S" parameterClass="gamGisAssetCodeVO" resultClass="int">

			SELECT COUNT(*) totcnt
			FROM GIS_ASSETS_CD_F
				WHERE 1=1
				<isNotEmpty prepend="AND" property="gisAssetsPrtAtCode">
					GIS_ASSETS_PRT_AT_CODE=#gisAssetsPrtAtCode#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsCd">
					GIS_ASSETS_CD=#gisAssetsCd#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsSubCd">
					GIS_ASSETS_SUB_CD=#gisAssetsSubCd#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsNm">
					GIS_ASSETS_NM LIKE '%' || #gisAssetsNm# || '%'
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsPrprtySeCd">
					GIS_ASSETS_PRPRTY_SE_CD=#gisAssetsPrprtySeCd#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsLocCd">
					GIS_ASSETS_LOC_CD=#gisAssetsLocCd#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsQuayCd">
					GIS_ASSETS_QUAY_CD=#gisAssetsQuayCd#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsLocplc">
					GIS_ASSETS_LOCPLC LIKE '%' || #gisAssetsLocplc# || '%'
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsLnm">
					GIS_ASSETS_LNM=#gisAssetsLnm#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="gisAssetsLnmSub">
					GIS_ASSETS_LNM_SUB=#gisAssetsLnmSub#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="erpAssetsSeCd">
					ERP_ASSETS_SE_CD=#erpAssetsSeCd#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="erpAssetsNo">
					ERP_ASSETS_NO=#erpAssetsNo#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="erpAssetsNoSeq">
					ERP_ASSETS_NO_SEQ=#erpAssetsNoSeq#
				</isNotEmpty>
	</select>

	<select id="gamGisAssetCodeDao.selectAssetCodeOlnlp_S" resultClass="egovMap">
			SELECT
					GIS_ASSETS_PRT_AT_CODE,
					GIS_ASSETS_SUB_CD,
					GIS_ASSETS_CD,
					GIS_ASSETS_NM,
					GIS_ASSETS_LOCPLC,
					GIS_ASSETS_LNM,
					GIS_ASSETS_LNM_SUB,
					GIS_ASSETS_AR
			FROM GIS_ASSETS_CD_F
			WHERE 1=1
				<isNotEmpty prepend="AND" property="siGuGun">
					GIS_ASSETS_LOCPLC LIKE '%' || #siGuGun# || '%'
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="eupMyunDong">
					GIS_ASSETS_LOCPLC LIKE '%' || #eupMyunDong# || '%'
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="lnm">
					GIS_ASSETS_LNM = #lnm#
				</isNotEmpty>
				<isNotEmpty prepend="AND" property="lnmSub">
					GIS_ASSETS_LNM_SUB = #lnmSub#
				</isNotEmpty>
	</select>


</sqlMap>
