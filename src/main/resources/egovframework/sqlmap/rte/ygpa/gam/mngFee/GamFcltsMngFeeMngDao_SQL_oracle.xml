<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">
<sqlMap namespace="ygpa.gam.mngFee">

	<typeAlias alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
	<typeAlias alias="hashMap" type="java.util.HashMap"/>
	<typeAlias alias="gamFcltsMngFeeMngVo" type="egovframework.rte.ygpa.gam.mngFee.service.GamFcltsMngFeeMngVo"/>
	<typeAlias alias="gamFcltsMngFeeMngDetailVo" type="egovframework.rte.ygpa.gam.mngFee.service.GamFcltsMngFeeMngDetailVo"/>

	<resultMap id="gamFcltsMngFeeMngSumMap" class="egovframework.rte.ygpa.gam.mngFee.service.GamFcltsMngFeeMngVo">
		<result property="dataCount" column="DATA_COUNT" columnIndex="1"/>
		<result property="sumFcltyMngFee" column="SUM_FCLTY_MNG_FEE" columnIndex="2"/>
		<result property="sumElctyFee" column="SUM_ELCTY_FEE" columnIndex="3"/>
		<result property="sumWaterFee" column="SUM_WATER_FEE" columnIndex="4"/>
		<result property="sumGasFee" column="SUM_GAS_FEE" columnIndex="5"/>
		<result property="sumEnvFee" column="SUM_ENV_FEE" columnIndex="6"/>
		<result property="sumMngTotalFee" column="SUM_MNG_TOTAL_FEE" columnIndex="7"/>
	</resultMap>

	<select id="gamFcltsMngFeeMngDao.selectFcltsMngFeeMngList_D" parameterClass="gamFcltsMngFeeMngVo" resultClass="egovMap">
		SELECT A.*
			FROM (
				SELECT  ROWNUM RNUM, S.*
					FROM (
						SELECT
								 T1.MNG_MT AS MAIN_MNG_MT
								,T1.MNG_FEE_JOB_SE AS MAIN_MNG_FEE_JOB_SE
								,T1.MNG_FEE_SJ AS MAIN_MNG_FEE_SJ
								,LTRIM(TO_CHAR(NVL(T1.FCLTY_MNG_FEE,0),'999,999,999,990')) AS MAIN_FCLTY_MNG_FEE
								,LTRIM(TO_CHAR(NVL(T1.ELCTY_FEE,0),'999,999,999,990')) AS MAIN_ELCTY_FEE
								,LTRIM(TO_CHAR(NVL(T1.WATER_FEE,0),'999,999,999,990')) AS MAIN_WATER_FEE
								,LTRIM(TO_CHAR(NVL(T1.GAS_FEE,0),'999,999,999,990')) AS MAIN_GAS_FEE
								,LTRIM(TO_CHAR(NVL(T1.ENV_FEE,0),'999,999,999,990')) AS MAIN_ENV_FEE
								,LTRIM(TO_CHAR(NVL(T1.MNG_TOTAL_FEE,0),'999,999,999,990')) AS MAIN_MNG_TOTAL_FEE
								,SUBSTRB(T1.MNG_MT,1,4) || '-' || SUBSTRB(T1.MNG_MT,5,2) AS MAIN_MNG_YR_MT
								,(CASE WHEN T1.MNG_FEE_JOB_SE='M' THEN '[M]:마린센터'
									   WHEN T1.MNG_FEE_JOB_SE='E' THEN '[E]:전기시설'
									   ELSE '[' || T1.MNG_FEE_JOB_SE || ']:' || 'UNKNOWN'
								  END) AS MAIN_MNG_FEE_JOB_SE_NM
								,SUBSTRB(T1.MNG_MT,1,4) AS MAIN_MNG_MT_YEAR
								,SUBSTRB(T1.MNG_MT,5,2) AS MAIN_MNG_MT_MON
								,T1.REG_USR AS MAIN_REG_USR
								,TO_CHAR(T1.REGIST_DT, 'YYYY-MM-DD HH24:MI:SS') AS MAIN_REGIST_DT
								,T1.UPD_USR AS MAIN_UPD_USR
								,TO_CHAR(T1.UPDT_DT, 'YYYY-MM-DD HH24:MI:SS') AS MAIN_UPDT_DT
								,(SELECT (CASE WHEN COUNT(*) > 0 THEN NVL(MAX(NHT_ISUE_YN),'N') ELSE 'X' END)
									FROM MNG_FEE_LEV_REQEST_F
								  WHERE MNG_MT=T1.MNG_MT
								  AND MNG_FEE_JOB_SE=T1.MNG_FEE_JOB_SE
								 ) AS MAIN_NHT_ISUE_YN
							FROM FCLTS_MNG_FEE_F T1
						WHERE 1=1

						<isNotEmpty property="sStartMngYear">
						<isNotEmpty property="sStartMngMt">
						AND T1.MNG_MT >= #sStartMngYear# || #sStartMngMt#
						</isNotEmpty>
						<isEmpty property="sStartMngMt">
						AND T1.MNG_MT >= #sStartMngYear# || '01'
						</isEmpty>
						</isNotEmpty>

						<isNotEmpty property="sEndMngYear">
						<isNotEmpty property="sEndMngMt">
						AND T1.MNG_MT <![CDATA[ <= ]]> #sEndMngYear# || #sEndMngMt#
						</isNotEmpty>
						<isEmpty property="sEndMngMt">
						AND T1.MNG_MT <![CDATA[ <= ]]> #sEndMngYear# || '12'
						</isEmpty>
						</isNotEmpty>

						<isNotEmpty property="sMngFeeJobSe">
						AND T1.MNG_FEE_JOB_SE = #sMngFeeJobSe#
						</isNotEmpty>

						ORDER BY T1.MNG_MT,T1.MNG_FEE_JOB_SE
				) S
		) A
		<![CDATA[
		WHERE ROWNUM <= #recordCountPerPage# and RNUM > #firstIndex#
		]]>
	</select>

	<select id="gamFcltsMngFeeMngDao.selectFcltsMngFeeMngListTotCnt_S" parameterClass="gamFcltsMngFeeMngVo" resultMap="gamFcltsMngFeeMngSumMap">
		SELECT
				 LTRIM(TO_CHAR(COUNT(*),'999,999,999,990')) AS DATA_COUNT
				,LTRIM(TO_CHAR(NVL(SUM(FCLTY_MNG_FEE),0),'999,999,999,990')) AS SUM_FCLTY_MNG_FEE
				,LTRIM(TO_CHAR(NVL(SUM(ELCTY_FEE),0),'999,999,999,990')) AS SUM_ELCTY_FEE
				,LTRIM(TO_CHAR(NVL(SUM(WATER_FEE),0),'999,999,999,990')) AS SUM_WATER_FEE
				,LTRIM(TO_CHAR(NVL(SUM(GAS_FEE),0),'999,999,999,990')) AS SUM_GAS_FEE
				,LTRIM(TO_CHAR(NVL(SUM(ENV_FEE),0),'999,999,999,990')) AS SUM_ENV_FEE
				,LTRIM(TO_CHAR(NVL(SUM(MNG_TOTAL_FEE),0),'999,999,999,990')) AS SUM_MNG_TOTAL_FEE
			FROM FCLTS_MNG_FEE_F
		WHERE 1=1

		<isNotEmpty property="sStartMngYear">
		<isNotEmpty property="sStartMngMt">
		AND MNG_MT >= #sStartMngYear# || #sStartMngMt#
		</isNotEmpty>
		<isEmpty property="sStartMngMt">
		AND MNG_MT >= #sStartMngYear# || '01'
		</isEmpty>
		</isNotEmpty>

		<isNotEmpty property="sEndMngYear">
		<isNotEmpty property="sEndMngMt">
		AND MNG_MT <![CDATA[ <= ]]> #sEndMngYear# || #sEndMngMt#
		</isNotEmpty>
		<isEmpty property="sEndMngMt">
		AND MNG_MT <![CDATA[ <= ]]> #sEndMngYear# || '12'
		</isEmpty>
		</isNotEmpty>

		<isNotEmpty property="sMngFeeJobSe">
		AND MNG_FEE_JOB_SE = #sMngFeeJobSe#
		</isNotEmpty>
	</select>

	<insert id="gamFcltsMngFeeMngDao.insertFcltsMngFeeMng_S">
		INSERT INTO FCLTS_MNG_FEE_F
		(
			 MNG_MT
			,MNG_FEE_JOB_SE
			,MNG_FEE_SJ
			,FCLTY_MNG_FEE
			,ELCTY_FEE
			,WATER_FEE
			,GAS_FEE
			,ENV_FEE
			,MNG_TOTAL_FEE
			,REG_USR
			,REGIST_DT
			,UPD_USR
			,UPDT_DT
		)
		VALUES
		(
			 #mainMngMtYear# || #mainMngMtMon#
			,#mainMngFeeJobSe#
			,#mainMngFeeSj#
			,TO_NUMBER(REPLACE(#mainFcltyMngFee#,',',''))
			,TO_NUMBER(REPLACE(#mainElctyFee#,',',''))
			,TO_NUMBER(REPLACE(#mainWaterFee#,',',''))
			,TO_NUMBER(REPLACE(#mainGasFee#,',',''))
			,TO_NUMBER(REPLACE(#mainEnvFee#,',',''))
			,TO_NUMBER(REPLACE(#mainMngTotalFee#,',',''))
			,#mainRegUsr#
			,SYSDATE
			,#mainUpdUsr#
			,SYSDATE
		)
	</insert>

	<update id="gamFcltsMngFeeMngDao.updateFcltsMngFeeMng_S">
		UPDATE FCLTS_MNG_FEE_F SET
			 MNG_FEE_SJ = #mainMngFeeSj#
			,FCLTY_MNG_FEE = TO_NUMBER(REPLACE(#mainFcltyMngFee#,',',''))
			,ELCTY_FEE = TO_NUMBER(REPLACE(#mainElctyFee#,',',''))
			,WATER_FEE = TO_NUMBER(REPLACE(#mainWaterFee#,',',''))
			,GAS_FEE = TO_NUMBER(REPLACE(#mainGasFee#,',',''))
			,ENV_FEE = TO_NUMBER(REPLACE(#mainEnvFee#,',',''))
			,MNG_TOTAL_FEE = TO_NUMBER(REPLACE(#mainMngTotalFee#,',',''))
			,UPD_USR = #mainUpdUsr#
			,UPDT_DT = SYSDATE
		WHERE MNG_MT = #mainMngMtYear# || #mainMngMtMon#
		AND MNG_FEE_JOB_SE = #mainMngFeeJobSe#
	</update>

	<delete id="gamFcltsMngFeeMngDao.deleteFcltsMngFeeMng_S">
		DELETE FROM FCLTS_MNG_FEE_F
		WHERE MNG_MT = #mainMngMtYear# || #mainMngMtMon#
		AND MNG_FEE_JOB_SE = #mainMngFeeJobSe#
	</delete>

	<delete id="gamFcltsMngFeeMngDao.deleteAllFcltsMngFeeMngDetail_S">
		DELETE FROM FCLTS_MNG_FEE_DETAIL_F
		WHERE MNG_MT = #mainMngMtYear# || #mainMngMtMon#
		AND MNG_FEE_JOB_SE = #mainMngFeeJobSe#
	</delete>

	<select id="gamFcltsMngFeeMngDao.selectFcltsMngFeeMngDetailList_D" parameterClass="gamFcltsMngFeeMngDetailVo" resultClass="egovMap">
		SELECT
				 T1.MNG_MT
				,T1.MNG_FEE_JOB_SE
				,T1.MNG_SEQ
				,T1.ENTRPSCD
				,T2.ENTRPS_NM
				,LTRIM(TO_CHAR(NVL(T1.USAGE_AR,0),'999,990.00')) AS USAGE_AR
				,LTRIM(TO_CHAR(NVL(T1.MNG_FEE,0),'999,999,999,990')) AS MNG_FEE
				,LTRIM(TO_CHAR(NVL(T1.ELCTY_FEE,0),'999,999,999,990')) AS ELCTY_FEE
				,LTRIM(TO_CHAR(NVL(T1.WATER_FEE,0),'999,999,999,990')) AS WATER_FEE
				,LTRIM(TO_CHAR(NVL(T1.GAS_FEE,0),'999,999,999,990')) AS GAS_FEE
				,LTRIM(TO_CHAR(NVL(T1.ENV_FEE,0),'999,999,999,990')) AS ENV_FEE
				,LTRIM(TO_CHAR(NVL(T1.MNG_TOTAL_FEE,0),'999,999,999,990')) AS MNG_TOTAL_FEE
				,SUBSTRB(T1.MNG_MT,1,4) || '-' || SUBSTRB(T1.MNG_MT,5,2) AS MNG_YR_MT
				,SUBSTRB(T1.MNG_MT,1,4) AS MNG_MT_YEAR
				,SUBSTRB(T1.MNG_MT,5,2) AS MNG_MT_MON
				,T1.REG_USR
				,TO_CHAR(T1.REGIST_DT, 'YYYY-MM-DD HH24:MI:SS') AS REGIST_DT
				,T1.UPD_USR AS UPD_USR
				,TO_CHAR(T1.UPDT_DT, 'YYYY-MM-DD HH24:MI:SS') AS UPDT_DT
				,T3.REQEST_SEQ
				,T3.PRT_AT_CODE
				,T3.CHRGE_KND
				,GAM_GETCODENAME('GAM024',T3.CHRGE_KND) AS CHRGE_KND_NM
				,T3.ACCNUT_YEAR
				,T3.NTIC_NO
				,TO_CHAR(T3.NTIC_DT,'YYYY-MM-DD') AS NTIC_DT
				,TO_CHAR(T3.PAY_TMLMT,'YYYY-MM-DD') AS PAY_TMLMT
				,LTRIM(TO_CHAR(NVL(T3.FEE,0),'999,999,999,990')) AS FEE
				,T3.VAT_YN
				,GAM_GETCODENAME('GAM016',T3.VAT_YN) AS VAT_YN_NM
				,LTRIM(TO_CHAR(NVL(T3.VAT,0),'999,999,999,990')) AS VAT
				,LTRIM(TO_CHAR(NVL(T3.NTIC_AMT,0),'999,999,999,990')) AS NTIC_AMT
				,T3.RCIV_SE
				,(CASE WHEN T3.NHT_ISUE_YN='Y' THEN GAM_GETCODENAME('GAM025',T3.RCIV_SE) ELSE '미고지' END) AS RCIV_SE_NM
				,TO_CHAR(T3.RCIV_DT,'YYYY-MM-DD') AS RCIV_DT
				,(CASE WHEN T3.ROWID IS NOT NULL THEN NVL(T3.NHT_ISUE_YN,'N') ELSE 'X' END) AS NHT_ISUE_YN
				,NVL(T3.NHT_PRINT_YN,'N') AS NHT_PRINT_YN
				,T3.ADIT_NTIC_YN
				,T3.ARRRG_NO
				,LTRIM(TO_CHAR(T3.ARRRG_AMT,'999,999,999,990')) AS ARRRG_AMT
				,LTRIM(TO_CHAR(T3.ARRRG_TARIFF,'0.000')) AS ARRRG_TARIFF
				,LTRIM(TO_CHAR(T3.ARRRG_PAY_DATES,'999,990')) AS ARRRG_PAY_DATES
				,T3.RM
				,T3.DEPT_CD
			FROM FCLTS_MNG_FEE_DETAIL_F T1
			LEFT OUTER JOIN ENTRPS_INFO_F T2 ON (T1.ENTRPSCD=T2.ENTRPSCD)
			LEFT OUTER JOIN MNG_FEE_LEV_REQEST_F T3 ON (T1.MNG_MT=T3.MNG_MT AND T1.MNG_FEE_JOB_SE=T3.MNG_FEE_JOB_SE AND T1.MNG_SEQ=T3.MNG_SEQ AND 'N'=T3.ADIT_NTIC_YN)
		WHERE T1.MNG_MT = #mngMt#
		AND T1.MNG_FEE_JOB_SE = #mngFeeJobSe#
		ORDER BY T1.MNG_SEQ
	</select>

	<select id="gamFcltsMngFeeMngDao.selectFcltsMngFeeMngDetailMaxMngSeq_S" parameterClass="gamFcltsMngFeeMngDetailVo" resultClass="java.lang.String">
		SELECT LTRIM(TO_CHAR(TO_NUMBER(NVL(MAX(MNG_SEQ),'000')) + 1,'000'))
			FROM FCLTS_MNG_FEE_DETAIL_F
		WHERE MNG_MT=#mngMt#
		AND MNG_FEE_JOB_SE=#mngFeeJobSe#
	</select>

	<insert id="gamFcltsMngFeeMngDao.insertFcltsMngFeeMngDetail_S">
		INSERT INTO FCLTS_MNG_FEE_DETAIL_F
		(
			 MNG_MT
			,MNG_FEE_JOB_SE
			,MNG_SEQ
			,ENTRPSCD
			,USAGE_AR
			,MNG_FEE
			,ELCTY_FEE
			,WATER_FEE
			,GAS_FEE
			,ENV_FEE
			,MNG_TOTAL_FEE
			,REG_USR
			,REGIST_DT
			,UPD_USR
			,UPDT_DT
		)
		VALUES
		(
			 #mngMt#
			,#mngFeeJobSe#
			,(SELECT LTRIM(TO_CHAR(TO_NUMBER(NVL(MAX(MNG_SEQ),'000'))+1,'000'))
				FROM FCLTS_MNG_FEE_DETAIL_F
			  WHERE MNG_MT = #mngMt#
			  AND MNG_FEE_JOB_SE = #mngFeeJobSe#)
			,#entrpscd#
			,TO_NUMBER(REPLACE(#usageAr#,',',''))
			,TO_NUMBER(REPLACE(#fcltyMngFee#,',',''))
			,TO_NUMBER(REPLACE(#elctyFee#,',',''))
			,TO_NUMBER(REPLACE(#waterFee#,',',''))
			,TO_NUMBER(REPLACE(#gasFee#,',',''))
			,TO_NUMBER(REPLACE(#envFee#,',',''))
			,TO_NUMBER(REPLACE(#mngTotalFee#,',',''))
			,#regUsr#
			,SYSDATE
			,#updUsr#
			,SYSDATE
		)
	</insert>

	<update id="gamFcltsMngFeeMngDao.updateFcltsMngFeeMngDetail_S">
		UPDATE FCLTS_MNG_FEE_DETAIL_F SET
			 ENTRPSCD = #entrpscd#
			,MNG_FEE = TO_NUMBER(REPLACE(#fcltyMngFee#,',',''))
			,ELCTY_FEE = TO_NUMBER(REPLACE(#elctyFee#,',',''))
			,WATER_FEE = TO_NUMBER(REPLACE(#waterFee#,',',''))
			,GAS_FEE = TO_NUMBER(REPLACE(#gasFee#,',',''))
			,ENV_FEE = TO_NUMBER(REPLACE(#envFee#,',',''))
			,MNG_TOTAL_FEE = TO_NUMBER(REPLACE(#mngTotalFee#,',',''))
			,UPD_USR = #updUsr#
			,UPDT_DT = SYSDATE
		WHERE MNG_MT = #mngMt#
		AND MNG_FEE_JOB_SE = #mngFeeJobSe#
		AND MNG_SEQ = #mngSeq#
	</update>

	<delete id="gamFcltsMngFeeMngDao.deleteFcltsMngFeeMngDetail_S">
		DELETE FROM FCLTS_MNG_FEE_DETAIL_F
		WHERE MNG_MT = #mngMt#
		AND MNG_FEE_JOB_SE = #mngFeeJobSe#
		AND MNG_SEQ = #mngSeq#
	</delete>

	<select id="gamFcltsMngFeeMngDao.selectMngFeeLevReqestFMaxReqestSeq_S" parameterClass="hashMap" resultClass="java.lang.String">
		SELECT LTRIM(TO_CHAR(TO_NUMBER(NVL(MAX(REQEST_SEQ),'000')) + 1,'000'))
			FROM MNG_FEE_LEV_REQEST_F
		WHERE MNG_MT=#mngMt#
		AND MNG_FEE_JOB_SE=#mngFeeJobSe#
		AND MNG_SEQ=#mngSeq#
	</select>

	<insert id="gamFcltsMngFeeMngDao.insertMngFeeLevReqestF_S">
		INSERT INTO MNG_FEE_LEV_REQEST_F
		(
			 MNG_MT
			,MNG_FEE_JOB_SE
			,MNG_SEQ
			,REQEST_SEQ
			,ENTRPSCD
			,PRT_AT_CODE
			,CHRGE_KND
			,ACCNUT_YEAR
			,NTIC_NO
			,NTIC_DT
			,PAY_TMLMT
			,FEE
			,VAT_YN
			,VAT
			,NTIC_AMT
			,RM
			,RCIV_SE
			,RCIV_DT
			,NHT_ISUE_YN
			,DEPT_CD
			,NTIC_MTH
			,NHT_PRINT_YN
			,ARRRG_NO
			,ARRRG_AMT
			,ARRRG_TARIFF
			,ARRRG_PAY_DATES
			,ADIT_NTIC_YN
			,SETOFF_YN
			,REG_USR
			,REGIST_DT
			,UPD_USR
			,UPDT_DT
		)
		VALUES
		(
			 #mngMt#
			,#mngFeeJobSe#
			,#mngSeq#
			,#reqestSeq#
			,#entrpscd#
			,#prtAtCode#
			,NULL
			,NULL
			,NULL
			,NULL
			,NULL
			,TO_NUMBER(REPLACE(#fee#,',',''))
			,#vatYn#
			,TO_NUMBER(REPLACE(#vat#,',',''))
			,TO_NUMBER(REPLACE(#nticAmt#,',',''))
			,#rm#
			,'0'
			,NULL
			,'N'
			,#deptCd#
			,#nticMth#
			,'N'
			,NULL
			,NULL
			,NULL
			,NULL
			,'N'
			,'N'
			,#regUsr#
			,SYSDATE
			,#updUsr#
			,SYSDATE
		)
	</insert>

	<update id="gamFcltsMngFeeMngDao.updateMngFeeLevReqestF_S">
		UPDATE MNG_FEE_LEV_REQEST_F SET
			 CHRGE_KND = #chrgeKnd#
			,ACCNUT_YEAR = NULL
			,NTIC_NO = NULL
			,NTIC_DT = NULL
			,PAY_TMLMT = NULL
			,FEE = TO_NUMBER(REPLACE(#fee#,',',''))
			,VAT_YN = #vatYn#
			,VAT = TO_NUMBER(REPLACE(#vat#,',',''))
			,NTIC_AMT = TO_NUMBER(REPLACE(#nticAmt#,',',''))
			,RM = #rm#
			,NHT_ISUE_YN = 'N'
			,UPD_USR = #updUsr#
			,UPDT_DT = SYSDATE
		WHERE MNG_MT = #mngMt#
		AND MNG_FEE_JOB_SE = #mngFeeJobSe#
		AND MNG_SEQ = #mngSeq#
		AND REQEST_SEQ = #reqestSeq#
	</update>

	<update id="gamFcltsMngFeeMngDao.updateMngFeeLevReqestFNticIssue_S" parameterClass="map">
		UPDATE MNG_FEE_LEV_REQEST_F SET
			 CHRGE_KND = #chrgeKnd#
			<isEqual property="nhtIsueYn" compareValue="Y">
			,ACCNUT_YEAR = TO_CHAR(SYSDATE,'YYYY')
			,NTIC_NO = (SELECT LTRIM(TO_CHAR(NVL(TO_NUMBER(MAX(BILL_NO)),0) + 1,'000000'))
							FROM REV_COLL_F
						WHERE PRT_AT_CODE = #prtAtCode#
						AND FEE_TP = GAM_GET_FEE_TP(#chrgeKnd#)
						AND FISCAL_YR = TO_CHAR(SYSDATE,'YYYY'))
			,NTIC_DT = TO_DATE(#nticDt#,'YYYY-MM-DD')
			,PAY_TMLMT = TO_DATE(#payTmlmt#,'YYYY-MM-DD')
			</isEqual>
			<isEqual property="nhtIsueYn" compareValue="N">
			,ACCNUT_YEAR = NULL
			,NTIC_NO = NULL
			,NTIC_DT = NULL
			,PAY_TMLMT = NULL
			</isEqual>
			<isEmpty property="accnutYear">
			,FEE = TO_NUMBER(REPLACE(#fee#,',',''))
			,VAT_YN = #vatYn#
			,VAT = TO_NUMBER(REPLACE(#vat#,',',''))
			,NTIC_AMT = TO_NUMBER(REPLACE(#nticAmt#,',',''))
			,RM = #rm#
			</isEmpty>
			,NHT_ISUE_YN = #nhtIsueYn#
			,UPD_USR = #updUsr#
			,UPDT_DT = SYSDATE
		WHERE MNG_MT = #mngMt#
		AND MNG_FEE_JOB_SE = #mngFeeJobSe#
		AND MNG_SEQ = #mngSeq#
		AND REQEST_SEQ = #reqestSeq#
	</update>

	<update id="gamFcltsMngFeeMngDao.updateMngFeeLevReqestFNhtPrintYn_S">
		UPDATE MNG_FEE_LEV_REQEST_F SET
			 NHT_PRINT_YN = #nhtPrintYn#
		WHERE MNG_MT = #mngMt#
		AND MNG_FEE_JOB_SE = #mngFeeJobSe#
		AND MNG_SEQ = #mngSeq#
		AND REQEST_SEQ = #reqestSeq#
	</update>

	<delete id="gamFcltsMngFeeMngDao.deleteMngFeeLevReqestF_S">
		DELETE FROM MNG_FEE_LEV_REQEST_F
		WHERE MNG_MT = #mngMt#
		AND MNG_FEE_JOB_SE = #mngFeeJobSe#
		AND MNG_SEQ = #mngSeq#
		AND REQEST_SEQ = #reqestSeq#
	</delete>

	<delete id="gamFcltsMngFeeMngDao.deleteAllMngFeeLevReqestF_S">
		DELETE FROM MNG_FEE_LEV_REQEST_F
		WHERE MNG_MT = #mngMt#
		AND MNG_FEE_JOB_SE = #mngFeeJobSe#
		AND MNG_SEQ = #mngSeq#
	</delete>

</sqlMap>