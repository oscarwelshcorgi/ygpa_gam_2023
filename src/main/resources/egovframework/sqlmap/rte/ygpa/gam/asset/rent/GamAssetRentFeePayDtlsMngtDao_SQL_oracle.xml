<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="ygpa.gam.asset.rent">

    <typeAlias alias="egovMap" type="egovframework.rte.psl.dataaccess.util.EgovMap"/>
    <typeAlias alias="hashMap" type="java.util.HashMap"/>
    <typeAlias alias="gamAssetRentFeePayDtlsMngtVO" type="egovframework.rte.ygpa.gam.asset.rent.service.GamAssetRentFeePayDtlsMngtVO"/>
    
    <select id="gamAssetRentFeePayDtlsMngtDao.selectAssetRentFeePayDtlsList_D" parameterClass="gamAssetRentFeePayDtlsMngtVO" resultClass="egovMap">
           SELECT A.*
           FROM (
                   SELECT  ROWNUM RNUM, S.*
                     FROM (
                           SELECT 
								 E.INT_SEQ             
								,E.DEL_KIND           
								,E.JINGSU_DATE            
								,E.SUNAP_DATE         
								,E.PRT_AT_CODE            
								,E.FEE_TP             
								,E.FISCAL_YR          
								,E.BILL_NO                
								,E.ACCNT_CODE         
								,E.AGENT_CODE         
								,E.BILL_AMNT          
								,E.BILL_DT                
								,E.BILL_PRT_YN            
								,E.DUE_DATE           
								,E.RCVD_DT                
								,E.RCVD_TP                
								,E.RSLT_CODE          
								,E.EXMP_AMNT          
								,E.OVER_AMNT          
								,E.DC_AMNT                
								,E.DC_CODE                
								,E.DC_RATE                
								,E.RECPT_EPDT         
								,E.ELCT_BILL_RSLT     
								,E.BULL_INFO_INQR_DTIME
								,E.AMNT_RSN           
								,E.BZ_RGST_ID         
								,E.AGENT_NAME         
								,E.LAST               
								,E.VAT_YN             
								,E.JIRO_NO                
								,E.ELEC_PAY_NO            
								,E.CUSTOMER_MNGT_NO   
								,E.CUSTOMER_ADDR      
								,E.PAY_NAME 
					        FROM  ERP_REV_COLL_F@YGPA_PORTMIS E
					             ,LEV_REQEST_F L
					       WHERE E.BILL_NO = L.NTICNO
					       
					       <isNotEmpty property="sPrtAtCode">
			                   AND L.PRT_AT_CODE = #sPrtAtCode#
			               </isNotEmpty>
			               
			               ORDER BY INT_SEQ DESC
                ) S
             ) A
        <![CDATA[ WHERE ROWNUM <= #recordCountPerPage# and RNUM > #firstIndex# ]]>
    </select>
    
    <select id="gamAssetRentFeePayDtlsMngtDao.selectAssetRentFeePayDtlsListTotCnt_S" parameterClass="gamAssetRentFeePayDtlsMngtVO" resultClass="int">
            SELECT COUNT(*) totcnt
              FROM  ERP_REV_COLL_F@YGPA_PORTMIS E
                   ,LEV_REQEST_F L
             WHERE E.BILL_NO = L.NTICNO
             
             <isNotEmpty property="sPrtAtCode">
                 AND L.PRT_AT_CODE = #sPrtAtCode#
             </isNotEmpty>
    </select>
    
</sqlMap>
