function removeWindow(b){b.remove()}window.removeWindow=removeWindow;
var buttonIcons=[{label:"\ucd5c\ucd08\uc2e0\uccad",icon:"ui-icon-check"},{label:"\uc5f0\uc7a5\uc2e0\uccad",icon:"ui-icon-clock"},{label:"\uc2e0\uccad\uc0ad\uc81c",icon:"ui-icon-minusthick"},{label:"\uacb0\uc7ac\uc694\uccad",icon:"ui-icon-document"},{label:"\uc790\uc0b0\ub4f1\ub85d",icon:"ui-icon-document"},{label:"\uc9c0\ub3c4\ubcf4\uae30",icon:"ui-icon-flag"},{label:"\uc704\uce58\ub4f1\ub85d",icon:"ui-icon-pin-s"},{label:"\uc790\uc0b0\ucd94\uac00",icon:"ui-icon-plusthick"},{label:"\ucd94\uac00",
icon:"ui-icon-plusthick"},{label:"\uc0ad\uc81c",icon:"ui-icon-trash"},{label:"\uc800\uc7a5",icon:"ui-icon-disk"},{label:"\ucde8\uc18c",icon:"ui-icon-arrowreturnthick-1-e"},{label:"\uc801\uc6a9",icon:"ui-icon-check"},{label:"\uc5c5\ub85c\ub4dc",icon:"ui-icon-arrowthickstop-1-n"},{label:"\ub2e4\uc6b4\ub85c\ub4dc",icon:"ui-icon-arrowthickstop-1-s"},{label:"\uc0ac\uc6a9\uc2b9\ub099",icon:"ui-icon-clipboard"},{label:"\uc2b9\ub099\ucde8\uc18c",icon:"ui-icon-cancel"},{label:"\ub9f5\uc870\ud68c",icon:"ui-icon-extlink"},
{label:"\uc5d1\uc140",icon:"ui-icon-excel-down"},{label:"\uc778\uc1c4",icon:"ui-icon-print"},{label:"\uacfc\ud0dc\ub8cc",icon:"ui-icon-alert"}],DeleteFeature=new OpenLayers.Class(OpenLayers.Control,{initialize:function(b,c){OpenLayers.Control.prototype.initialize.apply(this,[c]);this.layer=b;this.handler=new OpenLayers.Handler.Feature(this,b,{click:this.clickFeature})},clickFeature:function(b){void 0==b.fid?this.layer.destroyFeatures([b]):(b.state=OpenLayers.State.DELETE,this.layer.events.triggerEvent("afterfeaturemodified",
{feature:b}),b.renderIntent="select",this.layer.drawFeature(b))},setMap:function(b){this.handler.setMap(b);OpenLayers.Control.prototype.setMap.apply(this,arguments)},CLASS_NAME:"OpenLayers.Control.DeleteFeature"});OpenLayers.Projection.defaults={"EPSG:5181":{units:"m"},"EPSG:5186":{units:"m"}};OpenLayers.DOTS_PER_INCH=96;
OpenLayers.Layer.TileCacheCustom=OpenLayers.Class(OpenLayers.Layer.TileCache,{initialize:function(b,c,a,d){this.layername=a;OpenLayers.Layer.Grid.prototype.initialize.apply(this,[b,c,{},d]);this.extension=this.format.split("/")[1].toLowerCase()},getURL:function(b){function c(b,a){b=String(b);for(var k=[],d=0;d<a;++d)k.push("0");return k.join("").substring(0,a-b.length)+b}var a=this.map.getResolution(),d=b.bottom;b=b.left;a=null!=this.serverResolutions?OpenLayers.Util.indexOf(this.serverResolutions,
a):this.map.getZoom();d=[this.layername,c(a,2),c(parseInt(d/1E6),3),c(parseInt(d/1E3)%1E3,3),c(parseInt(d)%1E3,3),c(parseInt(b/1E6),3),c(parseInt(b/1E3)%1E3,3),c(parseInt(b)%1E3,3)+"."+this.extension].join("/");this.version&&(d+="?v="+this.version);a=this.url;a instanceof Array&&(a=this.selectUrl(d,a));a="/"==a.charAt(a.length-1)?a:a+"/";return a+d},CLASS_NAME:"OpenLayers.Layer.TileCacheCustom"});
OpenLayers.Control.indexMapCustom=OpenLayers.Class(OpenLayers.Control.ZoomBox,{baseMap:null,draw:function(){this.handler=new OpenLayers.Handler.BoxCustom(this,{done:this.zoomBox},{indexMap:!0})},initialize:function(b,c){this.baseMap=b;OpenLayers.Control.prototype.initialize.apply(this,[c])},zoomBox:function(b){if(b instanceof OpenLayers.Bounds){if(this.out){var c=Math.abs(b.right-b.left),a=Math.abs(b.top-b.bottom),c=Math.min(this.map.size.h/a,this.map.size.w/c),a=this.map.getExtent(),d=this.map.getLonLatFromPixel(b.getCenterPixel());
b=d.lon-a.getWidth()/2*c;var g=d.lon+a.getWidth()/2*c,h=d.lat-a.getHeight()/2*c,c=d.lat+a.getHeight()/2*c,c=new OpenLayers.Bounds(b,h,g,c)}else c=this.map.getLonLatFromPixel(new OpenLayers.Pixel(b.left,b.bottom)),a=this.map.getLonLatFromPixel(new OpenLayers.Pixel(b.right,b.top)),c=new OpenLayers.Bounds(c.lon,c.lat,a.lon,a.lat);this.baseMap.zoomToExtent(c,!0)}else this.baseMap.setCenter(this.map.getLonLatFromPixel(b),this.baseMap.numZoomLevels-1)},CLASS_NAME:"OpenLayers.Control.indexMapCustom"});
OpenLayers.Handler.BoxCustom=OpenLayers.Class(OpenLayers.Handler.Box,{indexMap:!1,startBox:function(b){this.indexMap&&this.zoomBox&&this.removeBox();this.zoomBox=OpenLayers.Util.createDiv("zoomBox",this.dragHandler.start);this.zoomBox.className=this.boxDivClassName;this.zoomBox.style.zIndex=this.map.Z_INDEX_BASE.Popup-1;this.map.viewPortDiv.appendChild(this.zoomBox);OpenLayers.Element.addClass(this.map.viewPortDiv,"olDrawBox")},applyBox:function(b){this.indexMap&&this.zoomBox&&this.removeBox();this.dragHandler.start=
this.map.getPixelFromLonLat(new OpenLayers.LonLat(b.left,b.top));var c=this.map.getPixelFromLonLat(new OpenLayers.LonLat(b.right,b.bottom));b=c.x-this.dragHandler.start.x;c=c.y-this.dragHandler.start.y;this.zoomBox=OpenLayers.Util.createDiv("zoomBox",this.dragHandler.start);this.zoomBox.className=this.boxDivClassName;this.zoomBox.style.zIndex=this.map.Z_INDEX_BASE.Popup-1;this.map.viewPortDiv.appendChild(this.zoomBox);this.zoomBox.style.width=b+"px";this.zoomBox.style.height=c+"px"},endBox:function(b){var c;
if(5<Math.abs(this.dragHandler.start.x-b.x)||5<Math.abs(this.dragHandler.start.y-b.y)){var a=this.dragHandler.start;c=Math.min(a.y,b.y);var d=Math.max(a.y,b.y),g=Math.min(a.x,b.x);b=Math.max(a.x,b.x);c=new OpenLayers.Bounds(g,d,b,c)}else c=this.dragHandler.start.clone();this.indexMap||this.removeBox();this.callback("done",[c])},CLASS_NAME:"OpenLayers.Handler.BoxCustom"});
OpenLayers.Handler.PolygonMeasureCustom=OpenLayers.Class(OpenLayers.Handler.Polygon,{popup:null,measureArea:function(){var b=this.geometryClone().getGeodesicArea(EMD.map.projection),c;c=b*Math.pow(OpenLayers.INCHES_PER_UNIT.m/OpenLayers.INCHES_PER_UNIT.km,2);return b=1<c?c.toFixed(2)+"km<sup>2</sup>":b.toFixed(2)+"m<sup>2</sup>"},mousedown:function(b){if(this.lastDown&&this.lastDown.equals(b.xy))return!1;null==this.lastDown?(this.multiLine||(this.persist&&this.destroyFeature(),this.removePopup()),
this.createFeature(b.xy)):null!=this.lastUp&&this.lastUp.equals(b.xy)||this.addPoint(b.xy);this.lastDown=b.xy;this.drawing=!0;this.freehandMode(b)?(this.removePoint(),this.finalize()):(null==this.lastUp&&this.addPoint(b.xy),this.lastUp=b.xy);var c=this.map.getLonLatFromPixel(b.xy),a=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(c.lon,c.lat));this.layer.addFeatures(a);var d;this.count?(1<this.count&&(contentHtml="<div class='olControlMeasurePopup'>"+this.measureArea()+"</div>",d=new PopupCustom("measurePopup",
c,null,contentHtml,this.layer.map,new OpenLayers.Pixel(5,5))),this.count+=1):(contentHtml="<div class='olControlMeasurePopup'>\uc2dc\uc791</div>",d=new PopupCustom("measurePopup",c,null,contentHtml,this.layer.map,new OpenLayers.Pixel(5,5)),contentHtml="<div class='olControlMeasurePopup'>"+this.measureArea()+"</div>",this.popup=new PopupCustom("measurePopup",c,null,contentHtml,this.layer.map,new OpenLayers.Pixel(5,5)),this.map.addPopup(this.popup),this.popup.updateSize(),this.popup.type="measure",
this.count=1);d&&(this.map.addPopup(d),d.type="measure",d.updateSize());return"2"==b.button?(this.rightclick(b),!0):!1},mousemove:function(b){this.drawing&&(this.mouseDown&&this.freehandMode(b)?this.addPoint(b.xy):(this.modifyFeature(b.xy),this.popup&&(contentHtml="<div class='olControlMeasurePopup'>"+this.measureArea()+"</div>",this.popup.setContentHTML(contentHtml),this.popup.updateSize(),this.popup.moveTo(b.xy))));return!0},rightclick:function(b){this.dblclick(b);return!1},dblclick:function(b){if(3>
this.count)return alert("\uba74\uc801\uc740 3\uac1c \uc774\uc0c1\uc758 \uc9c0\uc810\uc744 \uc120\ud0dd\ud574\uc57c \ud569\ub2c8\ub2e4."),!1;this.count=0;this.freehandMode(b)||(this.line.geometry.removeComponent(this.line.geometry.components[this.line.geometry.components.length-1]),this.removePoint(),this.finalize());this.popup&&(this.map.removePopup(this.popup),this.popup=null);return!1},deactivate:function(){if(!OpenLayers.Handler.prototype.deactivate.apply(this,arguments))return!1;this.drawing&&
this.cancel();this.persistControl||(this.layer.destroy(!1),this.removePopup());this.layer.prevLayer=!0;this.layer=null;return!0},removePopup:function(){for(var b=this.map.popups.length-1;0<=b;b--)"measure"==this.map.popups[b].type&&this.map.removePopup(this.map.popups[b])},CLASS_NAME:"OpenLayers.Handler.PolygonMeasureCustom"});
OpenLayers.Handler.PathMeasureCustom=OpenLayers.Class(OpenLayers.Handler.Path,{popup:null,measureDistance:function(){var b=this.geometryClone().getGeodesicLength(EMD.map.projection),c;c=OpenLayers.INCHES_PER_UNIT.m/OpenLayers.INCHES_PER_UNIT.km*b;return b=1<c?c.toFixed(2)+"km":b.toFixed(2)+"m"},mousedown:function(b){if(this.lastDown&&this.lastDown.equals(b.xy))return!1;null==this.lastDown?(this.multiLine||(this.persist&&this.destroyFeature(),this.removePopup()),this.createFeature(b.xy)):null!=this.lastUp&&
this.lastUp.equals(b.xy)||this.addPoint(b.xy);this.lastDown=b.xy;this.drawing=!0;this.freehandMode(b)?(this.removePoint(),this.finalize()):(null==this.lastUp&&this.addPoint(b.xy),this.lastUp=b.xy);var c=this.map.getLonLatFromPixel(b.xy),a=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(c.lon,c.lat));this.layer.addFeatures(a);if(this.count)d="<div class='olControlMeasurePopup'>"+this.measureDistance()+"</div>",a=new PopupCustom("measurePopup",c,null,d,this.layer.map,new OpenLayers.Pixel(5,
5)),this.count+=1;else{var d,a=new PopupCustom("measurePopup",c,null,"<div class='olControlMeasurePopup'>\uc2dc\uc791</div>",this.layer.map,new OpenLayers.Pixel(5,5));d="<div class='olControlMeasurePopup'>"+this.measureDistance()+"</div>";this.popup=new PopupCustom("measurePopup",c,null,d,this.layer.map,new OpenLayers.Pixel(5,5));this.map.addPopup(this.popup);this.popup.updateSize();this.popup.type="measure";this.count=1}a&&(this.map.addPopup(a),a.type="measure",a.updateSize());return"2"==b.button?
(this.rightclick(b),!0):!1},mousemove:function(b){this.drawing&&(this.mouseDown&&this.freehandMode(b)?this.addPoint(b.xy):(this.modifyFeature(b.xy),this.popup&&(contentHtml="<div class='olControlMeasurePopup'>"+this.measureDistance()+"</div>",this.popup.setContentHTML(contentHtml),this.popup.updateSize(),this.popup.moveTo(b.xy))));return!0},rightclick:function(b){this.dblclick(b);return!1},dblclick:function(b){this.count=0;this.freehandMode(b)||(this.line.geometry.removeComponent(this.line.geometry.components[this.line.geometry.components.length-
1]),this.removePoint(),this.finalize());this.popup&&(this.map.removePopup(this.popup),this.popup=null);return!1},deactivate:function(){if(!OpenLayers.Handler.prototype.deactivate.apply(this,arguments))return!1;this.drawing&&this.cancel();this.persistControl||(this.layer.destroy(!1),this.removePopup());this.layer.prevLayer=!0;this.layer=null;return!0},removePopup:function(){for(var b=this.map.popups.length-1;0<=b;b--)"measure"==this.map.popups[b].type&&this.map.removePopup(this.map.popups[b])},CLASS_NAME:"OpenLayers.Handler.PathMeasureCustom"});
PopupCustom=OpenLayers.Class(OpenLayers.Popup,{offsetPixel:null,initialize:function(b,c,a,d,g,h){h&&(this.offsetPixel=h);null==b&&(b=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_"));this.id=b;this.lonlat=c;this.contentSize=null!=a?a:new OpenLayers.Size(OpenLayers.Popup.WIDTH,OpenLayers.Popup.HEIGHT);null!=d&&(this.contentHTML=d);this.backgroundColor=OpenLayers.Popup.COLOR;this.opacity=OpenLayers.Popup.OPACITY;this.border=OpenLayers.Popup.BORDER;this.div=OpenLayers.Util.createDiv(this.id,null,
null,null,null,null,"hidden");this.div.className=this.displayClass;this.groupDiv=OpenLayers.Util.createDiv(this.id+"_GroupDiv",null,null,null,"relative",null,"hidden");b=this.div.id+"_contentDiv";this.contentDiv=OpenLayers.Util.createDiv(b,null,this.contentSize.clone(),null,"relative");this.contentDiv.className=this.contentDisplayClass;this.groupDiv.appendChild(this.contentDiv);this.div.appendChild(this.groupDiv);this.registerEvents()},getLonLat:function(){return this.lonlat},moveTo:function(b){null!=
b&&null!=this.div&&(this.offsetPixel&&(b=b.add(this.offsetPixel.x,this.offsetPixel.y)),this.div.style.left=b.x+"px",this.div.style.top=b.y+"px")},CLASS_NAME:"PopupCustom"});
OpenLayers.Control.ClickFeature=OpenLayers.Class(OpenLayers.Control,{initialize:function(b){OpenLayers.Control.prototype.initialize.apply(this,arguments)},activate:function(){return OpenLayers.Control.prototype.activate.apply(this,arguments)?(this.map.events.register("mousemove",this,this.redraw),this.redraw(),!0):!1},deactivate:function(){return OpenLayers.Control.prototype.deactivate.apply(this,arguments)?(this.map.events.unregister("mousemove",this,this.redraw),this.element.innerHTML="",!0):!1},
CLASS_NAME:"OpenLayers.Control.ClickFeature"});
OpenLayers.Control.Click=OpenLayers.Class(OpenLayers.Control,{defaultHandlerOptions:{single:!0,"double":!1,pixelTolerance:0,stopSingle:!1,stopDouble:!1},initialize:function(b){this.handlerOptions=OpenLayers.Util.extend({},this.defaultHandlerOptions);OpenLayers.Control.prototype.initialize.apply(this,arguments);this.handler=new OpenLayers.Handler.Click(this,{click:this.onClick,dblclick:this.onDblclick},this.handlerOptions)},onClick:function(b){var c=document.getElementById(this.key+"Output");c.value=
c.value+("click "+b.xy)+"\r\n"},onDblclick:function(b){var c=document.getElementById(this.key+"Output");c.value=c.value+("dblclick "+b.xy)+"\n"}});
OpenLayers.Control.CustomGetFeature=OpenLayers.Class(OpenLayers.Control.GetFeature,{polygon:!1,regularPolygon:!1,all:!1,map:null,initialize:function(b){OpenLayers.Control.GetFeature.prototype.initialize.apply(this,[b]);this.polygon&&(this.handlers.polygon=new OpenLayers.Handler.Polygon(this,{done:this.selectPolygon}));this.regularPolygon&&(this.handlers.regularPolygon=new OpenLayers.Handler.RegularPolygon(this,{done:this.selectRegularPolygon},{sides:50,persist:!1}));this.all&&(b=this.map.getExtent(),
this.setModifiers(this.map.events),this.request(b))},selectRegularPolygon:function(b){b=b.getBounds();this.setModifiers(this.handlers.regularPolygon.evt);this.request(b);OpenLayers.Util.deletePopup()},selectPolygon:function(b){b=b.getBounds();this.setModifiers(this.handlers.polygon.evt);this.request(b)},CLASS_NAME:"OpenLayers.Control.CustomGetFeature"});
var EMD=function(b,c,a,d){var g=b.browser;if(!g){var h=function(b){b=b.toLowerCase();b=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||0>b.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return{browser:b[1]||"",version:b[2]||"0"}}(navigator.userAgent),g={};h.browser&&(g[h.browser]=!0,g.version=h.version);g.chrome?g.webkit=!0:g.webkit&&(g.safari=!0)}return{go:function(b,a,d,c,g){if(0==b.length||
"/"==b.substring(b.length-1))b=b.substring(0,b.length-1);EMD.context_root=b;EMD.gis_engine_url=d;EMD.serverUrl=c;OpenLayers.ImgPath=EMD.context_root+"/images/egovframework/ygpa/gam/maps/";OpenLayers.theme=EMD.context_root+"/js/theme/ygpa/";Proj4js.libPath=EMD.context_root+"/js/Proj4js/";EMD.map_base_url=a;switch(c){case "http://lfitsvr.iptime.org":EMD.vworldKey="B60CBFE2-E105-39B4-B7E7-C737F1512A16";break;case "http://192.168.0.40":EMD.vworldKey="474AD190-F9E9-31C6-BE7C-15EFD66E5DAD";break;case "http://localhost":EMD.vworldKey=
"5E7D605D-BD5A-3BEE-8C20-62172A86B4AA";break;default:EMD.serverUrl="http://localhost",EMD.vworldKey="5E7D605D-BD5A-3BEE-8C20-62172A86B4AA"}EMD._frmwrkMenu=g;OpenLayers.ProxyHost=EMD.context_root+"/proxy.jsp?url=";for(var h in EMD.init)EMD.init[h]()},_frmwrkMenu:null,context_root:"",map_base_url:"",gis_engine_url:"",serverUrl:"",vworldKey:"",window_seq:0,loadAtStartWindow:[],win_x:80,win_y:40,drag_handle:null,dragging:!1,drag_ui:null,userinfo:null,popupCaller:null,popupId:null,popupParams:null,map:null,
map_state:null,map_value:null,map_callback:null,gyhmap:null,wfs:null,lotarea:null,lotareaProtocol:null,panel:null,measurePanel:null,controls:{measureDist:null,measureArea:null},measureControls:null,editControls:[],draw:null,edit:null,edit_win:null,del:null,info:null,save:null,cancel:null,saveStrategy:null,transaction:{type:null,callbackWindowId:null},map_panel:null,userLayer:{landCode:null,prtFclty:null,gisAssetsCd:null,assetRent:null,assetRentDetail:null,assetRentStats:null,gnrlRentStats:null,cntrRentStats:null,
htldRentStats:null,ccntRentStats:null,trnpRentStats:null,portArea:null,quayGroup:null,quayCd:null,berthCd:null,constructCd:null,fcltyConstMarker:null,fcltySocMarker:null,fcltyMechMarker:null,fcltyInfoTeleMarker:null,fcltyElecPowerMarker:null},userStyle:{assetCdStyle:{"default":null,useSttus:null,notUsgArea:null,feeSttus:null,reqSttus:null,evlDtls:null},assetRentStyle:{"default":null,useSttus:null},assetRentDetailStyle:{"default":null,useSttus:null},quayStyle:{"default":null,useSttus:null,notUsgArea:null,
feeSttus:null,reqSttus:null}},popup:{prtFcltyInfo:null,lotAreaInfo:null},popupMenu:{},layerDisplay:{},userFunc:{},startLogLotarea:!1,lotareaStackCnt:0,lotareaFeatures:[],protocols:{prtFclty:null,landCode:null,gisAssetsCd:null,assetRent:null,assetRentDetail:null},filters:{assetRent:null},strategies:{assetRent:null,assetRentDetail:null,assetRentStats:null,gnrlRentStats:null,htldRentStats:null,cntrRentStats:null,ccntRentStats:null,trnpRentStats:null},selectControl:null,selectInfoControl:null,dragFeature:null,
maxBounds:new OpenLayers.Bounds(-3E4,-6E4,494288,988576),maxRes:0.0439453125,maxZoom:14,module_instance:[],init:{frame_breaker:function(){c.location!==c.top.location&&(c.top.location=c.location)},user_init:function(){$DEBUG?EMD.userinfo={name:"\ub514\ubc84\uadf8",authorities:["ROLE_ADMIN"],userId:"TEST1"}:b.ajax({url:EMD.context_root+"/main/getUserInfo.do",type:"POST",async:!1,dataType:"json",global:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:""}).done(function(a){"1"==
a.resultCode?(alert(a.message),b.post(EMD.context_root+"/uat/uia/YGActionLogout.do").done(function(){c.location.reload()})):(EMD.userinfo=a.userInfo,b("#logUserName").text(EMD.userinfo.name))});if(null!=EMD._frmwrkMenu)for(var a=EMD._frmwrkMenu,d=0;d<a.length;d++)switch(a[d].menuNo){case "2100000":var g=a[d].submenu;g instanceof Array&&(EMD.loadAtStartWindow=g);break;case "2200000":g=a[d].submenu;if(g instanceof Array)for(var p=0;p<g.length;p++)EMD.userFunc[g[p].url]=g[p].menuNm;break;case "2300000":g=
a[d].submenu;if(g instanceof Array)for(p=0;p<g.length;p++)EMD.popupMenu[g[p].progrmStrePath]=g[p].url;break;case "2400000":if(g=a[d].submenu,g instanceof Array)for(p=0;p<g.length;p++)EMD.layerDisplay[g[p].progrmStrePath]=g[p].url}},clock:function(){var a=b("#clock");if(a.length){var d=new Date,c=d.getHours(),g=d.getMinutes(),q=d.getDate(),h=d.getFullYear(),r="AM",s,t;s="\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split("");t="1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" ");
s=s[d.getDay()];t=t[d.getMonth()];12<=c&&(r="PM");12<c?c-=12:0===c&&(c=12);10>g&&(g="0"+g);d=t+" "+q+", "+h;a.html(s+" "+c+":"+g+" "+r).attr("title",d);setTimeout(EMD.init.clock,6E4)}},desktop:function(){var k=b(a);b("#progress_dialog").dialog({autoOpen:!1,width:180,height:66,modal:!0,dialogClass:"progress"});b("#file_upload_dialog").dialog({autoOpen:!1,width:640,height:480,modal:!0,resizable:!0,dialogClass:"fileupload"});b("#pfPhoto_upload_dialog").dialog({autoOpen:!1,width:640,height:480,modal:!0,
resizable:!0,dialogClass:"fileupload"});b("#xlsfile_upload_dialog").dialog({autoOpen:!1,width:400,height:300,modal:!0,resizable:!1,dialogClass:"fileupload"});k.mousedown(function(a){b(a.target).is("a.menu_trigger")||b(a.target).is("a")||b(a.target).is("button")||b(a.target).is("input")||b(a.target).is("select")||b(a.target).is("textarea")||b(a.target).is("tr")||(EMD.util.clear_active(),a.preventDefault(),a.stopPropagation())});k.on("contextmenu",function(){return!1});k.on("click","a",function(a){var k=
b(this).attr("href");this.blur();switch(b(this).data("role")){case "LoadModule":if(b(this).data("url")==EMD.context_root+"/")return;EMD.util.create_window(b(this).text(),b(this).data("url"));break;case "CloseAllWindow":EMD.util.clear_active();b("#desktop").find(".window").each(function(){EMD.closeWindow(b(this))});break;case "MinimizeAllWindow":EMD.util.clear_active();b("div.window:visible").length&&b("div.window").hide();break;case "logout":EMD.util.clear_active();b.post(EMD.context_root+"/uat/uia/YGActionLogout.do").done(function(){c.location.reload()});
break;case "getUserInfo":EMD.util.clear_active();EMD.init.user_init();break;case "startLogLandCode":EMD.util.clear_active();EMD.lotareaFeatures=[];EMD.lotareaStackCnt=0;EMD.startLogLotarea=!0;break;case "saveLandCode":EMD.util.clear_active();EMD.startLogLotarea=!1;EMD.protocols.landCode.commit(EMD.lotareaFeatures,{callback:function(b){if(b.error)return alert("error save lotarea"),-1;alert("lotarea saved.")}});EMD.lotareaFeatures=[];break;case "ShowAllWindow":EMD.util.clear_active();b("#dock li:visible a").each(function(){b(b(this).attr("href")).show()});
break;case "SortingWindow":EMD.util.window_flat(),EMD.win_x=80,EMD.win_y=40,b("#desktop").find(".window").each(function(){EMD.util.window_move(b(this).attr("id"),EMD.win_x,EMD.win_y);EMD.win_x+=30;EMD.win_y+=20})}k.match(/^#/)?(a.preventDefault(),a.stopPropagation()):b(this).attr("target","_blank")});k.on("mousedown","a.menu_trigger",function(){b(this).next("ul.menu").is(":hidden")?(EMD.util.clear_active(),b(this).addClass("active").next("ul.menu").show()):EMD.util.clear_active()});k.on("mouseenter",
"a.menu_trigger",function(){b("ul.menu").is(":visible")&&(EMD.util.clear_active(),b(this).addClass("active").next("ul.menu").show())});k.on("mousedown","a.icon",function(){EMD.util.clear_active();b(this).addClass("active")});k.on("dblclick","a.icon",function(){var a=b(this).attr("href"),k=b(a).find("a").attr("href");b(a).is(":hidden")&&(b(a).remove().appendTo("#dock"),b(a).show("fast"));EMD.util.window_flat();b(k).addClass("window_stack").show()});k.on("mouseenter","a.icon",function(){b(this).off("mouseenter").draggable({revert:!0,
containment:"parent"})});k.on("click","#dock a",function(){var a=b(b(this).attr("href"));a.is(":visible")?EMD.util.window_hide(a):EMD.util.window_show(a)});k.on("mousedown","div.window",function(){EMD.util.window_flat();b(this).addClass("window_stack")});k.on("mouseenter","div.window",function(){b(this).off("mouseenter").draggable({cancel:"a",containment:"parent",handle:"div.window_top",start:function(b,a){EMD.dragging=!0;EMD.drag_handle=this},drag:function(b,a){EMD.drag_ui=a},stop:function(b,a){EMD.dragging=
!1;EMD.drag_ui=a;EMD.drag_handle=null}}).resizable({containment:"parent",minWidth:400,minHeight:200,start:function(b,a){EMD.dragging=!0;EMD.drag_handle=this},stop:function(b,a){EMD.dragging=!1;EMD.drag_ui=a;EMD.drag_handle=null}})});k.on("dblclick","div.window_top",function(){EMD.util.window_resize(b(this).closest("div.window"))});k.on("dblclick","div.window_top img",function(){b(b(this).closest("div.window_top").find("a.window_close").attr("href")).hide("fast");b(this).closest("div.window").hide();
return!1});k.on("click","a.window_min",function(){EMD.util.window_hide(b(b(this).attr("href")))});k.on("click","a.window_resize",function(){EMD.util.window_resize(b(b(this).attr("href")))});k.on("click","a.window_close",function(){EMD.util.window_close(b(b(this).attr("href")))});k.on("mousedown","#show_desktop",function(){b("div.window:visible").length?b("div.window").hide():b("#dock li:visible a").each(function(){b(b(this).attr("href")).show()})});b("table.data").each(function(){b(this).find("tbody tr:odd").addClass("zebra")});
k.on("mousedown","table.data tr",function(){EMD.util.clear_active();b(this).closest("tr").addClass("active")});k.on("mouseenter","#cat_menu",function(){b(this).addClass("showCategoryMenu",1E3)});k.on("mouseout","#cat_menu",function(){setTimeout(function(){b(this).removeClass("showCategoryMenu",1E3)})})},wallpaper:function(){b("#desktop")},map_init:function(){initExtent=new OpenLayers.Bounds("-20037508.34","-20037508.34","20037508.34","20037508.34");var a=new OpenLayers.Style;a.addRules([new OpenLayers.Rule({symbolizer:{Point:{pointRadius:4,
graphicName:"square",fillColor:"white",fillOpacity:1,strokeWidth:1,strokeOpacity:1,strokeColor:"#333333"},Line:{strokeWidth:3,strokeOpacity:1,strokeColor:"#800080"},Polygon:{fill:null,strokeWidth:3,strokeOpacity:1,strokeColor:"#800080"}}})]);a=new OpenLayers.StyleMap({"default":a});EMD.map=new OpenLayers.Map("desktop",{div:"desktop",projection:new OpenLayers.Projection("EPSG:900913"),displayProjection:new OpenLayers.Projection("EPSG:5186"),units:"m",numZoomLevels:22,maxResolution:"auto",allOverlays:!0,
maxExtent:initExtent,theme:"css/theme/ygpa/style.css"});var g=new EMD.gis.OpenLayersVworld("\ubc30\uacbd\uc9c0\ub3c4",{isBaseLayer:!0,maxExtent:initExtent,type:"png",numZoomLevels:19,zoomOffset:3,baseurl:EMD.map_base_url,projection:new OpenLayers.Projection("EPSG:900913")});OpenLayers.Util.getParameters(c.location.href);if($DEBUG){var m={url:"http://map.vworld.kr/js/wfs.do?APIKEY="+EMD.vworldKey+"&domain="+EMD.serverUrl,params:{request:"GetFeature",service:"wfs",version:"1.1.0",typeName:"LP_PA_CBND_BUBUN",
srsName:"EPSG:900913"},format:new OpenLayers.Format.GML({geometryName:"AG_GEOM"})};EMD.lotareaProtocol=new OpenLayers.Protocol.HTTP(m);EMD.lotarea=new OpenLayers.Layer.Vector("\uc9c0\ubc88",{minScale:5E3,strategies:[new OpenLayers.Strategy.BBOX({ratio:1})],projection:new OpenLayers.Projection("EPSG:900913"),protocol:EMD.lotareaProtocol,styleMap:new OpenLayers.StyleMap({"default":{strokeColor:"#000000",strokeOpacity:1,strokeWidth:1,fillColor:"#FBFF9A",fillOpacity:0.5,pointRadius:6,pointerEvents:"visiblePainted",
label:"${JIBUN}",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"white",labelOutlineWidth:3},select:{strokeColor:"#00FF00",strokeOpacity:1,strokeWidth:3,fillColor:"#E92FFF",fillOpacity:1,pointRadius:6,pointerEvents:"visiblePainted",label:"${JIBUN}",fontColor:"white",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",
labelOutlineColor:"black",labelOutlineWidth:3}})});EMD.lotarea.events.register("featuresadded",null,function(b){if(EMD.startLogLotarea)for(var a=new OpenLayers.Projection("EPSG:900913"),k=0;k<b.features.length;k++){var c=b.features[k].geometry.clone().transform(a,EMD.map.getProjection()),c=new OpenLayers.Feature.Vector(c,b.features[k].attributes);c.state=OpenLayers.State.INSERT;EMD.lotareaStackCnt++;EMD.protocols.landCode.read({filter:new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"PNU",value:c.attributes.PNU}),data:{feature:c},callback:function(b){EMD.lotareaStackCnt--;if(b.error)return 0;if(b.features.length==d||0===b.features.length){var a=new OpenLayers.Feature;a.geometry=b.data.feature.geometry.clone();a.attributes=b.data.feature.attributes;EMD.protocols.landCode.create(a);a.state=OpenLayers.State.INSERT;var k=b.data.feature.geometry;a.geometry=k.transform(EMD.lotarea.projection,EMD.userLayer.landCode.projection);EMD.lotareaFeatures[EMD.lotareaFeatures.length]=
a;a=new OpenLayers.Feature;a.geometry=k.transform(EMD.lotarea.projection,EMD.map.getProjection());a.attributes=b.data.feature.attributes;EMD.userLayer.landCode.addFeatures([a]);EMD.userLayer.landCode.redraw()}0==EMD.lotareaStackCnt&&alert("stack cleared. "+EMD.lotareaFeatures.length+" count lotarea saved.")}}).data={feature:c}}});EMD.lotarea.events.register("beforefeatureselected",null,function(b){EMD.selectControl.unselectAll();null!=EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),
EMD.popup.lotAreaInfo.destroy(),EMD.popup.lotAreaInfo=null)});EMD.lotarea.events.register("featureselected",null,function(a){var k=a.feature;EMD.gis.getBupjungDongNm(a.feature.attributes.PNU.substring(0,10),{feature:k},function(a){null!=a.feature&&null!=a.feature.geometry||alert("\uc120\ud0dd\ub41c \uc9c0\ubc88\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.");var d=a.resultList[0].name,c="<h2 class='infoClass'>\uc9c0\ubc88 \uc815\ubcf4</h2><div style='font-size:.9em'><br>\uc8fc\uc18c : "+d+" "+a.feature.attributes.JIBUN;
EMD.user.hasAuth("ROLE_ADMIN,ROLE_ASSET_MNGT")&&(c+="<br /><br /><button id='addLotcodeToAsset' data-role='frmwrkButton' data-id='"+a.feature.id+"' >\uc790\uc0b0\uc73c\ub85c \ub4f1\ub85d</button>");c+="</div>";a=new OpenLayers.Popup.FramedCloud("popup",a.feature.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,150),c,null,!0);null!=EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),EMD.popup.lotAreaInfo.destroy());EMD.popup.lotAreaInfo=a;EMD.map.addPopup(a);b("#addLotcodeToAsset").button({icons:{primary:"ui-icon-plus"},
text:!0}).click({feature:k},function(b){var a=new OpenLayers.Projection("EPSG:5186"),a=b.data.feature.geometry.clone().transform(b.data.feature.layer.projection,a);b=new OpenLayers.Feature.Vector(a,b.data.feature.attributes);b.data.locplc=d;EMD.util.create_window("\uc790\uc0b0\uc815\ubcf4\ucd94\uac00",EMD.context_root+"/code/assets/gamAssetCodeMngt.do",null,{action:"addLotcodeFeature",feature:b})})})});EMD.lotarea.events.register("featureunselected",null,function(b){null!=EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),
EMD.popup.lotAreaInfo.destroy(),EMD.popup.lotAreaInfo=null)})}EMD.protocols.landCode=new OpenLayers.Protocol.WFS({version:"1.1.0",service:"WFS",url:EMD.gis_engine_url,featureNS:"http://geogate.g-inno.com/dataserver/datahouse",featurePrefix:"datahouse",featureType:"LP_PA_CBND_BUBUN_A",srsName:"EPSG:5186",geometryName:"G2_SPATIAL"});EMD.protocols.gisAssetsCd=new OpenLayers.Protocol.WFS({version:"1.1.0",service:"WFS",url:EMD.gis_engine_url,featureNS:"http://geogate.g-inno.com/dataserver/datahouse",featurePrefix:"datahouse",
featureType:"GIS_ASSETS_CD_F_A",srsName:"EPSG:5186",geometryName:"G2_SPATIAL"});EMD.protocols.assetRent=new OpenLayers.Protocol.WFS({version:"1.1.0",service:"WFS",url:EMD.gis_engine_url,featureNS:"http://geogate.g-inno.com/dataserver/datahouse",featurePrefix:"datahouse",featureType:"ASSETS_RENT_F_A",srsName:"EPSG:5186",geometryName:"G2_SPATIAL"});EMD.protocols.assetRentDetail=new OpenLayers.Protocol.WFS({version:"1.1.0",service:"WFS",url:EMD.gis_engine_url,featureNS:"http://geogate.g-inno.com/dataserver/datahouse",
featurePrefix:"datahouse",featureType:"ASSETS_RENT_DETAIL_F",srsName:"EPSG:5186",geometryName:"G2_SPATIAL"});EMD.saveStrategy=new OpenLayers.Strategy.Save;EMD.userStyle.assetCdStyle["default"]={"default":{strokeColor:"#000000",strokeOpacity:1,strokeWidth:1,fillColor:"#303294",fillOpacity:0.5,pointRadius:6,pointerEvents:"visiblePainted",label:"\uc2dc\uc124\ucf54\ub4dc: ${GIS_ASSETS_CD}-${GIS_ASSETS_SUB_CD}\n${GIS_ASSETS_NM}",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",
labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"white",labelOutlineWidth:3},select:{strokeColor:"#00FF00",strokeOpacity:1,strokeWidth:3,fillColor:"#303294",fillOpacity:1,pointRadius:6,pointerEvents:"visiblePainted",label:"\uc2dc\uc124\ucf54\ub4dc: ${GIS_ASSETS_CD}-${GIS_ASSETS_SUB_CD}\n${GIS_ASSETS_NM}",fontColor:"white",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"black",labelOutlineWidth:3}};
EMD.userStyle.assetCdStyle.evlDtls={"default":{strokeColor:"#000000",strokeOpacity:1,strokeWidth:1,fillColor:"#73D7CF",fillOpacity:0.8,pointRadius:6,pointerEvents:"visiblePainted",label:"\uc790\uc0b0\uba85:${GIS_ASSETS_NM}\n\uc790\ubcf8\uc801\uc9c0\ucd9c\uae08\uc561:${assetBuyAmt}\n\uc794\uc874\uae08\uc561:${curAmt}",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"white",labelOutlineWidth:3},
select:{strokeColor:"#76750A",strokeOpacity:1,strokeWidth:3,fillColor:"#8D1594",fillOpacity:1,pointRadius:6,pointerEvents:"visiblePainted",label:"\uc790\uc0b0\uba85:${GIS_ASSETS_NM}\n\uc790\ubcf8\uc801\uc9c0\ucd9c\uae08\uc561:${assetBuyAmt}\n\uc794\uc874\uae08\uc561:${curAmt}",fontColor:"white",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"black",labelOutlineWidth:3}};EMD.userLayer.landCode=new OpenLayers.Layer.Vector("\uc9c0\ubc88",
{minScale:9E3,strategies:[new OpenLayers.Strategy.BBOX({ratio:1})],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.landCode,styleMap:new OpenLayers.StyleMap({"default":{strokeColor:"#000000",strokeOpacity:1,strokeWidth:1,fillColor:"#FBFF9A",fillOpacity:0.5,pointRadius:6,pointerEvents:"visiblePainted",label:"[${JIBUN}]",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"white",
labelOutlineWidth:3},select:{strokeColor:"#00FF00",strokeOpacity:1,strokeWidth:3,fillColor:"#E92FFF",fillOpacity:1,pointRadius:6,pointerEvents:"visiblePainted",label:"!${JIBUN}",fontColor:"white",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"black",labelOutlineWidth:3}})});EMD.userLayer.landCode.events.register("beforefeatureselected",null,function(b){EMD.selectControl.unselectAll();null!=EMD.popup.lotAreaInfo&&
(EMD.map.removePopup(EMD.popup.lotAreaInfo),EMD.popup.lotAreaInfo.destroy(),EMD.popup.lotAreaInfo=null)});EMD.userLayer.landCode.events.register("featureselected",null,function(a){var k=a.feature;EMD.gis.getBupjungDongNm(a.feature.attributes.PNU.substring(0,10),{feature:k},function(a){null!=a.feature&&null!=a.feature.geometry||alert("\uc120\ud0dd\ub41c \uc9c0\ubc88\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.");var d=a.resultList[0].name,c="<h2 class='infoClass'>\uc9c0\ubc88 \uc815\ubcf4</h2><div style='font-size:.9em'><br>\uc8fc\uc18c : "+
d+" "+a.feature.attributes.JIBUN;EMD.user.hasAuth("ROLE_ADMIN,ROLE_ASSET_MNGT")&&(c+="<br /><br /><button id='addLotcodeToAsset' data-role='frmwrkButton' data-id='"+a.feature.id+"' >\uc790\uc0b0\uc73c\ub85c \ub4f1\ub85d</button>");c+="</div>";a=new OpenLayers.Popup.FramedCloud("popup",a.feature.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,150),c,null,!0);null!=EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),EMD.popup.lotAreaInfo.destroy());EMD.popup.lotAreaInfo=a;EMD.map.addPopup(a);
b("#addLotcodeToAsset").button({icons:{primary:"ui-icon-plus"},text:!0}).click({feature:k},function(b){var a=b.data.feature.geometry.clone();b=new OpenLayers.Feature.Vector(a,b.data.feature.attributes);b.data.locplc=d;EMD.util.create_window("\uc790\uc0b0\uc815\ubcf4\ucd94\uac00",EMD.context_root+"/code/assets/gamAssetCodeMngt.do",null,{action:"addLotcodeFeature",feature:b})})})});EMD.userLayer.landCode.events.register("featureunselected",null,function(b){null!=EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),
EMD.popup.lotAreaInfo.destroy(),EMD.popup.lotAreaInfo=null)});EMD.userLayer.gisAssetsCd=new OpenLayers.Layer.Vector("\uc790\uc0b0\uc815\ubcf4",{minScale:9E3,strategies:[new OpenLayers.Strategy.Fixed,EMD.saveStrategy],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.gisAssetsCd,styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetCdStyle["default"])});EMD.userLayer.gisAssetsCd.events.register("featuresadded",null,function(b){});EMD.userLayer.gisAssetsCd.events.register("featureselected",
null,function(a){var k=a.feature;b.post(EMD.context_root+"/maps/assets/gamAssetCdInfo.do",[{name:"gisAssetsPrtAtCode",value:a.feature.attributes.GIS_ASSETS_PRT_AT_CODE},{name:"gisAssetsCd",value:a.feature.attributes.GIS_ASSETS_CD},{name:"gisAssetsSubCd",value:a.feature.attributes.GIS_ASSETS_SUB_CD}]).done(function(a){a=new OpenLayers.Popup.FramedCloud("popup",k.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,150),a,null,!0);k.popup=a;EMD.map.addPopup(a);b("button[data-role='assetMngt']",
a.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click(function(a){EMD.util.create_window(b(this).text(),EMD.context_root+"/code/assets/gamAssetCodeMngt.do",null,{action:"prtFcltyInqire",gisPrtAtCode:b(this).data("assets-prt-at-code"),gisAssetsCd:b(this).data("assets-cd"),gisAssetsSubCd:b(this).data("assets-sub-cd")})});b("button[data-role='assetInqire']",a.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(a){EMD.util.create_window(b(this).text(),EMD.context_root+
"/code/assets/gamAssetCodeList.do",null,{action:"prtFcltyInqire",gisPrtAtCode:b(this).data("assets-prt-at-code"),gisAssetsCd:b(this).data("assets-cd"),gisAssetsSubCd:b(this).data("assets-sub-cd")})});b("button[data-role='modifyFeature']",a.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click({feature:k},function(a){EMD.util.create_window(b(this).text(),EMD.context_root+"/code/assets/gamAssetCodeMngt.do",null,{action:"modifyFeature",gisPrtAtCode:b(this).data("assets-prt-at-code"),gisAssetsCd:b(this).data("assets-cd"),
gisAssetsSubCd:b(this).data("assets-sub-cd"),feature:a.data.feature})});b("button[data-role='removeFeature']",a.contentDiv).button({icons:{primary:"ui-icon-trash"}}).click({feature:k},function(b){EMD.map.removePopup(b.data.feature.popup);b.data.feature.state=OpenLayers.State.DELETE;EMD.userLayer.gisAssetsCd.removeFeatures([b.data.feature]);EMD.saveStrategy.save()});a.updateSize()})});EMD.userLayer.gisAssetsCd.events.register("featureunselected",null,function(b){b=b.feature;null!=b.popup&&(EMD.map.removePopup(b.popup),
b.popup.destroy(),b.popup=null)});EMD.userStyle.assetRentStyle["default"]={"default":{strokeColor:"#000000",strokeOpacity:1,strokeWidth:1,fillColor:"#6EBDA8",fillOpacity:0.5,pointRadius:6,pointerEvents:"visiblePainted",label:"\uad00\ub9ac\ubc88\ud638: ${MNG_YEAR}-${MNG_NO}-${MNG_CNT}\n${USAGE_PD_FROM}~${USAGE_PD_TO}",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"white",labelOutlineWidth:3},
select:{strokeColor:"#00FF00",strokeOpacity:1,strokeWidth:3,fillColor:"#D5DD03",fillOpacity:1,pointRadius:6,pointerEvents:"visiblePainted",label:"\uad00\ub9ac\ubc88\ud638: ${MNG_YEAR}-${MNG_NO}-${MNG_CNT}\n${USAGE_PD_FROM}~${USAGE_PD_TO}",fontColor:"white",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"black",labelOutlineWidth:3}};EMD.userStyle.assetRentDetailStyle["default"]={"default":{strokeColor:"#000000",
strokeOpacity:1,strokeWidth:1,fillColor:"#6EBDA8",fillOpacity:0.5,pointRadius:6,pointerEvents:"visiblePainted",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"white",labelOutlineWidth:3},select:{strokeColor:"#00FF00",strokeOpacity:1,strokeWidth:3,fillColor:"#D5DD03",fillOpacity:1,pointRadius:6,pointerEvents:"visiblePainted",fontColor:"white",fontSize:"12px",fontFamily:"Courier New, monospace",
fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"black",labelOutlineWidth:3}};EMD.strategies.assetRentDetail=new OpenLayers.Strategy.Filter;EMD.strategies.assetRentDetail.deactivate();EMD.userLayer.assetRentDetail=new OpenLayers.Layer.Vector("\uc2dc\uc124\uc784\ub300\uc0c1\uc138",{minScale:2E4,strategies:[new OpenLayers.Strategy.Refresh,EMD.saveStrategy],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.assetRentDetail,displayInLayerSwitcher:!1,
styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetRentDetailStyle["default"])});EMD.userLayer.assetRentDetail.events.register("featuresadded",null,function(b){});EMD.userLayer.assetRentDetail.events.register("featureselected",null,function(a){var k=a.feature;b.post(EMD.context_root+"/maps/assets/gamMNGInfo.do",[{name:"prtAtCode",value:a.feature.attributes.PRT_AT_CODE},{name:"mngYear",value:a.feature.attributes.MNG_YEAR},{name:"mngNo",value:a.feature.attributes.MNG_NO},{name:"mngCnt",value:a.feature.attributes.MNG_CNT}]).done(function(a){a=
new OpenLayers.Popup.FramedCloud("popup",k.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,150),a,null,!0);k.popup=a;EMD.map.addPopup(a);b("button[data-role='assetMngt']",a.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click(function(a){EMD.util.create_window(b(this).text(),EMD.context_root+"/code/assets/gamAssetCodeMngt.do",null,{action:"prtFcltyInqire",gisPrtAtCode:b(this).data("assets-prt-at-code"),gisAssetsCd:b(this).data("assets-cd"),gisAssetsSubCd:b(this).data("assets-sub-cd")})});
b("button[data-role='assetInqire']",a.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(a){EMD.util.create_window(b(this).text(),EMD.context_root+"/code/assets/gamAssetCodeList.do",null,{action:"prtFcltyInqire",gisPrtAtCode:b(this).data("assets-prt-at-code"),gisAssetsCd:b(this).data("assets-cd"),gisAssetsSubCd:b(this).data("assets-sub-cd")})});b("button[data-role='modifyFeature']",a.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click({feature:k},function(a){EMD.util.create_window(b(this).text(),
EMD.context_root+"/code/assets/gamAssetCodeMngt.do",null,{action:"modifyFeature",gisPrtAtCode:b(this).data("assets-prt-at-code"),gisAssetsCd:b(this).data("assets-cd"),gisAssetsSubCd:b(this).data("assets-sub-cd"),feature:a.data.feature})});b("button[data-role='removeFeature']",a.contentDiv).button({icons:{primary:"ui-icon-trash"}}).click({feature:k},function(b){EMD.map.removePopup(b.data.feature.popup);b.data.feature.state=OpenLayers.State.DELETE;EMD.userLayer.gisAssetsCd.removeFeatures([b.data.feature]);
EMD.saveStrategy.save()});a.updateSize()})});EMD.userLayer.assetRentDetail.events.register("featureunselected",null,function(b){b=b.feature;null!=b.popup&&(EMD.map.removePopup(b.popup),b.popup.destroy(),b.popup=null)});EMD.strategies.assetRentStats=new OpenLayers.Strategy.Filter;EMD.userLayer.assetRentStats=new OpenLayers.Layer.Vector("\uc784\ub300\ud604\ud669",{minScale:1E4,strategies:[new OpenLayers.Strategy.BBOX,EMD.strategies.assetRentStats],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.assetRentDetail,
styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetRentStyle["default"])});EMD.strategies.assetRentStats.deactivate();EMD.userLayer.assetRentStats.events.register("featuresadded",null,function(b){});EMD.userLayer.assetRentStats.events.register("featureselected",null,function(a){var k=a.feature;b.post(EMD.context_root+"/maps/assets/gamAssetRentInfo.do",[{name:"prtAtCode",value:a.feature.attributes.PRT_AT_CODE},{name:"mngYear",value:a.feature.attributes.MNG_YEAR},{name:"mngNo",value:a.feature.attributes.MNG_NO},
{name:"mngCnt",value:a.feature.attributes.MNG_CNT}]).done(function(a){a=new OpenLayers.Popup.FramedCloud("popup",k.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,150),a,null,!0);k.popup=a;EMD.map.addPopup(a);b("button[data-role='assetRentMngt']",a.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click(function(a){EMD.util.create_window(b(this).text(),EMD.context_root+"/code/assets/gamAssetRentMngt.do",null,{action:"assetRentMngt",prtAtCode:b(this).data("prt-at-code"),mngYear:b(this).data("mng-year"),
mngNo:b(this).data("mng-no"),mngCnt:b(this).data("mng-cnt")})});b("button[data-role='assetRentInqire']",a.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(a){EMD.util.create_window(b(this).text(),EMD.context_root+"/code/assets/gamAssetRentInqire.do",null,{action:"assetRentInqire",prtAtCode:b(this).data("prt-at-code"),mngYear:b(this).data("mng-year"),mngNo:b(this).data("mng-no"),mngCnt:b(this).data("mng-cnt")})});a.updateSize()})});EMD.userLayer.assetRentStats.events.register("featureunselected",
null,function(b){b=b.feature;null!=b.popup&&(EMD.map.removePopup(b.popup),b.popup.destroy(),b.popup=null)});EMD.strategies.gnrlRentStats=new OpenLayers.Strategy.Filter;EMD.strategies.gnrlRentStats.deactivate();EMD.userLayer.gnrlRentStats=new OpenLayers.Layer.Vector("\uc77c\ubc18\ubd80\ub450 \uc784\ub300\ud604\ud669",{minScale:1E4,strategies:[EMD.strategies.gnrlRentStats],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.assetRent,styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetRentStyle["default"])});
EMD.userLayer.gnrlRentStats.events.register("featuresadded",null,function(b){});EMD.userLayer.gnrlRentStats.events.register("featureselected",null,function(a){var k=a.feature;b.post(EMD.context_root+"/oper/gnrl/gamPrtFcltyRentMngt.do",[{name:"prtAtCode",value:a.feature.attributes.PRT_AT_CODE},{name:"mngYear",value:a.feature.attributes.MNG_YEAR},{name:"mngNo",value:a.feature.attributes.MNG_NO},{name:"mngCnt",value:a.feature.attributes.MNG_CNT}]).done(function(a){a=new OpenLayers.Popup.FramedCloud("popup",
k.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,150),a,null,!0);k.popup=a;EMD.map.addPopup(a);b("button[data-role='assetRentMngt']",a.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click(function(a){EMD.util.create_window(b(this).text(),EMD.context_root+"/code/assets/gamAssetRentMngt.do",null,{action:"assetRentMngt",prtAtCode:b(this).data("prt-at-code"),mngYear:b(this).data("mng-year"),mngNo:b(this).data("mng-no"),mngCnt:b(this).data("mng-cnt")})});b("button[data-role='assetRentInqire']",
a.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(a){EMD.util.create_window(b(this).text(),EMD.context_root+"/code/assets/gamAssetRentInqire.do",null,{action:"assetRentInqire",prtAtCode:b(this).data("prt-at-code"),mngYear:b(this).data("mng-year"),mngNo:b(this).data("mng-no"),mngCnt:b(this).data("mng-cnt")})});a.updateSize()})});EMD.userLayer.gnrlRentStats.events.register("featureunselected",null,function(b){b=b.feature;null!=b.popup&&(EMD.map.removePopup(b.popup),b.popup.destroy(),
b.popup=null)});EMD.strategies.cntrRentStats=new OpenLayers.Strategy.Filter;EMD.strategies.cntrRentStats.deactivate();EMD.userLayer.cntrRentStats=new OpenLayers.Layer.Vector("\ucee8\ud14c\uc774\ub108\ubd80\ub450 \uc784\ub300\ud604\ud669",{minScale:1E4,strategies:[EMD.strategies.cntrRentStats],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.assetRent,styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetRentStyle["default"])});EMD.userLayer.cntrRentStats.events.register("featuresadded",
null,function(b){});EMD.userLayer.cntrRentStats.events.register("featureselected",null,function(a){var k=a.feature;b.post(EMD.context_root+"/oper/gnrl/gamPrtFcltyRentMngt.do",[{name:"prtAtCode",value:a.feature.attributes.PRT_AT_CODE},{name:"mngYear",value:a.feature.attributes.MNG_YEAR},{name:"mngNo",value:a.feature.attributes.MNG_NO},{name:"mngCnt",value:a.feature.attributes.MNG_CNT}]).done(function(a){a=new OpenLayers.Popup.FramedCloud("popup",k.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,
150),a,null,!0);k.popup=a;EMD.map.addPopup(a);b("button[data-role='assetRentMngt']",a.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click(function(a){EMD.util.create_window(b(this).text(),EMD.context_root+"/code/assets/gamAssetRentMngt.do",null,{action:"assetRentMngt",prtAtCode:b(this).data("prt-at-code"),mngYear:b(this).data("mng-year"),mngNo:b(this).data("mng-no"),mngCnt:b(this).data("mng-cnt")})});b("button[data-role='assetRentInqire']",a.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(a){EMD.util.create_window(b(this).text(),
EMD.context_root+"/code/assets/gamAssetRentInqire.do",null,{action:"assetRentInqire",prtAtCode:b(this).data("prt-at-code"),mngYear:b(this).data("mng-year"),mngNo:b(this).data("mng-no"),mngCnt:b(this).data("mng-cnt")})});a.updateSize()})});EMD.userLayer.cntrRentStats.events.register("featureunselected",null,function(b){b=b.feature;null!=b.popup&&(EMD.map.removePopup(b.popup),b.popup.destroy(),b.popup=null)});EMD.strategies.htldRentStats=new OpenLayers.Strategy.Filter;EMD.strategies.htldRentStats.deactivate();
EMD.userLayer.htldRentStats=new OpenLayers.Layer.Vector("\ubc30\ud6c4\ub2e8\uc9c0 \uc784\ub300\ud604\ud669",{minScale:1E4,strategies:[EMD.strategies.htldRentStats],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.assetRent,styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetRentStyle["default"])});EMD.userLayer.htldRentStats.events.register("featuresadded",null,function(b){});EMD.userLayer.htldRentStats.events.register("featureselected",null,function(a){var k=a.feature;b.post(EMD.context_root+
"/oper/gnrl/gamPrtFcltyRentMngt.do",[{name:"prtAtCode",value:a.feature.attributes.PRT_AT_CODE},{name:"mngYear",value:a.feature.attributes.MNG_YEAR},{name:"mngNo",value:a.feature.attributes.MNG_NO},{name:"mngCnt",value:a.feature.attributes.MNG_CNT}]).done(function(a){a=new OpenLayers.Popup.FramedCloud("popup",k.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,150),a,null,!0);k.popup=a;EMD.map.addPopup(a);b("button[data-role='assetRentMngt']",a.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click(function(a){EMD.util.create_window(b(this).text(),
EMD.context_root+"/code/assets/gamAssetRentMngt.do",null,{action:"assetRentMngt",prtAtCode:b(this).data("prt-at-code"),mngYear:b(this).data("mng-year"),mngNo:b(this).data("mng-no"),mngCnt:b(this).data("mng-cnt")})});b("button[data-role='assetRentInqire']",a.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(a){EMD.util.create_window(b(this).text(),EMD.context_root+"/code/assets/gamAssetRentInqire.do",null,{action:"assetRentInqire",prtAtCode:b(this).data("prt-at-code"),mngYear:b(this).data("mng-year"),
mngNo:b(this).data("mng-no"),mngCnt:b(this).data("mng-cnt")})});a.updateSize()})});EMD.userLayer.htldRentStats.events.register("featureunselected",null,function(b){b=b.feature;null!=b.popup&&(EMD.map.removePopup(b.popup),b.popup.destroy(),b.popup=null)});EMD.strategies.ccntRentStats=new OpenLayers.Strategy.Filter;EMD.strategies.ccntRentStats.deactivate();EMD.userLayer.ccntRentStats=new OpenLayers.Layer.Vector("\uacf5\ucee8\uc7a5\uce58\uc7a5 \uc784\ub300\ud604\ud669",{minScale:1E4,strategies:[EMD.strategies.ccntRentStats],
projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.assetRent,styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetRentStyle["default"])});EMD.userLayer.ccntRentStats.events.register("featuresadded",null,function(b){});EMD.userLayer.ccntRentStats.events.register("featureselected",null,function(a){var k=a.feature;b.post(EMD.context_root+"/oper/gnrl/gamPrtFcltyRentMngt.do",[{name:"prtAtCode",value:a.feature.attributes.PRT_AT_CODE},{name:"mngYear",value:a.feature.attributes.MNG_YEAR},
{name:"mngNo",value:a.feature.attributes.MNG_NO},{name:"mngCnt",value:a.feature.attributes.MNG_CNT}]).done(function(a){a=new OpenLayers.Popup.FramedCloud("popup",k.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,150),a,null,!0);k.popup=a;EMD.map.addPopup(a);b("button[data-role='assetRentMngt']",a.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click(function(a){EMD.util.create_window(b(this).text(),EMD.context_root+"/code/assets/gamAssetRentMngt.do",null,{action:"assetRentMngt",prtAtCode:b(this).data("prt-at-code"),
mngYear:b(this).data("mng-year"),mngNo:b(this).data("mng-no"),mngCnt:b(this).data("mng-cnt")})});b("button[data-role='assetRentInqire']",a.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(a){EMD.util.create_window(b(this).text(),EMD.context_root+"/code/assets/gamAssetRentInqire.do",null,{action:"assetRentInqire",prtAtCode:b(this).data("prt-at-code"),mngYear:b(this).data("mng-year"),mngNo:b(this).data("mng-no"),mngCnt:b(this).data("mng-cnt")})});a.updateSize()})});EMD.userLayer.ccntRentStats.events.register("featureunselected",
null,function(b){b=b.feature;null!=b.popup&&(EMD.map.removePopup(b.popup),b.popup.destroy(),b.popup=null)});EMD.strategies.trnpRentStats=new OpenLayers.Strategy.Filter;EMD.strategies.trnpRentStats.deactivate();EMD.userLayer.trnpRentStats=new OpenLayers.Layer.Vector("\uacf5\ucee8\uc7a5\uce58\uc7a5 \uc784\ub300\ud604\ud669",{minScale:1E4,strategies:[EMD.strategies.trnpRentStats],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.assetRent,styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetRentStyle["default"])});
EMD.userLayer.trnpRentStats.events.register("featuresadded",null,function(b){});EMD.userLayer.trnpRentStats.events.register("featureselected",null,function(a){var k=a.feature;b.post(EMD.context_root+"/oper/gnrl/gamPrtFcltyRentMngt.do",[{name:"prtAtCode",value:a.feature.attributes.PRT_AT_CODE},{name:"mngYear",value:a.feature.attributes.MNG_YEAR},{name:"mngNo",value:a.feature.attributes.MNG_NO},{name:"mngCnt",value:a.feature.attributes.MNG_CNT}]).done(function(a){a=new OpenLayers.Popup.FramedCloud("popup",
k.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,150),a,null,!0);k.popup=a;EMD.map.addPopup(a);b("button[data-role='assetRentMngt']",a.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click(function(a){EMD.util.create_window(b(this).text(),EMD.context_root+"/code/assets/gamAssetRentMngt.do",null,{action:"assetRentMngt",prtAtCode:b(this).data("prt-at-code"),mngYear:b(this).data("mng-year"),mngNo:b(this).data("mng-no"),mngCnt:b(this).data("mng-cnt")})});b("button[data-role='assetRentInqire']",
a.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(a){EMD.util.create_window(b(this).text(),EMD.context_root+"/code/assets/gamAssetRentInqire.do",null,{action:"assetRentInqire",prtAtCode:b(this).data("prt-at-code"),mngYear:b(this).data("mng-year"),mngNo:b(this).data("mng-no"),mngCnt:b(this).data("mng-cnt")})});a.updateSize()})});EMD.userLayer.trnpRentStats.events.register("featureunselected",null,function(b){b=b.feature;null!=b.popup&&(EMD.map.removePopup(b.popup),b.popup.destroy(),
b.popup=null)});EMD.userLayer.prtFclty=new OpenLayers.Layer.Vector("\uc2dc\uc124\ucf54\ub4dc",{fillColor:"#073EC9",fillOpacity:0.8,strokeColor:"#414141",strokeOpacity:1,strokeWidth:3,pointRadius:6,pointerEvents:"visiblePainted",styleMap:new OpenLayers.StyleMap({"default":{strokeColor:"#000000",strokeOpacity:1,strokeWidth:1,fillColor:"#303294",fillOpacity:0.5,pointRadius:6,pointerEvents:"visiblePainted",label:"\uc2dc\uc124\ucf54\ub4dc: ${FCLTY}\n\uc2dc\uc124\uba85: ${name}\n\n\uc18d\uc131: ${type}",
fontColor:"${favColor}",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"${xOffset}",labelYOffset:"${yOffset}",labelOutlineColor:"white",labelOutlineWidth:3},select:{strokeColor:"#00FF00",strokeOpacity:1,strokeWidth:3,fillColor:"#303294",fillOpacity:1,pointRadius:6,pointerEvents:"visiblePainted",label:"\uc2dc\uc124\ucf54\ub4dc: ${fcltyCd}\n\uc2dc\uc124\uba85: ${name}\n\n\uc18d\uc131: ${type}",fontColor:"${favColor}",fontSize:"12px",fontFamily:"Courier New, monospace",
fontWeight:"bold",labelAlign:"cm",labelXOffset:"${xOffset}",labelYOffset:"${yOffset}",labelOutlineColor:"white",labelOutlineWidth:3}}),renderers:OpenLayers.Layer.Vector.prototype.renderers});EMD.userLayer.fcltyConstMarker=new OpenLayers.Layer.Vector("\uac74\ucd95 \uc2dc\uc124",{minScale:5E3});EMD.userLayer.fcltyConstMarker.events.register("featureselected",null,function(a){b.ajax({url:EMD.context_root+"/maps/fclty/gamFcltyInfo.do",type:"POST",dataType:"json",global:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
data:[{name:"gisAssetsPrtAtCode",value:a.feature.attributes.gisAssetsPrtAtCode},{name:"gisAssetsCd",value:a.feature.attributes.gisAssetsCd},{name:"gisAssetsSubCd",value:a.feature.attributes.gisAssetsSubCd},{name:"gisPrtFcltyCd",value:a.feature.attributes.gisPrtFcltyCd},{name:"gisPrtFcltySeq",value:a.feature.attributes.gisPrtFcltySeq},{name:"prtFcltySe",value:a.feature.attributes.prtFcltySe}]}).done(function(a){if(0==a.resultCode){var k="<div class='prtFcltyInfo'><h2>\uac74\ucd95\uc2dc\uc124\uc815\ubcf4</h2><table class='prtFcltyInfo'><tbody>";
a=a.result;null==a&&alert("\uc120\ud0dd\ud55c \uc2dc\uc124\uc758 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");k+="<tr><th>\uc790\uc0b0\ucf54\ub4dc</th><td>"+a.gisAssetsCd+"-"+a.gisAssetsSubCd+"</td></tr>";k+="<tr><th>\uc2dc\uc124\ucf54\ub4dc</th><td>"+a.gisPrtFcltyCd+"-"+a.gisPrtFcltySeq+"</td></tr>";null!=a.prtFcltyNm&&(k+="<tr><th>\uc2dc\uc124\uba85</th><td>"+a.prtFcltyNm+"</td></tr>");null!=a.gisAssetsLocplc&&(k+="<tr><th>\uc18c\uc7ac\uc9c0</th><td>"+a.gisAssetsLocplc+" "+(a.gisAssetsLnm+(null!=
a.gisAssetsLnmSub&&0<a.gisAssetsLnmSub.length?"-"+a.gisAssetsLnmSub:""))+"</td></tr>");null!=a.filenmPhysicl&&(k+="<tr><th>\uc2dc\uc124\uc0ac\uc9c4</th><td><img src='"+EMD.context_root+"/cmm/getPfImage.do?physicalFileNm="+a.filenmPhysicl+"' style='width:300px;' /></td></tr>");k+="<tr><td colSpan='2' style='align: right;'>";EMD.popupMenu.fcltyConstPopMngt!=d&&(k+="<td><button id='btnPrtfcltyMngt' data-role='frmwrkButton' data-assets-prt-at-code='"+a.gisAssetsPrtAtCode+"' data-assets-cd='"+a.gisAssetsCd+
"' data-assets-sub-cd='"+a.gisAssetsSubCd+"' data-prt-fclty-cd='"+a.gisPrtFcltyCd+"' data-prt-fclty-seq='"+a.gisPrtFcltySeq+"' data-prt-fclty-se='"+a.prtFcltySe+"' >\uc2dc\uc124\uad00\ub9ac</button></td>");EMD.popupMenu.fcltyConstPopInqire!=d&&(k+="<td><button id='btnPrtfcltyInqire' data-role='frmwrkButton' data-assets-prt-at-code='"+a.gisAssetsPrtAtCode+"' data-assets-cd='"+a.gisAssetsCd+"' data-assets-sub-cd='"+a.gisAssetsSubCd+"' data-prt-fclty-cd='"+a.gisPrtFcltyCd+"' data-prt-fclty-seq='"+a.gisPrtFcltySeq+
"' data-prt-fclty-se='"+a.prtFcltySe+"' >\uc2dc\uc124\uc870\ud68c</button></td>");k+="</tr></tbody></table>";null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null);if((null==a.loCrdnt||null==a.laCrdnt)&&null!=a.lat&&null!=a.lng){var c=new OpenLayers.LonLat(a.lng,a.lat),g=new OpenLayers.Projection("EPSG:4326"),c=c.transform(g,new OpenLayers.Projection("EPSG:900913"));a.loCrdnt=c.lon;a.laCrdnt=c.lat}EMD.popup.prtFcltyInfo=new OpenLayers.Popup.FramedCloud("\uac74\ucd95\uc2dc\uc124\uc815\ubcf4",
new OpenLayers.LonLat(a.loCrdnt,a.laCrdnt),new OpenLayers.Size(250,150),k,null,!0);EMD.map.addPopup(EMD.popup.prtFcltyInfo);b("#btnPrtfcltyMngt").button({icons:{primary:"ui-icon-wrench"},text:!0}).click(function(a){a="";a=EMD.popupMenu.fcltyConstPopMngt;EMD.util.create_window("\uac74\ucd95 \uc2dc\uc124 \uad00\ub9ac",EMD.context_root+a,null,{action:"prtFcltyMngt",gisPrtAtCode:b(this).data("assets-prt-at-code"),gisAssetsCd:b(this).data("assets-cd"),gisAssetsSubCd:b(this).data("assets-sub-cd"),gisPrtFcltyCd:b(this).data("prt-fclty-cd"),
gisPrtFcltySeq:b(this).data("prt-fclty-seq"),gisPrtFcltySe:b(this).data("prt-fclty-se")})});b("#btnPrtfcltyInqire").button({icons:{primary:"ui-icon-folder-open"},text:!0}).click(function(a){a="";a=EMD.popupMenu.fcltyConstPopInqire;EMD.util.create_window("\uac74\ucd95 \uc2dc\uc124 \uc870\ud68c",EMD.context_root+a,null,{action:"prtFcltyMngt",gisPrtAtCode:b(this).data("assets-prt-at-code"),gisAssetsCd:b(this).data("assets-cd"),gisAssetsSubCd:b(this).data("assets-sub-cd"),gisPrtFcltyCd:b(this).data("prt-fclty-cd"),
gisPrtFcltySeq:b(this).data("prt-fclty-seq"),gisPrtFcltySe:b(this).data("prt-fclty-se")})});EMD.popup.prtFcltyInfo.updateSize();b(".prtFcltyInfo td > img").load(function(a){b("h2",EMD.popup.prtFcltyInfo.contentDiv);b("table.prtFcltyInfo",EMD.popup.prtFcltyInfo.contentDiv);EMD.popup.prtFcltyInfo.updateSize()})}})});EMD.userLayer.fcltyConstMarker.events.register("featureunselected",null,function(b){null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null)});
EMD.userLayer.fcltySocMarker=new OpenLayers.Layer.Vector("\ud1a0\ubaa9 \uc2dc\uc124",{minScale:5E3});EMD.userLayer.fcltySocMarker.events.register("featureselected",null,function(a){b.ajax({url:EMD.context_root+"/maps/fclty/gamFcltyInfo.do",type:"POST",dataType:"json",global:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"gisAssetsPrtAtCode",value:a.feature.attributes.gisAssetsPrtAtCode},{name:"gisAssetsCd",value:a.feature.attributes.gisAssetsCd},{name:"gisAssetsSubCd",
value:a.feature.attributes.gisAssetsSubCd},{name:"gisPrtFcltyCd",value:a.feature.attributes.gisPrtFcltyCd},{name:"gisPrtFcltySeq",value:a.feature.attributes.gisPrtFcltySeq},{name:"prtFcltySe",value:a.feature.attributes.prtFcltySe}]}).done(function(a){if(0==a.resultCode){var k="<div class='prtFcltyInfo'><h2>\ud1a0\ubaa9\uc2dc\uc124\uc815\ubcf4</h2><table class='prtFcltyInfo'><tbody>";a=a.result;null==a&&alert("\uc120\ud0dd\ud55c \uc2dc\uc124\uc758 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");k+=
"<tr><th>\uc790\uc0b0\ucf54\ub4dc</th><td>"+a.gisAssetsCd+"-"+a.gisAssetsSubCd+"</td></tr>";k+="<tr><th>\uc2dc\uc124\ucf54\ub4dc</th><td>"+a.gisPrtFcltyCd+"-"+a.gisPrtFcltySeq+"</td></tr>";null!=a.prtFcltyNm&&(k+="<tr><th>\uc2dc\uc124\uba85</th><td>"+a.prtFcltyNm+"</td></tr>");null!=a.gisAssetsLocplc&&(k+="<tr><th>\uc18c\uc7ac\uc9c0</th><td>"+a.gisAssetsLocplc+" "+(a.gisAssetsLnm+(null!=a.gisAssetsLnmSub&&0<a.gisAssetsLnmSub.length)?"-"+a.gisAssetsLnmSub:"")+"</td></tr>");null!=a.filenmPhysicl&&(k+=
"<tr><th>\uc2dc\uc124\uc0ac\uc9c4</th><td><img src='"+EMD.context_root+"/cmm/getPfImage.do?physicalFileNm="+a.filenmPhysicl+"' style='width:300px;' /></td></tr>");k+="<tr><td colSpan='2' style='align: right;'>";EMD.popupMenu.fcltySocPopMngt!=d&&(k+="<td><button id='btnPrtfcltyMngt' data-role='frmwrkButton' data-assets-prt-at-code='"+a.gisAssetsPrtAtCode+"' data-assets-cd='"+a.gisAssetsCd+"' data-assets-sub-cd='"+a.gisAssetsSubCd+"' data-prt-fclty-cd='"+a.gisPrtFcltyCd+"' data-prt-fclty-seq='"+a.gisPrtFcltySeq+
"' data-prt-fclty-se='"+a.prtFcltySe+"' >\uc2dc\uc124\uad00\ub9ac</button></td>");EMD.popupMenu.fcltySocPopInqire!=d&&(k+="<td><button id='btnPrtfcltyInqire' data-role='frmwrkButton' data-assets-prt-at-code='"+a.gisAssetsPrtAtCode+"' data-assets-cd='"+a.gisAssetsCd+"' data-assets-sub-cd='"+a.gisAssetsSubCd+"' data-prt-fclty-cd='"+a.gisPrtFcltyCd+"' data-prt-fclty-seq='"+a.gisPrtFcltySeq+"' data-prt-fclty-se='"+a.prtFcltySe+"' >\uc2dc\uc124\uc870\ud68c</button></td>");k+="</tr></tbody></table>";null!=
EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null);if((null==a.loCrdnt||null==a.laCrdnt)&&null!=a.lat&&null!=a.lng){var c=new OpenLayers.LonLat(a.lng,a.lat),g=new OpenLayers.Projection("EPSG:4326"),c=c.transform(g,new OpenLayers.Projection("EPSG:900913"));a.loCrdnt=c.lon;a.laCrdnt=c.lat}EMD.popup.prtFcltyInfo=new OpenLayers.Popup.FramedCloud("\ud1a0\ubaa9\uc2dc\uc124\uc815\ubcf4",new OpenLayers.LonLat(a.loCrdnt,a.laCrdnt),new OpenLayers.Size(250,150),
k,null,!0);EMD.map.addPopup(EMD.popup.prtFcltyInfo);b("#btnPrtfcltyMngt").button({icons:{primary:"ui-icon-wrench"},text:!0}).click(function(a){a="";a=EMD.popupMenu.fcltyConstPopMngt;EMD.util.create_window("\ud1a0\ubaa9 \uc2dc\uc124 \uad00\ub9ac",EMD.context_root+a,null,{action:"prtFcltyMngt",gisPrtAtCode:b(this).data("assets-prt-at-code"),gisAssetsCd:b(this).data("assets-cd"),gisAssetsSubCd:b(this).data("assets-sub-cd"),gisPrtFcltyCd:b(this).data("prt-fclty-cd"),gisPrtFcltySeq:b(this).data("prt-fclty-seq"),
gisPrtFcltySe:b(this).data("prt-fclty-se")})});b("#btnPrtfcltyInqire").button({icons:{primary:"ui-icon-folder-open"},text:!0}).click(function(a){a="";a=EMD.popupMenu.fcltyConstPopInqire;EMD.util.create_window("\uac74\ucd95 \uc2dc\uc124 \uc870\ud68c",EMD.context_root+a,null,{action:"prtFcltyMngt",gisPrtAtCode:b(this).data("assets-prt-at-code"),gisAssetsCd:b(this).data("assets-cd"),gisAssetsSubCd:b(this).data("assets-sub-cd"),gisPrtFcltyCd:b(this).data("prt-fclty-cd"),gisPrtFcltySeq:b(this).data("prt-fclty-seq"),
gisPrtFcltySe:b(this).data("prt-fclty-se")})});EMD.popup.prtFcltyInfo.updateSize();b(".prtFcltyInfo td > img").load(function(a){b("h2",EMD.popup.prtFcltyInfo.contentDiv);b("table.prtFcltyInfo",EMD.popup.prtFcltyInfo.contentDiv);EMD.popup.prtFcltyInfo.updateSize()})}})});EMD.userLayer.fcltySocMarker.events.register("featureunselected",null,function(b){null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null)});EMD.userLayer.fcltyMechMarker=new OpenLayers.Layer.Vector("\uae30\uacc4 \uc2dc\uc124",
{minScale:5E3});EMD.userLayer.fcltyMechMarker.events.register("featureselected",null,function(a){b.ajax({url:EMD.context_root+"/maps/fclty/gamFcltyInfo.do",type:"POST",dataType:"json",global:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"gisAssetsPrtAtCode",value:a.feature.attributes.gisAssetsPrtAtCode},{name:"gisAssetsCd",value:a.feature.attributes.gisAssetsCd},{name:"gisAssetsSubCd",value:a.feature.attributes.gisAssetsSubCd},{name:"gisPrtFcltyCd",value:a.feature.attributes.gisPrtFcltyCd},
{name:"gisPrtFcltySeq",value:a.feature.attributes.gisPrtFcltySeq},{name:"prtFcltySe",value:a.feature.attributes.prtFcltySe}]}).done(function(a){if(0==a.resultCode){var k="<div class='prtFcltyInfo'><h2>\uae30\uacc4\uc2dc\uc124\uc815\ubcf4</h2><table class='prtFcltyInfo'><tbody>";a=a.result;null==a&&alert("\uc120\ud0dd\ud55c \uc2dc\uc124\uc758 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");k+="<tr><th>\uc790\uc0b0\ucf54\ub4dc</th><td>"+a.gisAssetsCd+"-"+a.gisAssetsSubCd+"</td></tr>";k+="<tr><th>\uc2dc\uc124\ucf54\ub4dc</th><td>"+
a.gisPrtFcltyCd+"-"+a.gisPrtFcltySeq+"</td></tr>";null!=a.prtFcltyNm&&(k+="<tr><th>\uc2dc\uc124\uba85</th><td>"+a.prtFcltyNm+"</td></tr>");null!=a.gisAssetsLocplc&&(k+="<tr><th>\uc18c\uc7ac\uc9c0</th><td>"+a.gisAssetsLocplc+" "+(a.gisAssetsLnm+(null!=a.gisAssetsLnmSub&&0<a.gisAssetsLnmSub.length)?"-"+a.gisAssetsLnmSub:"")+"</td></tr>");null!=a.filenmPhysicl&&(k+="<tr><th>\uc2dc\uc124\uc0ac\uc9c4</th><td><img src='"+EMD.context_root+"/cmm/getPfImage.do?physicalFileNm="+a.filenmPhysicl+"' style='width:300px;' /></td></tr>");
k+="<tr><td colSpan='2' style='align: right;'>";EMD.popupMenu.fcltyMechPopMngt!=d&&(k+="<td><button id='btnPrtfcltyMngt' data-role='frmwrkButton' data-assets-prt-at-code='"+a.gisAssetsPrtAtCode+"' data-assets-cd='"+a.gisAssetsCd+"' data-assets-sub-cd='"+a.gisAssetsSubCd+"' data-prt-fclty-cd='"+a.gisPrtFcltyCd+"' data-prt-fclty-seq='"+a.gisPrtFcltySeq+"' data-prt-fclty-se='"+a.prtFcltySe+"' >\uc2dc\uc124\uad00\ub9ac</button></td>");EMD.popupMenu.fcltyMechPopInqire!=d&&(k+="<td><button id='btnPrtfcltyInqire' data-role='frmwrkButton' data-assets-prt-at-code='"+
a.gisAssetsPrtAtCode+"' data-assets-cd='"+a.gisAssetsCd+"' data-assets-sub-cd='"+a.gisAssetsSubCd+"' data-prt-fclty-cd='"+a.gisPrtFcltyCd+"' data-prt-fclty-seq='"+a.gisPrtFcltySeq+"' data-prt-fclty-se='"+a.prtFcltySe+"' >\uc2dc\uc124\uc870\ud68c</button></td>");k+="</tr></tbody></table>";null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null);if((null==a.loCrdnt||null==a.laCrdnt)&&null!=a.lat&&null!=a.lng){var c=new OpenLayers.LonLat(a.lng,a.lat),g=
new OpenLayers.Projection("EPSG:4326"),c=c.transform(g,new OpenLayers.Projection("EPSG:900913"));a.loCrdnt=c.lon;a.laCrdnt=c.lat}EMD.popup.prtFcltyInfo=new OpenLayers.Popup.FramedCloud("\uae30\uacc4\uc2dc\uc124\uc815\ubcf4",new OpenLayers.LonLat(a.loCrdnt,a.laCrdnt),new OpenLayers.Size(250,150),k,null,!0);EMD.map.addPopup(EMD.popup.prtFcltyInfo);b("#btnPrtfcltyMngt").button({icons:{primary:"ui-icon-wrench"},text:!0}).click(function(a){a="";a=EMD.popupMenu.fcltyMechPopMngt;EMD.util.create_window("\uae30\uacc4 \uc2dc\uc124 \uad00\ub9ac",
EMD.context_root+a,null,{action:"prtFcltyMngt",gisPrtAtCode:b(this).data("assets-prt-at-code"),gisAssetsCd:b(this).data("assets-cd"),gisAssetsSubCd:b(this).data("assets-sub-cd"),gisPrtFcltyCd:b(this).data("prt-fclty-cd"),gisPrtFcltySeq:b(this).data("prt-fclty-seq"),gisPrtFcltySe:b(this).data("prt-fclty-se")})});b("#btnPrtfcltyInqire").button({icons:{primary:"ui-icon-folder-open"},text:!0}).click(function(a){a="";a=EMD.popupMenu.fcltyMechPopInqire;EMD.util.create_window("\uae30\uacc4 \uc2dc\uc124 \uc870\ud68c",
EMD.context_root+a,null,{action:"prtFcltyMngt",gisPrtAtCode:b(this).data("assets-prt-at-code"),gisAssetsCd:b(this).data("assets-cd"),gisAssetsSubCd:b(this).data("assets-sub-cd"),gisPrtFcltyCd:b(this).data("prt-fclty-cd"),gisPrtFcltySeq:b(this).data("prt-fclty-seq"),gisPrtFcltySe:b(this).data("prt-fclty-se")})});EMD.popup.prtFcltyInfo.updateSize();b(".prtFcltyInfo td > img").load(function(a){b("h2",EMD.popup.prtFcltyInfo.contentDiv);b("table.prtFcltyInfo",EMD.popup.prtFcltyInfo.contentDiv);EMD.popup.prtFcltyInfo.updateSize()})}})});
EMD.userLayer.fcltyMechMarker.events.register("featureunselected",null,function(b){null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null)});EMD.userLayer.fcltyInfoTeleMarker=new OpenLayers.Layer.Vector("\uc815\ubcf4\ud1b5\uc2e0 \uc2dc\uc124",{minScale:5E3});EMD.userLayer.fcltyInfoTeleMarker.events.register("featureselected",null,function(a){b.ajax({url:EMD.context_root+"/maps/fclty/gamFcltyInfo.do",type:"POST",dataType:"json",global:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
data:[{name:"gisAssetsPrtAtCode",value:a.feature.attributes.gisAssetsPrtAtCode},{name:"gisAssetsCd",value:a.feature.attributes.gisAssetsCd},{name:"gisAssetsSubCd",value:a.feature.attributes.gisAssetsSubCd},{name:"gisPrtFcltyCd",value:a.feature.attributes.gisPrtFcltyCd},{name:"gisPrtFcltySeq",value:a.feature.attributes.gisPrtFcltySeq},{name:"prtFcltySe",value:a.feature.attributes.prtFcltySe}]}).done(function(a){if(0==a.resultCode){var k="<div class='prtFcltyInfo'><h2>\uc815\ubcf4\ud1b5\uc2e0\uc2dc\uc124\uc815\ubcf4</h2><table class='prtFcltyInfo'><tbody>";
a=a.result;null==a&&alert("\uc120\ud0dd\ud55c \uc2dc\uc124\uc758 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");k+="<tr><th>\uc790\uc0b0\ucf54\ub4dc</th><td>"+a.gisAssetsCd+"-"+a.gisAssetsSubCd+"</td></tr>";k+="<tr><th>\uc2dc\uc124\ucf54\ub4dc</th><td>"+a.gisPrtFcltyCd+"-"+a.gisPrtFcltySeq+"</td></tr>";null!=a.prtFcltyNm&&(k+="<tr><th>\uc2dc\uc124\uba85</th><td>"+a.prtFcltyNm+"</td></tr>");null!=a.gisAssetsLocplc&&(k+="<tr><th>\uc18c\uc7ac\uc9c0</th><td>"+a.gisAssetsLocplc+" "+(a.gisAssetsLnm+(null!=
a.gisAssetsLnmSub&&0<a.gisAssetsLnmSub.length)?"-"+a.gisAssetsLnmSub:"")+"</td></tr>");null!=a.filenmPhysicl&&(k+="<tr><th>\uc2dc\uc124\uc0ac\uc9c4</th><td><img src='"+EMD.context_root+"/cmm/getPfImage.do?physicalFileNm="+a.filenmPhysicl+"' style='width:300px;' /></td></tr>");k+="<tr><td colSpan='2' style='align: right;'>";EMD.popupMenu.fcltyInfoTechPopMngt!=d&&(k+="<td><button id='btnPrtfcltyMngt' data-role='frmwrkButton' data-assets-prt-at-code='"+a.gisAssetsPrtAtCode+"' data-assets-cd='"+a.gisAssetsCd+
"' data-assets-sub-cd='"+a.gisAssetsSubCd+"' data-prt-fclty-cd='"+a.gisPrtFcltyCd+"' data-prt-fclty-seq='"+a.gisPrtFcltySeq+"' data-prt-fclty-se='"+a.prtFcltySe+"' >\uc2dc\uc124\uad00\ub9ac</button></td>");EMD.popupMenu.fcltyInfoTechPopInqire!=d&&(k+="<td><button id='btnPrtfcltyInqire' data-role='frmwrkButton' data-assets-prt-at-code='"+a.gisAssetsPrtAtCode+"' data-assets-cd='"+a.gisAssetsCd+"' data-assets-sub-cd='"+a.gisAssetsSubCd+"' data-prt-fclty-cd='"+a.gisPrtFcltyCd+"' data-prt-fclty-seq='"+
a.gisPrtFcltySeq+"' data-prt-fclty-se='"+a.prtFcltySe+"' >\uc2dc\uc124\uc870\ud68c</button></td>");k+="</tr></tbody></table>";null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null);if((null==a.loCrdnt||null==a.laCrdnt)&&null!=a.lat&&null!=a.lng){var c=new OpenLayers.LonLat(a.lng,a.lat),g=new OpenLayers.Projection("EPSG:4326"),c=c.transform(g,new OpenLayers.Projection("EPSG:900913"));a.loCrdnt=c.lon;a.laCrdnt=c.lat}EMD.popup.prtFcltyInfo=new OpenLayers.Popup.FramedCloud("\uc815\ubcf4\ud1b5\uc2e0\uc2dc\uc124\uc815\ubcf4",
new OpenLayers.LonLat(a.loCrdnt,a.laCrdnt),new OpenLayers.Size(250,150),k,null,!0);EMD.map.addPopup(EMD.popup.prtFcltyInfo);b("#btnPrtfcltyMngt").button({icons:{primary:"ui-icon-wrench"},text:!0}).click(function(a){a="";a=EMD.popupMenu.fcltyInfoTechPopMngt;EMD.util.create_window("\uc815\ubcf4\ud1b5\uc2e0 \uc2dc\uc124 \uad00\ub9ac",EMD.context_root+a,null,{action:"prtFcltyMngt",gisPrtAtCode:b(this).data("assets-prt-at-code"),gisAssetsCd:b(this).data("assets-cd"),gisAssetsSubCd:b(this).data("assets-sub-cd"),
gisPrtFcltyCd:b(this).data("prt-fclty-cd"),gisPrtFcltySeq:b(this).data("prt-fclty-seq"),gisPrtFcltySe:b(this).data("prt-fclty-se")})});b("#btnPrtfcltyInqire").button({icons:{primary:"ui-icon-folder-open"},text:!0}).click(function(a){a="";a=EMD.popupMenu.fcltyInfoTechPopInqire;EMD.util.create_window("\uc815\ubcf4\ud1b5\uc2e0 \uc2dc\uc124 \uc870\ud68c",EMD.context_root+a,null,{action:"prtFcltyMngt",gisPrtAtCode:b(this).data("assets-prt-at-code"),gisAssetsCd:b(this).data("assets-cd"),gisAssetsSubCd:b(this).data("assets-sub-cd"),
gisPrtFcltyCd:b(this).data("prt-fclty-cd"),gisPrtFcltySeq:b(this).data("prt-fclty-seq"),gisPrtFcltySe:b(this).data("prt-fclty-se")})});EMD.popup.prtFcltyInfo.updateSize();b(".prtFcltyInfo td > img").load(function(a){b("h2",EMD.popup.prtFcltyInfo.contentDiv);b("table.prtFcltyInfo",EMD.popup.prtFcltyInfo.contentDiv);EMD.popup.prtFcltyInfo.updateSize()})}})});EMD.userLayer.fcltyInfoTeleMarker.events.register("featureunselected",null,function(b){null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),
EMD.popup.prtFcltyInfo=null)});EMD.userLayer.fcltyElecPowerMarker=new OpenLayers.Layer.Vector("\uc804\uae30 \uc2dc\uc124",{minScale:5E3});EMD.userLayer.fcltyElecPowerMarker.events.register("featureselected",null,function(a){b.ajax({url:EMD.context_root+"/maps/fclty/gamFcltyInfo.do",type:"POST",dataType:"json",global:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"gisAssetsPrtAtCode",value:a.feature.attributes.gisAssetsPrtAtCode},{name:"gisAssetsCd",value:a.feature.attributes.gisAssetsCd},
{name:"gisAssetsSubCd",value:a.feature.attributes.gisAssetsSubCd},{name:"gisPrtFcltyCd",value:a.feature.attributes.gisPrtFcltyCd},{name:"gisPrtFcltySeq",value:a.feature.attributes.gisPrtFcltySeq},{name:"prtFcltySe",value:a.feature.attributes.prtFcltySe}]}).done(function(a){if(0==a.resultCode){var k="<div class='prtFcltyInfo'><h2>\uc804\uae30\uc2dc\uc124\uc815\ubcf4</h2><table class='prtFcltyInfo'><tbody>";a=a.result;null==a&&alert("\uc120\ud0dd\ud55c \uc2dc\uc124\uc758 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");
k+="<tr><th>\uc790\uc0b0\ucf54\ub4dc</th><td>"+a.gisAssetsCd+"-"+a.gisAssetsSubCd+"</td></tr>";k+="<tr><th>\uc2dc\uc124\ucf54\ub4dc</th><td>"+a.gisPrtFcltyCd+"-"+a.gisPrtFcltySeq+"</td></tr>";null!=a.prtFcltyNm&&(k+="<tr><th>\uc2dc\uc124\uba85</th><td>"+a.prtFcltyNm+"</td></tr>");null!=a.gisAssetsLocplc&&(k+="<tr><th>\uc18c\uc7ac\uc9c0</th><td>"+a.gisAssetsLocplc+" "+(a.gisAssetsLnm+(null!=a.gisAssetsLnmSub&&0<a.gisAssetsLnmSub.length)?"-"+a.gisAssetsLnmSub:"")+"</td></tr>");null!=a.filenmPhysicl&&
(k+="<tr><th>\uc2dc\uc124\uc0ac\uc9c4</th><td><img src='"+EMD.context_root+"/cmm/getPfImage.do?physicalFileNm="+a.filenmPhysicl+"' style='width:300px;' /></td></tr>");k+="<tr><td colSpan='2' style='align: right;'>";EMD.popupMenu.fcltyElecPopMngt!=d&&(k+="<td><button id='btnPrtfcltyMngt' data-role='frmwrkButton' data-assets-prt-at-code='"+a.gisAssetsPrtAtCode+"' data-assets-cd='"+a.gisAssetsCd+"' data-assets-sub-cd='"+a.gisAssetsSubCd+"' data-prt-fclty-cd='"+a.gisPrtFcltyCd+"' data-prt-fclty-seq='"+
a.gisPrtFcltySeq+"' data-prt-fclty-se='"+a.prtFcltySe+"' >\uc2dc\uc124\uad00\ub9ac</button></td>");EMD.popupMenu.fcltyElecPopInqire!=d&&(k+="<td><button id='btnPrtfcltyInqire' data-role='frmwrkButton' data-assets-prt-at-code='"+a.gisAssetsPrtAtCode+"' data-assets-cd='"+a.gisAssetsCd+"' data-assets-sub-cd='"+a.gisAssetsSubCd+"' data-prt-fclty-cd='"+a.gisPrtFcltyCd+"' data-prt-fclty-seq='"+a.gisPrtFcltySeq+"' data-prt-fclty-se='"+a.prtFcltySe+"' >\uc2dc\uc124\uc870\ud68c</button></td>");k+="</tr></tbody></table>";
null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null);if((null==a.loCrdnt||null==a.laCrdnt)&&null!=a.lat&&null!=a.lng){var c=new OpenLayers.LonLat(a.lng,a.lat),g=new OpenLayers.Projection("EPSG:4326"),c=c.transform(g,new OpenLayers.Projection("EPSG:900913"));a.loCrdnt=c.lon;a.laCrdnt=c.lat}EMD.popup.prtFcltyInfo=new OpenLayers.Popup.FramedCloud("\uc815\ubcf4\ud1b5\uc2e0\uc2dc\uc124\uc815\ubcf4",new OpenLayers.LonLat(a.loCrdnt,a.laCrdnt),new OpenLayers.Size(250,
150),k,null,!0);EMD.map.addPopup(EMD.popup.prtFcltyInfo);b("#btnPrtfcltyMngt").button({icons:{primary:"ui-icon-wrench"},text:!0}).click(function(a){a="";a=EMD.popupMenu.fcltyElecPopMngt;EMD.util.create_window("\uc804\uae30 \uc2dc\uc124 \uad00\ub9ac",EMD.context_root+a,null,{action:"prtFcltyMngt",gisPrtAtCode:b(this).data("assets-prt-at-code"),gisAssetsCd:b(this).data("assets-cd"),gisAssetsSubCd:b(this).data("assets-sub-cd"),gisPrtFcltyCd:b(this).data("prt-fclty-cd"),gisPrtFcltySeq:b(this).data("prt-fclty-seq"),
gisPrtFcltySe:b(this).data("prt-fclty-se")})});b("#btnPrtfcltyInqire").button({icons:{primary:"ui-icon-folder-open"},text:!0}).click(function(a){a="";a=EMD.popupMenu.fcltyElecPopInqire;EMD.util.create_window("\uc804\uae30 \uc2dc\uc124 \uc870\ud68c",EMD.context_root+a,null,{action:"prtFcltyMngt",gisPrtAtCode:b(this).data("assets-prt-at-code"),gisAssetsCd:b(this).data("assets-cd"),gisAssetsSubCd:b(this).data("assets-sub-cd"),gisPrtFcltyCd:b(this).data("prt-fclty-cd"),gisPrtFcltySeq:b(this).data("prt-fclty-seq"),
gisPrtFcltySe:b(this).data("prt-fclty-se")})});EMD.popup.prtFcltyInfo.updateSize();b(".prtFcltyInfo td > img").load(function(a){b("h2",EMD.popup.prtFcltyInfo.contentDiv);b("table.prtFcltyInfo",EMD.popup.prtFcltyInfo.contentDiv);EMD.popup.prtFcltyInfo.updateSize()})}})});EMD.userLayer.fcltyElecPowerMarker.events.register("featureunselected",null,function(b){null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null)});EMD.selectControl=$DEBUG?new OpenLayers.Control.SelectFeature([EMD.lotarea,
EMD.userLayer.gisAssetsCd,EMD.userLayer.prtFclty,EMD.userLayer.fcltyConstMarker,EMD.userLayer.fcltySocMarker,EMD.userLayer.fcltyMechMarker,EMD.userLayer.fcltyInfoTeleMarker,EMD.userLayer.fcltyElecPowerMarker],{clickout:!0,toggle:!0,multiple:!0,hover:!1,multipleKey:"shiftKey"}):new OpenLayers.Control.SelectFeature([EMD.userLayer.landCode,EMD.userLayer.gisAssetsCd,EMD.userLayer.fcltyConstMarker,EMD.userLayer.fcltySocMarker,EMD.userLayer.fcltyMechMarker,EMD.userLayer.fcltyInfoTeleMarker,EMD.userLayer.fcltyElecPowerMarker],
{clickout:!0,toggle:!0,multiple:!0,hover:!1,multipleKey:"shiftKey"});EMD.selectControl.handlers.feature.stopDown=!1;EMD.userLayer.prtFclty.events.register("featureunselected",null,function(b){b=b.feature;map.removePopup(b.popup);b.popup.destroy();b.popup=null});EMD.info=new OpenLayers.Control.WMSGetFeatureInfo({url:"http://demo.opengeo.org/geoserver/wms",title:"\ud56d\ub9cc\uc2dc\uc124 \uc18d\uc131",queryVisible:!0,eventListeners:{getfeatureinfo:function(b){map.addPopup(new OpenLayers.Popup.FramedCloud("\ud56d\ub9cc\uc2dc\uc124 \uc18d\uc131",
map.getLonLatFromPixel(b.xy),new OpenLayers.Size(250,150),b.text,null,!0))}}});EMD.wfs=new OpenLayers.Layer.Vector("Edit Features",{projection:new OpenLayers.Projection("EPSG:5186"),displayInLayerSwitcher:!1});EMD.controls.measureDist=new OpenLayers.Control.Button({title:"\uac70\ub9ac\uce21\uc815",trigger:function(){var b=EMD.measureControls,a;for(a in b)"measureDist"==b[a].id?b[a].active?b[a].deactivate():b[a].activate():b[a].deactivate()},type:OpenLayers.Control.TYPE_TOGGLE,displayClass:"olControlMeasureDist",
eventListeners:{activate:function(){var b=EMD.measureControls,a;for(a in b)"measureDist"==b[a].id&&b[a].activate();EMD.controls.measureArea.deactivate()},deactivate:function(){var b=EMD.measureControls,a;for(a in b)"measureDist"==b[a].id&&b[a].deactivate()}}});EMD.controls.measureArea=new OpenLayers.Control.Button({title:"\uba74\uc801\uce21\uc815",trigger:function(){var b=EMD.measureControls,a;for(a in b)"measureArea"==b[a].id?b[a].active?b[a].deactivate():b[a].activate():b[a].deactivate()},type:OpenLayers.Control.TYPE_TOGGLE,
displayClass:"olControlMeasureArea",eventListeners:{activate:function(){var b=EMD.measureControls,a;for(a in b)"measureArea"==b[a].id&&b[a].activate();EMD.controls.measureDist.deactivate()},deactivate:function(){var b=EMD.measureControls,a;for(a in b)"measureArea"==b[a].id&&b[a].deactivate()}}});EMD.measureControls=[new OpenLayers.Control.DynamicMeasure(OpenLayers.Handler.PathMeasureCustom,{id:"measureDist",persist:!0,handlerOptions:{layerOptions:{styleMap:a}}}),new OpenLayers.Control.DynamicMeasure(OpenLayers.Handler.PolygonMeasureCustom,
{id:"measureArea",persist:!0,handlerOptions:{layerOptions:{styleMap:a}}})];EMD.measurePanel=new OpenLayers.Control.Panel({displayClass:"mapMeasureToolBar"});EMD.measurePanel.addControls([EMD.controls.measureArea,EMD.controls.measureDist]);EMD.wfs.setVisibility(!0);EMD.userLayer.landCode.setVisibility(!0);EMD.userLayer.gisAssetsCd.setVisibility(!0);EMD.userLayer.prtFclty.setVisibility(!0);EMD.userLayer.fcltyConstMarker.setVisibility(!0);EMD.userLayer.fcltySocMarker.setVisibility(!0);EMD.userLayer.fcltyMechMarker.setVisibility(!0);
EMD.userLayer.fcltyInfoTeleMarker.setVisibility(!0);EMD.userLayer.fcltyElecPowerMarker.setVisibility(!0);$DEBUG?(EMD.lotarea.setVisibility(!0),EMD.map.addLayers([g,EMD.lotarea,EMD.userLayer.landCode,EMD.userLayer.gisAssetsCd,EMD.userLayer.assetRentDetail,EMD.wfs,EMD.userLayer.fcltyConstMarker,EMD.userLayer.fcltySocMarker,EMD.userLayer.fcltyMechMarker,EMD.userLayer.fcltyInfoTeleMarker,EMD.userLayer.fcltyElecPowerMarker])):(a=[g,EMD.userLayer.landCode,EMD.userLayer.gisAssetsCd,EMD.userLayer.assetRentDetail,
EMD.wfs],EMD.layerDisplay.assetRentStats!=d&&(a[a.length]=EMD.userLayer.assetRentStats),EMD.layerDisplay.gnrlRentStats!=d&&(a[a.length]=EMD.userLayer.gnrlRentStats),EMD.layerDisplay.cntrRentStats!=d&&(a[a.length]=EMD.userLayer.cntrRentStats),EMD.layerDisplay.htldRentStats!=d&&(a[a.length]=EMD.userLayer.htldRentStats),EMD.layerDisplay.ccntRentStats!=d&&(a[a.length]=EMD.userLayer.ccntRentStats),EMD.layerDisplay.trnpRentStats!=d&&(a[a.length]=EMD.userLayer.trnpRentStats),EMD.map.addLayers(a),EMD.gis.assetRentStatsRedraw(),
EMD.gis.gnrlRentStatsRedraw(),EMD.gis.cntrRentStatsRedraw(),EMD.gis.htldRentStatsRedraw(),EMD.gis.ccntRentStatsRedraw(),EMD.gis.trnpRentStatsRedraw());a=new OpenLayers.Control.LayerSwitcher;EMD.map.addControls([EMD.selectControl,a,new OpenLayers.Control.MousePosition({prefix:"\uc9c0\ub3c4 \uc88c\ud45c : ",separator:" | ",numDigits:6,displayProjection:new OpenLayers.Projection("EPSG:5186")}),new OpenLayers.Control.Scale,EMD.measurePanel]);EMD.map.addControls(EMD.measureControls);EMD.selectControl.activate();
a.dataLbl.innerText="\ub808\uc774\uc5b4 \ubaa9\ub85d";EMD.measurePanel.activate();EMD.map.events.register("mousedown",EMD.map,function(b){});EMD.map.events.register("mousemove",EMD.map,function(a){EMD.dragging&&b(EMD.drag_handle).trigger({type:a.type,altKey:a.altKey,clientX:a.clientX,clientY:a.clientY,ctrlKey:a.ctrlKey,detail:a.detail,keyCode:a.keyCode,layerX:a.layerX,layerY:a.layerY,metaKey:a.metaKey,offsetX:a.offsetX,offsetY:a.offsetY,pageX:a.pageX,pageY:a.pageY,screenX:a.screenX,screenY:a.screenY,
shiftKey:a.shiftKey,webkitMovementX:a.webkitMovementX,webkitMovementY:a.webkitMovementY,x:a.x,y:a.y,xy:a.xy})});EMD.map.events.register("mouseup",EMD.map,function(b){EMD.util.clear_active()});a=new OpenLayers.LonLat(14211246,4145825);EMD.map.setCenter(a,13);!1==$DEBUG&&b.ajax({url:EMD.context_root+"/maps/fclty/gamFcltyList.do",type:"POST",dataType:"json",global:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[]}).done(function(a){0==a.resultCode&&(b.each(a.resultList,function(){EMD.gis.drawPrtFclty(this)}),
EMD.userLayer.fcltyConstMarker.redraw(),EMD.userLayer.fcltySocMarker.redraw(),EMD.userLayer.fcltyMechMarker.redraw(),EMD.userLayer.fcltyInfoTeleMarker.redraw(),EMD.userLayer.fcltyElecPowerMarker.redraw())})},ui_init:function(){},fileupload_init:function(){b("#fileupload").fileupload({url:EMD.context_root+"/upload/genericMulti.do",autoUpload:!0});b("#fileupload").fileupload("option","redirect",c.location.href.replace(/\/[^\/]*$/,"/cors/result.html?%s"));b("#pfPhotoupload").fileupload({url:EMD.context_root+
"/upload/pfUploadMulti.do",autoUpload:!0});b("#pfPhotoupload").fileupload("option","redirect",c.location.href.replace(/\/[^\/]*$/,"/cors/result.html?%s"));b("#xlsfileupload").fileupload({autoUpload:!0});b("#xlsfileupload").fileupload("option","redirect",c.location.href.replace(/\/[^\/]*$/,"/cors/result.html?%s"))},loadCompleteWindow:function(){var b,c=[],d=a.cookie.split(";");for(b=0;b<d.length;b++){for(var g=d[b];" "==g.charAt(0);)g=g.substring(1);-1!=g.indexOf("ygpa_popup_c")&&(c[c.length]=g.substring(14,
g.length).split(";")[0])}for(d=0;d<EMD.loadAtStartWindow.length;d++){if(0!=c.length){for(b=0;b<c.length&&c[b]!=EMD.loadAtStartWindow[d].url;b++);if(b!=c.length)continue}EMD.util.create_window(EMD.loadAtStartWindow[d].menuNm,EMD.context_root+EMD.loadAtStartWindow[d].url,null,{action:"loadStart"})}}},closeWindow:function(a){var c="#"+a.attr("id").replace("window","dock");b("#"+a.attr("id")).hide("scale",{percent:0},800,function(){b(this).remove()});b(c).hide("fast");b(c).remove()},gis:{_getIndexBaseURL:function(b){var a=
this.map.getResolution(),c=Math.round((b.left-this.maxExtent.left)/(a*this.tileSize.w));b=Math.round((this.maxExtent.top-b.top)/(a*this.tileSize.h));var a=this.map.getZoom(),d=Math.pow(2,a);return 0>b||b>=d?vworldUrlsExt.blankimage:this.url+a+"/"+(c%d+d)%d+"/"+b+"."+this.type},_adjustWindow:null,_initGisAdjust:function(){_adjustWindow=b(".window_stack");EMD.util.window_hide_all();EMD.selectControl.deactivate();EMD.popup.prtFcltyInfo&&EMD.map.removePopup(EMD.popup.prtFcltyInfo)},_closeGisAdjust:function(){EMD.selectControl.activate();
EMD.util.window_show(_adjustWindow)},modifyFeature:null,saveFeatures:function(){EMD.saveStrategy.save()},addPrtFcltyMarkerClick:OpenLayers.Class(OpenLayers.Control,{defaultHandlerOptions:{single:!0,"double":!1,pixelTolerance:0,stopSingle:!1,stopDouble:!1},initialize:function(b){this.handlerOptions=OpenLayers.Util.extend({},this.defaultHandlerOptions);OpenLayers.Control.prototype.initialize.apply(this,arguments);this.handler=new OpenLayers.Handler.Click(this,{click:this.trigger},this.handlerOptions)},
trigger:function(b){b=EMD.map.getLonLatFromPixel(b.xy);EMD.map_value.fclty.laCrdnt=b.lat;EMD.map_value.fclty.loCrdnt=b.lon;EMD.map_state=null;EMD.gis.removePrtFclty(EMD.map_value.fclty);EMD.gis.drawPrtFclty(EMD.map_value.fclty);EMD.userLayer.fcltyConstMarker.redraw();EMD.userLayer.fcltySocMarker.redraw();EMD.userLayer.fcltyMechMarker.redraw();EMD.userLayer.fcltyInfoTeleMarker.redraw();EMD.userLayer.fcltyElecPowerMarker.redraw();EMD.gis._markerClick.deactivate();EMD.map.removeControl(EMD.gis._markerClick);
EMD.gis._closeGisAdjust();null!=EMD.map_callback&&EMD.map_callback(EMD.map_value.fclty)}}),_markerClick:null,addPrtFcltyMarker:function(b,a){EMD.map_state="addPrtFcltyMarker";EMD.map_value={fclty:b};EMD.map_callback=a;EMD.gis._initGisAdjust();EMD.gis._markerClick=new EMD.gis.addPrtFcltyMarkerClick;EMD.map.addControl(EMD.gis._markerClick);EMD.gis._markerClick.activate()},removePrtFclty:function(b){var a=null;switch(b.prtFcltySe){case "C":a=EMD.userLayer.fcltyConstMarker.getFeatureBy("_fcltyObjCode",
b.gisAssetsPrtAtCode+":"+b.gisAssetsCd+":"+b.gisAssetsSubCd+":"+b.prtFcltySe+":"+b.gisPrtFcltyCd+":"+b.gisPrtFcltySeq);EMD.userLayer.fcltyConstMarker.removeFeatures(a);break;case "M":a=EMD.userLayer.fcltyMechMarker.getFeatureBy("_fcltyObjCode",b.gisAssetsPrtAtCode+":"+b.gisAssetsCd+":"+b.gisAssetsSubCd+":"+b.prtFcltySe+":"+b.gisPrtFcltyCd+":"+b.gisPrtFcltySeq);EMD.userLayer.fcltyMechMarker.removeFeatures(a);break;case "E":a=EMD.userLayer.fcltyInfoTeleMarker.getFeatureBy("_fcltyObjCode",b.gisAssetsPrtAtCode+
":"+b.gisAssetsCd+":"+b.gisAssetsSubCd+":"+b.prtFcltySe+":"+b.gisPrtFcltyCd+":"+b.gisPrtFcltySeq);EMD.userLayer.fcltyInfoTeleMarker.removeFeatures(a);break;case "S":a=EMD.userLayer.fcltySocMarker.getFeatureBy("_fcltyObjCode",b.gisAssetsPrtAtCode+":"+b.gisAssetsCd+":"+b.gisAssetsSubCd+":"+b.prtFcltySe+":"+b.gisPrtFcltyCd+":"+b.gisPrtFcltySeq);EMD.userLayer.fcltySocMarker.removeFeatures(a);break;case "P":a=EMD.userLayer.fcltyElecPowerMarker.getFeatureBy("_fcltyObjCode",b.gisAssetsPrtAtCode+":"+b.gisAssetsCd+
":"+b.gisAssetsSubCd+":"+b.prtFcltySe+":"+b.gisPrtFcltyCd+":"+b.gisPrtFcltySeq),EMD.userLayer.fcltyElecPowerMarker.removeFeatures(a)}EMD.gis._markerClick.deactivate()},drawPrtFclty:function(b){var a;switch(b.gisPrtFcltyCd){case "55":a=EMD.context_root+"/images/egovframework/ygpa/gam/maps/map_icon/dam.png";break;default:a=EMD.context_root+"/images/egovframework/ygpa/gam/maps/map_icon/photo.png"}if((null==b.loCrdnt||null==b.laCrdnt)&&null!=b.lat&&null!=b.lng){var c=new OpenLayers.LonLat(b.lng,b.lat),
d=new OpenLayers.Projection("EPSG:4326"),c=c.transform(d,new OpenLayers.Projection("EPSG:900913"));b.loCrdnt=c.lon;b.laCrdnt=c.lat}a=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(b.loCrdnt,b.laCrdnt),{gisAssetsPrtAtCode:b.gisAssetsPrtAtCode,gisAssetsCd:b.gisAssetsCd,gisAssetsSubCd:b.gisAssetsSubCd,gisPrtFcltyCd:b.gisPrtFcltyCd,gisPrtFcltySeq:b.gisPrtFcltySeq,prtFcltySe:b.prtFcltySe,fcltyNm:b.prtFcltyNm},{externalGraphic:a,graphicHeight:37,graphicWidth:32,graphicXOffset:-18,graphicYOffset:-37,
labelOutlineColor:"white",labelOutlineWidth:3,label:b.prtFcltyNm});a._fcltyObjCode=b.gisAssetsPrtAtCode+":"+b.gisAssetsCd+":"+b.gisAssetsSubCd+":"+b.prtFcltySe+":"+b.gisPrtFcltyCd+":"+b.gisPrtFcltySeq;switch(b.prtFcltySe){case "C":EMD.userLayer.fcltyConstMarker.addFeatures(a);break;case "M":EMD.userLayer.fcltyMechMarker.addFeatures(a);break;case "E":EMD.userLayer.fcltyInfoTeleMarker.addFeatures(a);break;case "S":EMD.userLayer.fcltySocMarker.addFeatures(a);break;case "P":EMD.userLayer.fcltyElecPowerMarker.addFeatures(a)}},
_getLayerFilter:function(b,a){var c=null;b==EMD.userLayer.gisAssetsCd?c=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"GIS_ASSETS_PRT_AT_CODE",value:a.gisAssetsPrtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"GIS_ASSETS_CD",value:a.gisAssetsCd}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"GIS_ASSETS_SUB_CD",
value:a.gisAssetsSubCd})]}):b==EMD.userLayer.assetsRent&&(c=a.assetsUsageSeq==d?new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_AT_CODE",value:a.prtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_YEAR",value:a.mngYear}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_NO",value:a.mngNo}),
new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_CNT",value:a.mngCnt})]}):new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_AT_CODE",value:a.prtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_YEAR",value:a.mngYear}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"MNG_NO",value:a.mngNo}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_CNT",value:a.mngCnt}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_USAGE_SEQ",value:a.assetsUsageSeq})]}));return c},_getLayerprotocol:function(b){var a=null;b==EMD.userLayer.gisAssetsCd?a=EMD.protocols.gisAssetsCd:b==EMD.userLayer.assetsRent?a=EMD.protocols.assetRentDetail:b==EMD.userLayer.assetRentDetail&&(a=EMD.protocols.assetRentDetail);
return a},_findFeatures:function(b,a){for(var c=[],d=0;d<b.features.length;d++)if((feature=b.features[d])&&feature.attributes&&EMD.gis.compareLayerObject(b,feature,a)){c.push(feature);break}return c},selectFeatureData:function(a,c,g,h,q){var n=EMD.gis.getUserLayer(c);if(null!=n){a=EMD.gis._getLayerFilter(g);c=EMD.gis._getLayerprotocol(n);var r=null==h?!1:h;h=q==d?!1:q;if(0==EMD.gis._findFeatures(n,g).length||h)c.read({filter:a,callback:function(a){if(a.error)return 0;if(0<a.features.length){var k,
c=new OpenLayers.Projection("EPSG:5186");b.each(a.features,function(){this.geometry=this.geometry.transform(c,EMD.map.getProjection())});n.removeAllFeatures();n.addFeatures(a.features);n.redraw();if(r){k=a.features[0].geometry.getBounds().clone();for(var d=1;d<a.features.length;d++)k.extend(a.features[d].geometry.getBounds());EMD.map.zoomToExtent(k)}}}});else if(r){ext=resp.features[0].geometry.getBounds().clone();for(g=1;g<resp.features.length;g++)ext.extend(resp.features[g].geometry.getBounds());
EMD.map.zoomToExtent(ext)}}},selectRentFeature:function(a){null!=a&&(a.assetsUsageSeq==d?protocol.read({filter:filter,callback:function(a){if(a.error)return 0;if(0<a.features.length){var k,c=new OpenLayers.Projection("EPSG:5186");b.each(a.features,function(){this.geometry=this.geometry.transform(c,EMD.map.getProjection())});EMD.userLayer.assetRentDetail.removeAllFeatures();EMD.userLayer.assetRentDetail.addFeatures(a.features);EMD.userLayer.assetRentDetail.redraw();k=a.features[0].geometry.getBounds().clone();
for(var d=1;d<a.features.length;d++)k.extend(a.features[d].geometry.getBounds());EMD.map.zoomToExtent(k)}}}):EMD.strategies.assetRentDetail.setFilter(new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_AT_CODE",value:a.prtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_YEAR",value:a.mngYear}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"MNG_NO",value:a.mngNo}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_CNT",value:a.mngCnt}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_USAGE_SEQ",value:a.assetsUsageSeq})]})))},assetRentStatsRedraw:function(){EMD.layerDisplay.assetRentStats!=d&&EMD.strategies.assetRentStats.setFilter(new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"PRT_AT_CODE",value:"622"}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_YEAR",value:"2014"})]}))},gnrlRentStatsRedraw:function(){var b=new Date;EMD.layerDisplay.gnrlRentStats!=d&&EMD.strategies.gnrlRentStats.setFilter(new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"QUAY_GROUP_CD",value:"P"}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LESS_THAN,
property:"GR_USAGE_PD_FROM",value:b}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO,property:"GR_USAGE_PD_TO",value:b}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRMISN_YN",value:"Y"})]}))},cntrRentStatsRedraw:function(){var b=new Date;EMD.layerDisplay.cntrRentStats!=d&&EMD.strategies.cntrRentStats.setFilter(new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"QUAY_GROUP_CD",value:"P"}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LESS_THAN,property:"GR_USAGE_PD_FROM",value:b}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO,property:"GR_USAGE_PD_TO",value:new Date}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRMISN_YN",value:"Y"})]}))},htldRentStatsRedraw:function(){var b=new Date;EMD.layerDisplay.htldRentStats!=d&&EMD.strategies.htldRentStats.setFilter(new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,
filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"QUAY_GROUP_CD",value:"H"}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LESS_THAN,property:"GR_USAGE_PD_FROM",value:b}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO,property:"GR_USAGE_PD_TO",value:b}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRMISN_YN",value:"Y"})]}))},ccntRentStatsRedraw:function(){var b=
new Date;EMD.layerDisplay.ccntRentStats!=d&&EMD.strategies.ccntRentStats.setFilter(new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"QUAY_GROUP_CD",value:"E"}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LESS_THAN,property:"GR_USAGE_PD_FROM",value:b}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO,property:"GR_USAGE_PD_TO",
value:b}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRMISN_YN",value:"Y"})]}))},trnpRentStatsRedraw:function(){var b=new Date;EMD.layerDisplay.trnpRentStats!=d&&EMD.strategies.trnpRentStats.setFilter(new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"QUAY_GROUP_CD",value:"T"}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LESS_THAN,
property:"GR_USAGE_PD_FROM",value:b}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO,property:"GR_USAGE_PD_TO",value:b}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRMISN_YN",value:"Y"})]}))},goLocation:function(b,a){var c=new OpenLayers.LonLat(a,b);EMD.map.setCenter(c)},goLocation4326:function(b,a){var c=new OpenLayers.LonLat(a,b),d=new OpenLayers.Projection("EPSG:4326"),c=c.transform(d,new OpenLayers.Projection("EPSG:900913"));
EMD.map.setCenter(c,18)},selectPrtFclty:function(b){var a=null;switch(b.prtFcltySe){case "C":a=EMD.userLayer.fcltyConstMarker.getFeatureBy("_fcltyObjCode",b.gisAssetsPrtAtCode+":"+b.gisAssetsCd+":"+b.gisAssetsSubCd+":"+b.prtFcltySe+":"+b.gisPrtFcltyCd+":"+b.gisPrtFcltySeq);break;case "M":a=EMD.userLayer.fcltyMechMarker.getFeatureBy("_fcltyObjCode",b.gisAssetsPrtAtCode+":"+b.gisAssetsCd+":"+b.gisAssetsSubCd+":"+b.prtFcltySe+":"+b.gisPrtFcltyCd+":"+b.gisPrtFcltySeq);break;case "E":a=EMD.userLayer.fcltyInfoTeleMarker.getFeatureBy("_fcltyObjCode",
b.gisAssetsPrtAtCode+":"+b.gisAssetsCd+":"+b.gisAssetsSubCd+":"+b.prtFcltySe+":"+b.gisPrtFcltyCd+":"+b.gisPrtFcltySeq);break;case "S":a=EMD.userLayer.fcltySocMarker.getFeatureBy("_fcltyObjCode",b.gisAssetsPrtAtCode+":"+b.gisAssetsCd+":"+b.gisAssetsSubCd+":"+b.prtFcltySe+":"+b.gisPrtFcltyCd+":"+b.gisPrtFcltySeq);break;case "P":a=EMD.userLayer.fcltyElecPowerMarker.getFeatureBy("_fcltyObjCode",b.gisAssetsPrtAtCode+":"+b.gisAssetsCd+":"+b.gisAssetsSubCd+":"+b.prtFcltySe+":"+b.gisPrtFcltyCd+":"+b.gisPrtFcltySeq)}null==
a?alert("\uc120\ud0dd\ub41c \uc2dc\uc124\uc758 \uc815\uc758\ub41c \uc704\uce58\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):EMD.selectControl.select(a)},setScale:function(b){EMD.map.setScale(b)},selectAssetCdFeature:function(b,a,c,d){b=null;switch(prtFclty.prtFcltySe){case "C":b=EMD.userLayer.fcltyConstMarker.getFeatureBy("_fcltyObjCode",prtFclty.gisAssetsPrtAtCode+":"+prtFclty.gisAssetsCd+":"+prtFclty.gisAssetsSubCd+":"+prtFclty.prtFcltySe+":"+prtFclty.gisPrtFcltyCd+":"+prtFclty.gisPrtFcltySeq);break;case "M":b=
EMD.userLayer.fcltyMechMarker.getFeatureBy("_fcltyObjCode",prtFclty.gisAssetsPrtAtCode+":"+prtFclty.gisAssetsCd+":"+prtFclty.gisAssetsSubCd+":"+prtFclty.prtFcltySe+":"+prtFclty.gisPrtFcltyCd+":"+prtFclty.gisPrtFcltySeq);break;case "E":b=EMD.userLayer.fcltyInfoTeleMarker.getFeatureBy("_fcltyObjCode",prtFclty.gisAssetsPrtAtCode+":"+prtFclty.gisAssetsCd+":"+prtFclty.gisAssetsSubCd+":"+prtFclty.prtFcltySe+":"+prtFclty.gisPrtFcltyCd+":"+prtFclty.gisPrtFcltySeq);break;case "S":b=EMD.userLayer.fcltySocMarker.getFeatureBy("_fcltyObjCode",
prtFclty.gisAssetsPrtAtCode+":"+prtFclty.gisAssetsCd+":"+prtFclty.gisAssetsSubCd+":"+prtFclty.prtFcltySe+":"+prtFclty.gisPrtFcltyCd+":"+prtFclty.gisPrtFcltySeq);break;case "P":b=EMD.userLayer.fcltyElecPowerMarker.getFeatureBy("_fcltyObjCode",prtFclty.gisAssetsPrtAtCode+":"+prtFclty.gisAssetsCd+":"+prtFclty.gisAssetsSubCd+":"+prtFclty.prtFcltySe+":"+prtFclty.gisPrtFcltyCd+":"+prtFclty.gisPrtFcltySeq)}null==b?alert("\uc120\ud0dd\ub41c \uc2dc\uc124\uc758 \uc815\uc758\ub41c \uc704\uce58\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):
EMD.selectControl.select(b)},removeAssetCdFeature:function(b){b=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"GIS_ASSETS_PRT_AT_CODE",value:b.gisAssetsPrtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"GIS_ASSETS_CD",value:b.gisAssetsCd}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"GIS_ASSETS_SUB_CD",
value:b.gisAssetsSubCd})]});EMD.protocols.gisAssetsCd["delete"]({filter:b});EMD.protocols.gisAssetsCd.commit()},modifyAssetCdFeature:function(a,c){var d=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"GIS_ASSETS_PRT_AT_CODE",value:a.gisAssetsPrtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"GIS_ASSETS_CD",value:a.gisAssetsCd}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"GIS_ASSETS_SUB_CD",value:a.gisAssetsSubCd})]});EMD.protocols.gisAssetsCd.read({filter:d,callback:function(d){if(d.error)return 0;0<d.features.length?(d.features[0].geometry=c.geometry.clone(),d.features[0].state=OpenLayers.State.UPDATE,EMD.protocols.gisAssetsCd.commit(d.features,{callback:function(a){if(a.error)return-1;var c=new OpenLayers.Projection("EPSG:5186");EMD.selectControl.unselectAll();b.each(a.reqFeatures,function(){this.geometry=this.geometry.transform(c,EMD.map.getProjection())});
EMD.userLayer.gisAssetsCd.addFeatures(a.reqFeatures);EMD.userLayer.gisAssetsCd.redraw()}})):(d=new OpenLayers.Feature,d.state=OpenLayers.State.INSERT,d.geometry=c.geometry.clone(),d.attributes={GIS_ASSETS_PRT_AT_CODE:a.gisAssetsPrtAtCode,GIS_ASSETS_CD:a.gisAssetsCd,GIS_ASSETS_SUB_CD:a.gisAssetsSubCd,GIS_ASSETS_NM:a.gisAssetsNm,GIS_ASSETS_LOCPLC:a.gisAssetsLocplc,GIS_ASSETS_LNM:a.gisAssetsLnm,GIS_ASSETS_LNM_SUB:a.gisAssetsLnmSub},d=new OpenLayers.Feature,d.geometry=c.geometry.clone(),d.attributes=
{GIS_ASSETS_PRT_AT_CODE:a.gisAssetsPrtAtCode,GIS_ASSETS_CD:a.gisAssetsCd,GIS_ASSETS_SUB_CD:a.gisAssetsSubCd,GIS_ASSETS_NM:a.gisAssetsNm,GIS_ASSETS_LOCPLC:a.gisAssetsLocplc,GIS_ASSETS_LNM:a.gisAssetsLnm,GIS_ASSETS_LNM_SUB:a.gisAssetsLnmSub},EMD.protocols.gisAssetsCd.create(d),d.state=OpenLayers.State.INSERT,EMD.protocols.gisAssetsCd.commit([d],{callback:function(a){if(a.error)return-1;EMD.selectControl.unselectAll();var c=new OpenLayers.Projection("EPSG:5186");b.each(a.reqFeatures,function(){this.geometry=
this.geometry.transform(c,EMD.map.getProjection())});EMD.userLayer.gisAssetsCd.addFeatures(a.reqFeatures);EMD.userLayer.gisAssetsCd.redraw()}}))}})},modifyAssetCdFeatureByBJDCode:function(b){b=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"GIS_ASSETS_PRT_AT_CODE",value:b.gisAssetsPrtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"GIS_ASSETS_CD",
value:b.gisAssetsCd}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"GIS_ASSETS_SUB_CD",value:b.gisAssetsSubCd})]});EMD.lotareaProtocol.read({filter:b,callback:function(b){if(b.error)return-1}});EMD.protocols.gisAssetsCd.update(features,{filter:new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"GIS_ASSETS_PRT_AT_CODE",value:gisAssetsPrtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"GIS_ASSETS_CD",value:gisAssetsCd}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"GIS_ASSETS_SUB_CD",value:gisAssetsSubCd})]}),callback:function(b){if(b.error)return-1}})},getBupjungDongNm:function(a,c,d){null!=d&&b.ajax({url:EMD.context_root+"/cmmn/selectBupJungDongCodeNm.do",type:"POST",userData:{callBack:d,data:c},dataType:"json",global:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"cmd",value:a}],success:function(a){null!=
a.resultCode&&0!=a.resultCode?1==a.resultCode&&(alert(a.resultMsg),location.reload()):(a=b.extend(a,this.userData.data),null!=this.userData.callBack&&this.userData.callBack(a))},error:function(b,a,c){}})},removeFeature:function(b,a){var c=EMD.gis.getUserLayer(b),d,g;len=c.features.length;var h=[];EMD.selectControl.unselectAll();for(d=0;d<len;d++)(g=c.features[d])&&g.attributes&&EMD.gis.compareLayerObject(c,g,a)&&h.push(g);for(d=0;d<h.length;d++)g=h[d],g.state=OpenLayers.State.DELETE,c.removeFeature(g)},
loadMapDataFlexGrid:function(b,a,c,d,g){},loadMapDataCode:function(b,a,c,d){},showMapDataFlexGrid:function(b,a,c,d,g){b=b.$("#"+c).selectedRows();a=EMD.gis.getUserLayer(a);len=a.features.length;g=null;var h=[];if(0==b.length)alert("\ud56d\ubaa9\uc744 \uc120\ud0dd \ud558\uc2ed\uc2dc\uc694.");else{EMD.selectControl.unselectAll();for(c=0;c<len;c++)if((d=a.features[c])&&d.attributes)for(var r=0;r<b.length;r++){var s=b[r];if(d.attributes.GIS_ASSETS_PRT_AT_CODE===s.gisAssetsPrtAtCode&&d.attributes.GIS_ASSETS_CD===
s.gisAssetsCd&&d.attributes.GIS_ASSETS_SUB_CD===s.gisAssetsSubCd){h.push(d);var t=new OpenLayers.Geometry.Point(d.bounds.left,d.bounds.bottom),s=OpenLayers.Projection.transform(t,a.projection,EMD.map.projection),t=new OpenLayers.Geometry.Point(d.bounds.right,d.bounds.top),t=OpenLayers.Projection.transform(t,a.projection,EMD.map.projection);null==g&&(g=new OpenLayers.Bounds);g.extend(s);g.extend(t);EMD.selectControl.select(d)}}0==h.length?alert("\uc120\ud0dd\ud55c \ud56d\ubaa9\uc5d0 \ub300\ud574 \uc815\uc758\ub41c \uc601\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."):
(EMD.map.zoomToExtent(g),EMD.util.window_hide_all())}},showMapDataCode:function(b,a,c,d){c=b[c];b=EMD.gis.getUserLayer(a);len=b.features.length;EMD.selectControl.unselectAll();EMD.util.window_hide_all();for(d=0;d<len;d++)if((a=b.features[d])&&a.attributes&&EMD.gis.compareLayerObject(b,a,c)){d=new OpenLayers.Geometry.Point(a.bounds.left,a.bounds.bottom);c=OpenLayers.Projection.transform(d,b.projection,EMD.map.projection);d=new OpenLayers.Geometry.Point(a.bounds.right,a.bounds.top);b=OpenLayers.Projection.transform(d,
b.projection,EMD.map.projection);EMD.map.zoomToExtent([c.x,c.y,b.x,b.y]);EMD.selectControl.select(a);break}},addFeatureCode:function(b,a,c,g){var h=EMD.gis.getUserLayer(a),n=b[c],r;len=h.features.length;var s=[];if(n!=d&&EMD.gis.checkLayerObject(h,n))if(EMD.selectControl.unselectAll(),EMD.util.window_hide_all(),n._feature==d){for(g=0;g<len;g++)if((r=h.features[g])&&r.attributes&&EMD.gis.compareLayerObject(h,r,n)){s.push(r);break}if(0==s.length)EMD.modifyFeature=new OpenLayers.Control.DynamicMeasure(OpenLayers.Handler.Polygon,
{drawingLayer:h,handlerOptions:{holeModifier:"altKey"},featureAdded:function(a){h.addFeatures(a);h.redraw();b[c]._feature=a;EMD.modifyFeature.deactivate();b.showWindow()}}),EMD.map.addControl(EMD.modifyFeature),EMD.modifyFeature.activate();else{var t=[],n=s[0].geometry.getBounds().clone();t[t.length]=s[0].clone();for(g=1;g<s.length;g++)n.extend(s[g].geometry.getBounds()),t[t.length]=s[g].clone();EMD.map.zoomToExtent(n);EMD.wfs.removeAllFeatures();EMD.wfs.addFeatures(t);h.removeFeatures(s);EMD.editControls=
{addFeature:new OpenLayers.Control.DynamicMeasure(OpenLayers.Handler.Polygon,{drawingLayer:EMD.wfs,handlerOptions:{holeModifier:"altKey"}}),editFeature:new OpenLayers.Control.ModifyFeature(EMD.wfs,{mode:OpenLayers.Control.ModifyFeature.RESHAPE,handlerOptions:{holeModifier:"altKey"}}),delFeature:new DeleteFeature(EMD.wfs,{title:"\uc0ad\uc81c"})};for(var v in EMD.editControls)EMD.map.addControl(EMD.editControls[v]);v=new OpenLayers.Control.Button({title:"\ucd94\uac00",displayClass:"olControlEditAdd",
type:OpenLayers.Control.TYPE_TOGGLE,eventListeners:{activate:function(){for(var b in EMD.editControls){var a=EMD.editControls[b];"addFeature"==b?a.activate():a.deactivate()}},deactivate:function(){for(var b in EMD.editControls)EMD.editControls[b].deactivate()}}});g=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1",displayClass:"olControlEditEdit",type:OpenLayers.Control.TYPE_TOGGLE,eventListeners:{activate:function(){for(var b in EMD.editControls){var a=EMD.editControls[b];"editFeature"==b?a.activate():
a.deactivate()}},deactivate:function(){for(var b in EMD.editControls)EMD.editControls[b].deactivate()}}});s=new OpenLayers.Control.Button({title:"\uc0ad\uc81c",displayClass:"olControlEditDelete",type:OpenLayers.Control.TYPE_TOGGLE,eventListeners:{activate:function(){for(var b in EMD.editControls){var a=EMD.editControls[b];"delFeature"==b?a.activate():a.deactivate()}},deactivate:function(){for(var b in EMD.editControls)EMD.editControls[b].deactivate()}}});EMD.save=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1 \uc644\ub8cc",
trigger:function(){EMD.panel.deactivate();EMD.map.removeControl(EMD.panel);for(var a in EMD.editControls)EMD.editControls[a].deactivate();if(1<EMD.wfs.features.length){a=[];for(var c=0;c<EMD.wfs.features.length;c++)a[c]=EMD.wfs.features[c].geometry.clone();a=new OpenLayers.Geometry.MultiPolygon(a)}else a=new OpenLayers.Geometry.Polygon(EMD.wfs.features[0].geometry.clone());f=new OpenLayers.Feature.Vector(a);f.attributes=t[0].attributes;f.state=OpenLayers.State.UPDATE;h.addFeatures([f]);EMD.selectControl.activate();
b.showWindow()},displayClass:"olControlEditDone"});EMD.cancel=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1 \ucde8\uc18c",trigger:function(){EMD.panel.deactivate();EMD.map.removeControl(EMD.panel);for(var d in EMD.editControls)EMD.editControls[d].deactivate();EMD.gis.selectFeatureData(b,a,b[c],!0,!0);EMD.selectControl.activate();b.showWindow()},displayClass:"olControlEditCancel"});null!=EMD.panel&&EMD.panel.deactivate();EMD.panel=new OpenLayers.Control.Panel({displayClass:"mapEditToolBar"});
EMD.selectControl.deactivate();EMD.panel.addControls([v,g,s,EMD.save,EMD.cancel]);EMD.map.addControl(EMD.panel);EMD.panel.activate()}}else EMD.modifyFeature=new OpenLayers.Control.ModifyFeature(h,{mode:OpenLayers.Control.ModifyFeature.RESHAPE,handlerOptions:{holeModifier:"altKey"},afterfeaturemodified:function(a){h.addFeatures(a);h.redraw();b[c]._feature=a;EMD.modifyFeature.deactivate();b.showWindow()}}),EMD.map.addControl(EMD.modifyFeature),EMD.modifyFeature.activate(),EMD.modifyFeature.selectFeature(n._feature),
v=new OpenLayers.Control.Button({title:"\ucd94\uac00",trigger:function(){EMD.panel.deactivate();EMD.modifyFeature.deactivate();EMD.map.removeControl(EMD.panel);h.addFeatures(EMD.wfs.features);EMD.saveStrategy.save();b.showWindow()},displayClass:"olControlEditAdd"}),g=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1",trigger:function(){EMD.panel.deactivate();EMD.modifyFeature.deactivate();EMD.map.removeControl(EMD.panel);h.addFeatures(EMD.wfs.features);EMD.saveStrategy.save();b.showWindow()},displayClass:"olControlEditEdit"}),
s=new OpenLayers.Control.Button({title:"\uc0ad\uc81c",trigger:function(){EMD.panel.deactivate();EMD.modifyFeature.deactivate();EMD.map.removeControl(EMD.panel);h.addFeatures(EMD.wfs.features);EMD.saveStrategy.save();b.showWindow()},displayClass:"olControlEditDel"}),EMD.save=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1 \uc644\ub8cc",trigger:function(){EMD.panel.deactivate();EMD.modifyFeature.deactivate();EMD.map.removeControl(EMD.panel);h.addFeatures(EMD.wfs.features);EMD.saveStrategy.save();
b.showWindow()},displayClass:"olControlEditDone"}),EMD.cancel=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1 \ucde8\uc18c",trigger:function(){EMD.panel.deactivate();EMD.modifyFeature.deactivate();EMD.map.removeControl(EMD.panel);EMD.gis.selectFeatureData(b,a,b[c],!0,!0);b.showWindow()},displayClass:"olControlEditCancel"}),null!=EMD.panel&&EMD.panel.deactivate(),EMD.panel=new OpenLayers.Control.Panel({displayClass:"mapEditToolBar"}),EMD.panel.addControls([v,g,s,EMD.save,EMD.cancel]);else alert("\uc18d\uc131\uc774 \uc815\uc758 \ub418\uc9c0 \uc54a\uc544 \ud3b8\uc9d1\uc774 \uac00\ub2a5\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")},
removeFeatureCode:function(b,a,c){a=EMD.gis.getUserLayer(a);b=b[c];var d;len=a.features.length;var g=[];EMD.selectControl.unselectAll();for(c=0;c<len;c++)if((d=a.features[c])&&d.attributes&&EMD.gis.compareLayerObject(a,d,b)){g.push(d);break}if(0==g.length)return!1;if(0<g.length){for(c=0;c<g.length;c++)g[c].state!=OpenLayers.State.INSERT&&(g[c].state=OpenLayers.State.DELETE),a.removeFeatures(g),EMD.saveStrategy.save();a.redraw()}return!0},modifyFeatureCode:function(b,a,c,d){b=EMD.gis.getUserLayer(a);
var g,h;len=b.features.length;a=[];for(g=0;g<len;g++)if((h=b.features[g])&&h.attributes&&EMD.gis.compareLayerObject(b,h,c)){a.push(h);break}0==a.length?(g=d.geometry,d.geometry=g.transform(d.layer.projection,EMD.map.getProjection()),EMD.gis.storeLayerObject(b,d,c),d.state=OpenLayers.State.INSERT,b.addFeatures([d]),b.redraw(),EMD.protocols.gisAssetsCd.create(d),EMD.protocols.gisAssetsCd.commit(),EMD.saveStrategy.save()):0<a.length&&(g=d.geometry,a[0].geometry=g.transform(d.layer.projection,EMD.map.getProjection()),
a[0].state=OpenLayers.State.UPDATE,b.addFeatures(a),b.drawFeature(a),b.redraw(),EMD.protocols.gisAssetsCd.update(a,{filter:new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"GIS_ASSETS_PRT_AT_CODE",value:a[0].gisAssetsPrtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"GIS_ASSETS_CD",value:a[0].gisAssetsCd}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"GIS_ASSETS_SUB_CD",value:a[0].gisAssetsSubCd})]}),callback:function(b){if(b.error)return-1}}),EMD.saveStrategy.save())},changeFeatureAttribute:function(b,a,c,d){b=EMD.gis.getUserLayer(a);var g;len=b.features.length;var h=!1;for(a=0;a<len;a++)(g=b.features[a])&&g.attributes&&EMD.gis.compareLayerObject(b,g,c)&&(EMD.gis.storeLayerObject(b,g,d),b.drawFeature(g),EMD.gis.storeLayerObject(b,g,d),h=!0);h&&EMD.saveStrategy.save()},addFeatureFlexGrid:function(b,a,c,d,g){var h=b.$("#"+c).selectedRows(),
r=EMD.gis.getUserLayer(a);len=r.features.length;a=[];if(0==h.length)alert("\ud56d\ubaa9\uc744 \uc120\ud0dd \ud558\uc2ed\uc2dc\uc694.");else{EMD.selectControl.unselectAll();for(b=0;b<len;b++)if((c=r.features[b])&&c.attributes)for(d=0;d<h.length;d++)EMD.gis.compareLayerObject(r,c,h[d])&&a.push(c);EMD.util.window_hide_all();if(0==a.length)EMD.map.addControl(new OpenLayers.Control.DrawFeature(EMD.userLayer.gisAssetsCd,OpenLayers.Handler.Polygon,{handlerOptions:{holeModifier:"altKey"},featureAdded:function(b){EMD.gis.storeLayerObject(r,
b,h[0]);EMD.userLayer.gisAssetsCd.addFeatures([b]);EMD.saveStrategy.save()}}));else{c=a[0].geometry.getBounds().clone();for(b=1;b<a.length;b++)c.extend(a[b].geometry.getBounds());EMD.map.zoomToExtent(c);EMD.modifyFeature=new OpenLayers.Control.ModifyFeature(EMD.userLayer.gisAssetsCd,{handlerOptions:{holeModifier:"altKey"},featureAdded:function(b){EMD.gis.storeLayerObject(r,b,h[0]);EMD.userLayer.gisAssetsCd.addFeatures(e.feature);EMD.saveStrategy.save()}});EMD.map.addControl(modifyFeature);modifyFeature.selectFeature(a[0])}}},
removeFeatureFlexGrid:function(b,a,c,d,g){b=b.$("#"+c).selectedRows();a=EMD.gis.getUserLayer(a);len=a.features.length;g=[];if(0==b.length)alert("\ud56d\ubaa9\uc744 \uc120\ud0dd \ud558\uc2ed\uc2dc\uc694.");else{for(c=0;c<len;c++)if((d=a.features[c])&&d.attributes)for(var h=0;h<b.length;h++)EMD.gis.compareLayerObject(a,d,b[h])&&g.push(d);if(0==g.length)return!1;a.removeFeatures(e.feature);EMD.saveStrategy.save();return!0}},readFeature:function(b,a,c,d){if(EMD.gis.getUserLayer(a)==EMD.userLayer.assetRent)var g=
EMD.protocols.assetRent.read({filter:new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_AT_CODE",value:c.prtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_YEAR",value:c.mngYear}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_NO",value:c.mngNo}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"MNG_CNT",value:c.mngCnt})]}),callback:d(response)});g.data={obj:c};return g},selectAssetCdToAssetRentDetailFeature:function(b,a,c){var d;d=EMD.userLayer.gisAssetsCd;var g,h;len=d.features.length;for(g=0;g<len;g++)if((h=d.features[g])&&h.attributes&&EMD.gis.compareLayerObject(d,h,a)){d=new OpenLayers.Feature;d.geometry=h.geometry.clone();d.attributes={};EMD.gis.storeLayerObject(EMD.userLayer.assetRentDetail,d,a);EMD.protocols.assetRentDetail.update(d);d.state=OpenLayers.State.UPDATE;EMD.userLayer.assetRentDetail.addFeatures([d]);
EMD.userLayer.assetRentDetail.drawFeature(d);c(b,d);return}d=new OpenLayers.Feature;h=new OpenLayers.Geometry.Polygon;d.geometry=new OpenLayers.Feature.Vector(h);d.attributes={};EMD.gis.storeLayerObject(EMD.userLayer.assetRentDetail,d,a);EMD.protocols.assetRentDetail.update(d);d.state=OpenLayers.State.UPDATE;EMD.userLayer.assetRentDetail.addFeatures([d]);EMD.userLayer.assetRentDetail.drawFeature(d);c(b,d)},selectAssetRentDetail:function(b,a){EMD.protocols.assetRentDetail.read({filter:new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,
filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_AT_CODE",value:b.prtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_YEAR",value:b.mngYear}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_NO",value:b.mngNo}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_CNT",value:b.mngCnt}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"ASSETS_USAGE_SEQ",value:b.assetsUsageSeq})]}),callback:function(b){b.features==d||0==b.features.length?alert("\uc815\uc758\ub41c GIS \uc601\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."):b.data.src=b.features[0].clone()}}).data={obj:b,src:a}},modifyAssetRentDetailFeature:function(b,a,c,g){c.geometry.components==d||0==c.geometry.components.length?(alert("\uc704\uce58\ub97c \ud074\ub9ad\ud558\uc5ec \uc601\uc5ed\uc744 \uc9c0\uc815\ud569\ub2c8\ub2e4."),EMD.draw=new OpenLayers.Control.DrawFeature(EMD.userLayer.assetRentDetail,
OpenLayers.Handler.PathMeasureCustom,{title:"\ucd94\uac00",displayClass:"olControlDrawFeaturePolygon",multi:!0}),EMD.save=new OpenLayers.Control.Button({title:"\uc800\uc7a5",trigger:function(){EMD.panel.removeControl(EMD.save);g(b,EMD.draw.feature);EMD.draw.deactivate()},displayClass:"olControlSaveFeatures"}),EMD.cancel=new OpenLayers.Control.Button({title:"\ucde8\uc18c",trigger:function(){EMD.panel.removeControl(EMD.save);EMD.map.addControl(EMD.draw);EMD.draw.deactivate();g(b,null)},displayClass:"olControlSaveFeatures"}),
EMD.map.addControl(EMD.draw),EMD.draw.activate(),EMD.panel.addControls([EMD.save,EMD.cancel])):(EMD.edit=new OpenLayers.Control.ModifyFeature(EMD.userLayer.assetRentDetail,{title:"\uc218\uc815",displayClass:"olControlModifyFeature"}),EMD.edit.selectFeature(c),EMD.edit.mode=OpenLayers.Control.ModifyFeature.RESHAPE,EMD.edit.createVertices=!0,EMD.save=new OpenLayers.Control.Button({title:"\uc800\uc7a5",trigger:function(){EMD.panel.removeControls(EMD.save);g(EMD.edit.feature)},displayClass:"olControlSaveFeatures"}),
EMD.selectControl.handlers.feature.stopDown=!0,EMD.selectControl.unselectAll(),EMD.selectControl.deactivate(),EMD.map.addControl(EMD.edit),EMD.edit.activate(),EMD.panel.addControls([EMD.save]))},updateAssetRentDetailFeature:function(b,a){EMD.selectControl.unselectAll();EMD.protocols.gisAssetsCd.read({filter:new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_AT_CODE",value:b.prtAtCode}),
new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_YEAR",value:b.mngYear}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_NO",value:b.mngNo}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_CNT",value:b.mngCnt}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_USAGE_SEQ",value:b.assetsUsageSeq})]}),callback:function(b){b.features==
d||0==b.features.length?alert("GIS \uc601\uc5ed\uc774 \uc800\uc7a5\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."):(b.data.src=b.features[0].clone(),b.data.src.state=OpenLayers.State.UPDATE,EMD.protocols.assetRentDetail.update(b.data.src))}}).data={obj:b,src:a}},setAssetRentFeature:function(b,a,c,d){var g=EMD.gis.getUserLayer(a);EMD.selectControl.unselectAll();EMD.protocols.assetRent.read({filter:new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"PRT_AT_CODE",value:c.prtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_YEAR",value:c.mngYear}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_NO",value:c.mngNo}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_CNT",value:c.mngCnt})]}),callback:function(b){b=foundFeatures[0].geometry.getBounds().clone();for(var a=1;a<foundFeatures.length;a++)b.extend(foundFeatures[a].geometry.getBounds());
EMD.map.zoomToExtent(b);EMD.modifyFeature=new OpenLayers.Control.ModifyFeature(EMD.userLayer.gisAssetsCd,{handlerOptions:{holeModifier:"altKey"},featureAdded:function(b){EMD.gis.storeLayerObject(g,b,row[0]);EMD.userLayer.gisAssetsCd.addFeatures(e.feature);EMD.saveStrategy.save()}});EMD.map.addControl(modifyFeature);modifyFeature.selectFeature(foundFeatures[0])}}).data={obj:c,src:d};for(b=0;b<len;b++)(a=g.features[b])&&a.attributes&&EMD.gis.compareLayerObject(g,a,destFeature)&&(a.geometry=a.geometry.transform(gisAssetsCdProjection,
EMD.map.getProjection()),EMD.userLayer.gisAssetsCd.addFeatures(a),EMD.saveStrategy.save(),foundFeatures.push(d));EMD.util.window_hide_all();if(0==foundFeatures.length)EMD.map.addControl(new OpenLayers.Control.DrawFeature(EMD.userLayer.gisAssetsCd,OpenLayers.Handler.Polygon,{handlerOptions:{holeModifier:"altKey"},featureAdded:function(b){EMD.gis.storeLayerObject(g,b,row[0]);EMD.userLayer.gisAssetsCd.addFeatures([b]);EMD.saveStrategy.save()}}));else{d=foundFeatures[0].geometry.getBounds().clone();for(b=
1;b<foundFeatures.length;b++)d.extend(foundFeatures[b].geometry.getBounds());EMD.map.zoomToExtent(d);EMD.modifyFeature=new OpenLayers.Control.ModifyFeature(EMD.userLayer.gisAssetsCd,{handlerOptions:{holeModifier:"altKey"},featureAdded:function(b){EMD.gis.storeLayerObject(g,b,row[0]);EMD.userLayer.gisAssetsCd.addFeatures(e.feature);EMD.saveStrategy.save()}});EMD.map.addControl(modifyFeature);modifyFeature.selectFeature(foundFeatures[0])}},appendFeature:function(b,a,c,d){var g=b.$("#"+grid).selectedRows(),
h=EMD.gis.getUserLayer(a),r;len=h.features.length;a=[];if(0==g.length)alert("\ud56d\ubaa9\uc744 \uc120\ud0dd \ud558\uc2ed\uc2dc\uc694.");else{EMD.selectControl.unselectAll();for(b=0;b<len;b++)(r=h.features[b])&&r.attributes&&EMD.gis.compareLayerObject(h,r,c)&&(r.geometry=r.geometry.transform(gisAssetsCdProjection,EMD.map.getProjection()),EMD.userLayer.gisAssetsCd.addFeatures(r),EMD.saveStrategy.save(),a.push(d));EMD.util.window_hide_all();if(0==a.length)EMD.map.addControl(new OpenLayers.Control.DrawFeature(EMD.userLayer.gisAssetsCd,
OpenLayers.Handler.Polygon,{handlerOptions:{holeModifier:"altKey"},featureAdded:function(b){EMD.gis.storeLayerObject(h,b,g[0]);EMD.userLayer.gisAssetsCd.addFeatures([b]);EMD.saveStrategy.save()}}));else{c=a[0].geometry.getBounds().clone();for(b=1;b<a.length;b++)c.extend(a[b].geometry.getBounds());EMD.map.zoomToExtent(c);EMD.modifyFeature=new OpenLayers.Control.ModifyFeature(EMD.userLayer.gisAssetsCd,{handlerOptions:{holeModifier:"altKey"},featureAdded:function(b){EMD.gis.storeLayerObject(h,b,g[0]);
EMD.userLayer.gisAssetsCd.addFeatures(e.feature);EMD.saveStrategy.save()}});EMD.map.addControl(modifyFeature);modifyFeature.selectFeature(a[0])}}},showEditPanel:function(b){b=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1",trigger:function(){EMD.modifyFeatyure.mode=OpenLayers.Control.ModifyFeature.RESHAPE},displayClass:"olControlEditShpaePointFeatures"});var a=new OpenLayers.Control.Button({title:"\uc774\ub3d9",trigger:function(){EMD.modifyFeatyure.mode=OpenLayers.Control.ModifyFeature.DRAG},
displayClass:"olControlMoveShpaeFeatures"}),c=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1 \uc885\ub8cc",trigger:function(){EMD.edit.feature&&EMD.edit.selectControl.unselectAll();EMD.saveStrategy.save();EMD.map.removeControl(EMD.panel)},displayClass:"olControlFinishEditShapeFeatures"});EMD.panel=new OpenLayers.Control.Panel({displayClass:"customEditingToolbar",allowDepress:!0});EMD.panel.addControls([b,a,c]);EMD.map.addControl(EMD.panel)},showDrawPanel:function(){EMD.draw=new OpenLayers.Control.DrawFeature(EMD.wfs,
OpenLayers.Handler.Polygon,{title:"\ucd94\uac00",displayClass:"olControlDrawFeaturePolygon",multi:!0});EMD.edit=new OpenLayers.Control.ModifyFeature(EMD.wfs,{title:"\uc218\uc815",displayClass:"olControlModifyFeature"});EMD.del=new DeleteFeature(EMD.wfs,{title:"\uc0ad\uc81c"});EMD.save=new OpenLayers.Control.Button({title:"\uc800\uc7a5",trigger:function(){EMD.edit.feature&&EMD.edit.selectControl.unselectAll();EMD.saveStrategy.save();EMD.map.removeControl(EMD.panel)},displayClass:"olControlSaveFeatures"});
EMD.panel=new OpenLayers.Control.Panel({displayClass:"customEditingToolbar",allowDepress:!0});EMD.panel.addControls([EMD.save,EMD.del,EMD.edit,EMD.draw]);EMD.map.addControl(EMD.panel)},getUserLayer:function(b){switch(b){case "gisAssetsCd":return EMD.userLayer.gisAssetsCd;case "assetRentDetail":return EMD.userLayer.assetRentDetail}return null},newLayerObject:function(b,a,c){},checkLayerObject:function(b,a){if(b==EMD.userLayer.gisAssetsCd){var c=a.gisAssetsPrtAtCode==d?a.GIS_ASSETS_PRT_AT_CODE:a.gisAssetsPrtAtCode,
g=a.gisAssetsCd==d?a.GIS_ASSETS_CD:a.gisAssetsCd,h=a.gisAssetsSubCd==d?a.GIS_ASSETS_SUB_CD:a.gisAssetsSubCd;return c!=d&&g!=d&&h!=d&&3==c.length&&3==g.length&&2==h.length}if(b==EMD.userLayer.assetRentStats){var c=a.prtAtCode==d?a.PRT_AT_CODE:a.prtAtCode,g=a.mngYear==d?a.MNG_YEAR:a.mngYear,h=a.mngNo==d?a.MNG_NO:a.mngNo,n=a.mngCnt==d?a.MNG_CNT:a.mngCnt;return c!=d&&g!=d&&h!=d&&n!=d&&3==c.length&&4==g.length&&3==h.length&&2==n.length}return b==EMD.userLayer.assetsRentDetail?(c=a.prtAtCode==d?a.PRT_AT_CODE:
a.prtAtCode,g=a.mngYear==d?a.MNG_YEAR:a.mngYear,h=a.mngNo==d?a.MNG_NO:a.mngNo,n=a.mngCnt==d?a.MNG_CNT:a.mngCnt,c!=d&&g!=d&&h!=d&&n!=d&&3==c.length&&4==g.length&&3==h.length&&2==n.length):!1},compareLayerObject:function(b,a,c){if(b==EMD.userLayer.gisAssetsCd){b=c.gisAssetsPrtAtCode==d?c.GIS_ASSETS_PRT_AT_CODE:c.gisAssetsPrtAtCode;var g=c.gisAssetsCd==d?c.GIS_ASSETS_CD:c.gisAssetsCd;c=c.gisAssetsSubCd==d?c.GIS_ASSETS_SUB_CD:c.gisAssetsSubCd;return a.attributes.GIS_ASSETS_PRT_AT_CODE===b&&a.attributes.GIS_ASSETS_CD===
g&&a.attributes.GIS_ASSETS_SUB_CD===c}if(b==EMD.userLayer.assetRentStats){b=c.prtAtCode==d?c.PRT_AT_CODE:c.prtAtCode;var g=c.mngYear==d?c.MNG_YEAR:c.mngYear,h=c.mngNo==d?c.MNG_NO:c.mngNo,n=c.mngCnt==d?c.MNG_CNT:c.mngCnt;return a.attributes.PRT_AT_CODE===b&&a.attributes.MNG_NO===g&&a.attributes.MNG_NO===h&&a.attributes.MNG_CNT===n}return b==EMD.userLayer.assetsRentDetail?(b=c.prtAtCode==d?c.PRT_AT_CODE:c.prtAtCode,g=c.mngYear==d?c.MNG_YEAR:c.mngYear,h=c.mngNo==d?c.MNG_NO:c.mngNo,n=c.mngCnt==d?c.MNG_CNT:
c.mngCnt,c=c.assetsUsageSeq==d?c.ASSETS_USAGE_SEQ:c.assetsUsageSeq,a.attributes.PRT_AT_CODE===b&&a.attributes.MNG_NO===g&&a.attributes.MNG_NO===h&&a.attributes.MNG_CNT===n&&a.attributes.ASSETS_USAGE_SEQ===c):!1},storeLayerObject:function(b,a,c){b==EMD.userLayer.gisAssetsCd?(a.attributes.GIS_ASSETS_PRT_AT_CODE=c.gisAssetsPrtAtCode,a.attributes.GIS_ASSETS_CD=c.gisAssetsCd,a.attributes.GIS_ASSETS_SUB_CD=c.gisAssetsSubCd,a.attributes.GIS_ASSETS_NM=c.gisAssetsNm,a.attributes.GIS_MNG_DEPT_CD=c.gisMngDeptCd,
a.attributes.GIS_OPER_DEPT_CD=c.gisOperDeptCd,a.state!=OpenLayers.State.INSERT&&(a.state=OpenLayers.State.UPDATE)):b==EMD.userLayer.assetRent?(a.attributes.PRT_AT_CODE=c.prtAtCode,a.attributes.MNG_YEAR=c.mngYear,a.attributes.MNG_NO=c.mngNo,a.attributes.MNG_CNT=c.mngCnt,a.state!=OpenLayers.State.INSERT&&(a.state=OpenLayers.State.UPDATE)):b==EMD.userLayer.assetRentDetail&&(a.attributes.MNG_YEAR=c.mngYear,a.attributes.MNG_NO=c.mngNo,a.attributes.MNG_CNT=c.mngCnt,a.attributes.ASSETS_USAGE_SEQ=c.assetsUsageSeq,
a.attributes.PRT_AT_CODE=c.prtAtCode,a.attributes.GIS_ASSETS_PRT_AT_CODE=c.gisAssetsPrtAtCode,a.attributes.GIS_ASSETS_CD=c.gisAssetsCd,a.attributes.GIS_ASSETS_SUB_CD=c.gisAssetsSubCd,a.attributes.QUAY_CD=c.quayCd,a.attributes.USAGE_AR=c.usageAr,a.attributes.USAGE_PD_FROM=c.usagePdFrom,a.attributes.USAGE_PD_TO=c.usagePdTo,a.attributes.USAGE_PURPS=c.usagePurps,a.attributes.USAGE_DTLS=c.usageDtls,a.attributes.ENTRPS_SE=c.entrpsSe,a.attributes.USAGE_PRPOS_CD=c.usagePrposCd,a.attributes.EXEMPT_SE=c.exemptSe,
a.attributes.EXEMPT_RSN_CD=c.exemptRsnCd,a.attributes.EXEMPT_RSN=c.exemptRsn,a.attributes.EXEMPT_PD_FROM=c.exemptPdFrom,a.attributes.EXEMPT_PD_TO=c.exemptPdTo,a.attributes.COMPUT_DTLS=c.computDtls,a.attributes.OLNLP=c.olnlp,a.attributes.APPLC_TARIFF=c.applcTariff,a.attributes.APPLC_MTH=c.applcMth,a.attributes.PACK_SE=c.packSe,a.attributes.FEE_CALC_SE=c.feeCalcSe,a.attributes.RDCXPT_FEE_CALC_SE=c.rdcxptFeeCalcSe,a.attributes.RDCXPT_FEE=c.rdcxptFee,a.attributes.FEE=c.fee,a.attributes.TRMNAT_DT=c.trmnatDt,
a.attributes.TRMNAT_RSN=c.trmnatRsn,a.attributes.REG_USR=c.regUsr,a.attributes.REGIST_DT=c.registDt,a.attributes.UPD_USR=c.updUsr,a.attributes.UPDT_DT=c.updtDt,a.attributes.QUAY_GROUP_CD=c.quayGroupCd,a.state!=OpenLayers.State.INSERT&&(a.state=OpenLayers.State.UPDATE))},getWfsData:function(b,a){var c=OpenLayers.Util.getParameterString({SERVICE:"WFS",VERSION:"1.1.0",REQUEST:"GetFeature",BBOX:postioncd,SRSNAME:"EPSG:900913",OUTPUT:"text/xml;subType=gml/3.1.1/profiles/gmlsf/1.0.0/0",EXCEPTIONS:"text/xml"});
OpenLayers.loadURL("/proxy/proxy.jsp","?url="+escape("http://map.vworld.kr/js/wfs.do?APIKEY=369C4265-766B-31D6-9469-8FB5ECC1BE17&DOMAIN=localhost:8080"+c),this,getSearchdFeature)},OpenLayersVworld:OpenLayers.Class(OpenLayers.Layer.XYZ,{name:"vworldMap",sphericalMercator:!1,transitionEffect:"resize",buffer:1,displayOutsideMaxExtent:!0,initialize:function(b,a){if(null!=a.baseurl||0<a.baseurl.length)a.url=["http://xdworld.vworld.kr:8080/2d/Base/201310/${z}/${x}/${y}.png"];OpenLayers.Layer.XYZ.prototype.initialize.apply(this,
[b,[a.baseurl+"/${z}/${x}/${y}.png"],a])},clone:function(b){null==b&&(b=new OpenLayers.Layer.Vworld(this.name,this.getOptions()));return b=OpenLayers.Layer.XYZ.prototype.clone.apply(this,[b])},getXYZ:function(b){var a=this.map.getResolution(),c=Math.round((b.left-this.maxExtent.left)/(a*this.tileSize.w));b=Math.round((this.maxExtent.top-b.top)/(a*this.tileSize.h));var a=this.map.getZoom(),d=Math.pow(2,a);return 0>b||b>=d?{x:0,y:0,z:0}:{x:(c%d+d)%d,y:b,z:a}},CLASS_NAME:"OpenLayers.Layer.Vworld"}),
OpenLayersDaum:OpenLayers.Class(OpenLayers.Layer.XYZ,{name:"DaumMap",url:["http://i0.maps.daum-img.net/map/image/G03/i/1.04/L${z}/${y}/${x}.png","http://i1.maps.daum-img.net/map/image/G03/i/1.04/L${z}/${y}/${x}.png","http://i2.maps.daum-img.net/map/image/G03/i/1.04/L${z}/${y}/${x}.png","http://i3.maps.daum-img.net/map/image/G03/i/1.04/L${z}/${y}/${x}.png"],sphericalMercator:!1,transitionEffect:"resize",buffer:1,displayOutsideMaxExtent:!0,initialize:function(b,a){a?a.resolutions||(a.resolutions=[2048,
1024,512,256,128,64,32,16,8,4,2,1,0.5,0.25]):a={resolutions:[2048,1024,512,256,128,64,32,16,8,4,2,1,0.5,0.25]};OpenLayers.Layer.XYZ.prototype.initialize.apply(this,[b,null,a])},clone:function(b){null==b&&(b=new OpenLayers.Layer.Daum(this.name,this.getOptions()));return b=OpenLayers.Layer.XYZ.prototype.clone.apply(this,[b])},getXYZ:function(b){var a=this.getServerResolution(),c=Math.round((b.left-this.maxExtent.left)/(a*this.tileSize.w));b=Math.round((b.bottom-this.maxExtent.bottom)/(a*this.tileSize.h));
a=14-this.getServerZoom();if(this.wrapDateLine)var d=Math.pow(2,a),c=(c%d+d)%d;return{x:c,y:b,z:a}},CLASS_NAME:"OpenLayers.Layer.Daum"}),GTransformWMS:OpenLayers.Class(OpenLayers.Layer.WMS,{getURL:function(b){b=this.adjustBounds(b);var a=this.getImageSize(),c={},d=this.reverseAxisOrder();c.BBOX=this.encodeBBOX?b.toBBOX(null,d):b.toArray(d);c.WIDTH=a.w;c.HEIGHT=a.h;this.params.CRS!=this.map.getProjectionObject().projCode&&(d=new OpenLayers.Geometry.Point(b.left,b.bottom),a=OpenLayers.Projection.transform(d,
this.map.projection,this.projection),d=new OpenLayers.Geometry.Point(b.right,b.top),b=OpenLayers.Projection.transform(d,this.map.projection,this.projection),c.BBOX=[a.x,a.y,b.x,b.y]);return this.getFullRequestString(c)},getFullRequestString:function(b,a){this.map.getProjectionObject();1.3<=parseFloat(this.params.VERSION)?this.params.CRS="EPSG:5186":this.params.SRS="EPSG:5186";"boolean"==typeof this.params.TRANSPARENT&&(b.TRANSPARENT=this.params.TRANSPARENT?"TRUE":"FALSE");return OpenLayers.Layer.Grid.prototype.getFullRequestString.apply(this,
arguments)},CLASS_NAME:"GTransformWMS"}),fnRequestWFS:function(c,d,g){geometry=c;try{var h=c=null;"function"==typeof d&&(c=d);"function"==typeof g&&(h=g);OpenLayers.ProxyHost="/proxy.do?url=";var q=a.getElementById("buffer").value,n=a.getElementById("prop_name").value,r=a.getElementById("prop_val").value,s=a.getElementById("prop_opr").value;d="";d+="apiKey="+dataApiKey;""!=geometry?d+="&geometry="+geometry:""!=vCurNaviCode&&(d+="&emdCd="+vCurNaviCode);""!=r&&(d+="&filter="+n+":"+s+":"+encodeURI(r));
d+="&output="+output;d+="&srsName=EPSG:5186";0<q&&(d+="&buffer="+q);1<pageInfo.pageIndex&&(d+="&pageIndex="+pageInfo.pageIndex);d+="&pageUnit="+pageInfo.pageUnit;serviceId=b("#service").val();var t=OpenLayers.Util.extend({url:reqUrl+serviceId+"/data?"+d,headers:{"Content-Type":"text/plain"},success:c,failure:h,scope:this},{method:"GET"});OpenLayers.Request.issue(t)}catch(v){alert("\uacf5\uac04\uc815\ubcf4\uc870\ud68c\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.\n\n"+v.message)}},addFeature:function(b,
a){EMD.draw._mode={mode:b,param:a};EMD.map.addControl(EMD.panel)},cancelFeature:function(){EMD.map.removeControl(EMD.panel)},addAssetCdFeature:function(b,a){},showBupJungDongCode:function(b){OpenLayers.Request.GET({url:escape("http://map.vworld.kr/js/wfs.do"),params:{SERVICE:"WFS",VERSION:"1.1.0",REQUEST:"GetFeature",APIKEY:"5E7D605D-BD5A-3BEE-8C20-62172A86B4AA",DOMAIN:"http://localhost",BBOX:"14179985.99,4077303.96,14266206.96,4183704.31",TYPENAME:"LP_PA_CBND_BUBUN",emdCd:b,filter:"STD_SGGCD:like:"+
b.substring(0,5),SRSNAME:"EPSG:900913",OUTPUT:"text/xml;subType=gml/3.1.1/profiles/gmlsf/1.0.0/0",EXCEPTIONS:"text/xml"},callback:function(b){new OpenLayers.Format.GML}})},showFeature:function(b){},getLotAreaFeature:function(b){features=(new OpenLayers.Format.GML).read(b.responseText)}},user:{hasAuth:function(b){b=b.split(",");if(null!=EMD.userinfo&&null!=EMD.userinfo.authorities&&0<EMD.userinfo.authorities.length)for(var a=0;a<EMD.userinfo.authorities.length;a++)for(var c=0;c<b.length;c++)if(EMD.userinfo.authorities[a]==
b[c])return!0;return!0},userId:function(){return EMD.userinfo.userId}},util:{printPageGrid:function(b,a,c,d){c={};null!=d&&(c=b.getFormValues("#"+d));b.printPage(a,c)},printPageValue:function(b,a,c){var d={};null!=c&&(d=b.getFormValues("#"+c));b.printPage(a,d)},printObj:function(a){if("undefined"!==typeof JSON)return JSON.stringify(a,function(b,a){return"number"!==typeof a||isFinite(a)?a:String(a)});var c=[];b.each(a,function(a,d){var g;g=a+": "+(b.isPlainObject(d)?printObj(d):d);c.push(g)});return"{ "+
c.join(", ")+" }"},getDate:function(b){null==b&&(b=new Date);return EMD.util.leftPad(b.getFullYear(),"0",4)+"-"+EMD.util.leftPad(b.getMonth()+1,"0",2)+"-"+EMD.util.leftPad(b.getDate(),"0",2)},compareDate:function(b,a){return isFinite(b=this.convert(b).valueOf())&&isFinite(a=this.convert(a).valueOf())?(b>a)-(b<a):NaN},inRangeDate:function(b,a,c){return isFinite(b=this.convert(b).valueOf())&&isFinite(start=this.convert(start).valueOf())&&isFinite(end=this.convert(end).valueOf())?start<=b&&b<=end:NaN},
getTimeStamp:function(b){null==b&&(b=new Date);return EMD.util.leftPad(b.getFullYear(),"0",4)+"-"+EMD.util.leftPad(b.getMonth()+1,"0",2)+"-"+EMD.util.leftPad(b.getDate(),"0",2)+" "+EMD.util.leftPad(b.getHours(),"0",2)+":"+EMD.util.leftPad(b.getMinutes(),"0",2)+":"+EMD.util.leftPad(b.getSeconds(),"0",2)},addMonths:function(b,a){var c=b;null==a?c=new Date:b=a;return new Date(c.setMonth(c.getMonth()+b))},addDates:function(b,a){var c=b;a==d?c=new Date:b=a;return new Date(c.setDate(c.getDate()+b))},leftPad:function(b,
a,c){var d="";b=b.toString();if(b.length<c)for(var g=0;g<c-b.length;g++)d+=a;return d+b},addCommas:function(b){x=(b+"").split(".");x1=x[0];x2=1<x.length?"."+x[1]:"";for(b=/(\d+)(\d{3})/;b.test(x1);)x1=x1.replace(b,"$1,$2");return x1+x2},strToDate:function(b){b=b.replace(/-/g,"/");return new Date(Date.parse(b))},isDate:function(b){if(""==b)return!1;b=b.match(/^(\d{1,4})-(\d{1,2})-(\d{2})$/);if(null==b)return!1;dtYear=b[1];dtMonth=b[2];dtDay=b[3];return 1>dtMonth||12<dtMonth||1>dtDay||31<dtDay||(4==
dtMonth||6==dtMonth||9==dtMonth||11==dtMonth)&&31==dtDay||2==dtMonth&&(b=0==dtYear%4&&(0!=dtYear%100||0==dtYear%400),29<dtDay||29==dtDay&&!b)?!1:!0},getLoginUserVO:function(){return EMD.userinfo},showProgress:function(){b("#progress_dialog").dialog("isOpen")||b("#progress_dialog").dialog("open")},hideProgress:function(){b("#progress_dialog").dialog("isOpen")&&b("#progress_dialog").dialog("close")},clear_active:function(){b("a.active, tr.active").removeClass("active");b("ul.menu").hide()},create_window:function(c,
g,h,p,q){var n="#window_"+EMD.window_seq,r="#dock_"+EMD.window_seq;EMD.window_seq++;var s=a.createElement("li");s.id=r.substring(1);s.innerHTML='<a href="'+n+'">'+c+"</a>";b("#dock")[0].appendChild(s);r=a.createElement("div");r.id=n.substring(1);r.style.display="none";r.innerHTML='<div class="abs window_inner"><div class="window_top ui-widget-header"><span class="float_left">'+c+'</span> <span class="float_right"> <a href="#'+r.id+'" class="window_min"></a><a href="#'+r.id+'" class="window_resize"></a> <a href="#'+
r.id+'" class="window_close"></a></span></div><div class="abs window_content"></div></div><div class="abs window_bottom ">\uc5ec\uc218\uad11\uc591\ud56d\ub9cc\uacf5\uc0ac \uc9c0\ub3c4\ud504\ub808\uc784\uc6cc\ud06c ver : 2014.07.04..001</div><span class="abs ui-resizable-handle ui-resizable-se"></span>';b("#desktop")[0].appendChild(r);b(n).addClass("abs");b(n).addClass("window");b(n)[0]._initParam=p;g!=d&&(EMD.util.showProgress(),b(n+" .window_content").load(g,{window_id:n.substring(1),args:h},function(c,
g,k){EMD.util.hideProgress();if("error"==g)alert("\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc5d0\ub7ec\ubc88\ud638: "+k.status+" "+k.statusText);else if("_EMD_ERROR_MODULE"==module_instance.getModuleType())module_instance.loadComplete(),alert(module_instance.getMessge()),EMD.util.window_close(b(this).closest(".window"));else{var h=b("#window_id").val();if(h==d)alert("\uc11c\ubc84 \uc624\ub958\ub85c \uc778\ud558\uc5ec \ud398\uc774\uc9c0\ub97c \ub85c\ub4dc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),
EMD.util.window_close(b(this).closest(".window"));else{c=1*h.substring(h.lastIndexOf("_")+1);b("#window_id").remove();b("#"+h)[0].module=module_instance;module_instance.setWindowId(c);module_instance.setParent(q);EMD.module_instance[c]=module_instance;module_instance.setWindowId(h);EMD.util.modify_window(h);var l,m;g=EMD.win_x;k=EMD.win_y;l=EMD.module_instance[c].getWidth();m=EMD.module_instance[c].getHeight();b(a).height()-48<k+m&&(k=b(a).height()-m-28,20>k&&(k=20));b(a).width()<g+l&&(g=0);EMD.util.window_move(h,
g,k);EMD.win_x=g+30;EMD.win_y=k+30;380<EMD.win_x&&(EMD.win_x=80,EMD.win_y=40);EMD.util.window_size(h,l,m);b("#"+h).resizable({create:function(b,a){},resize:function(a,c){a.stopPropagation();var d=b(this);b(this).find(".window_main").each(function(){b(this).css("height",d.height()-54)});EMD.util.window_resized(c.element)}});b("#"+h).find(':input[data-required="true"]').each(function(){var a=b(this).parent("td").prev();null==a.data("required")&&(a.append("<span style='color:red; font-weight:bold; float:right;'>*</span>"),
a.data("required","true"))});EMD.module_instance[c].loadComplete(b(this).closest(".window")[0]._initParam);EMD.util.window_flat();b("#"+h).addClass("window_stack").show("drop",{},600,function(){EMD.util.window_resized(b(this))});b(b("#"+h)).find(".window_main").each(function(){b(this).css("height",b("#"+h).height()-54)});EMD.util.window_resized(b("#"+h));EMD.util.clear_active()}}}));return r.id},window_resized:function(a){var c=function(a,c){for(var d=null,g=b(c).children(),k=b(c).height(),h=0;h<
g.length;h++){var l=g[h];if(b(l).hasClass("fillHeight"))d=l;else if(!b(l).is("script")||(b(l).is(".emdTabPage")||b(l).is(".viewStack"))&&"none"!=b(l).attr("display"))k-=b(l).outerHeight(!0)}null!=d&&(k-=b(d).outerHeight(!0)-b(d).height(),10<k&&(b(d).is(".emdTabPanel")?(b(d).height(k),b(d).tabs("option","heightStyle","fill"),b(d).children(".emdTabPage").each(function(){a(a,this)})):(b(d).height(k),b(d).hasClass("flexigrid")?b(d).find(".bDiv>table").resizeGrid():a(a,d))))};b(a).is("#__dialog-modal")?
c(c,b(a).find(".dialog")[0]):c(c,b(a).find(".window_main")[0])},window_flat:function(){b("div.window").removeClass("window_stack")},window_show:function(a){b("div.window").removeClass("window_stack");a.addClass("window_stack").css({top:a.data("t"),left:a.data("l"),right:a.data("r"),bottom:a.data("b"),width:a.data("w"),height:a.data("h")}).show()},window_move:function(a,c,d){b("#"+a).css({left:c,top:d})},window_size:function(a,c,d){b("#"+a).css({width:c,height:d})},window_resize:function(b){b.hasClass("window_full")?
b.removeClass("window_full").css({top:b.data("t"),left:b.data("l"),right:b.data("r"),bottom:b.data("b"),width:b.data("w"),height:b.data("h")}):(b.data("t",b.css("top")),b.data("l",b.css("left")),b.data("r",b.css("right")),b.data("b",b.css("bottom")),b.data("w",b.css("width")),b.data("h",b.css("height")),b.addClass("window_full").css({top:"0",left:"0",right:"0",bottom:"0",width:"100%",height:"100%"}));EMD.util.window_flat();b.addClass("window_stack");EMD.util.window_resized(b)},window_hide_all:function(){b("div.window").each(function(){EMD.util.window_hide(b(this))})},
window_hide:function(b){var a=b.attr("id").replace("window","dock");b.data("t",b.css("top"));b.data("l",b.css("left"));b.data("r",b.css("right"));b.data("b",b.css("bottom"));b.data("w",b.css("width"));b.data("h",b.css("height"));b.effect("transfer",{to:"#"+a,className:".ui-effects-transfer"},300,function(){b.removeAttr("style").hide()})},window_close:function(a){var c=a.attr("id").replace("window","dock");a.hide("scale",{percent:0},800,function(){b(this).remove()});b("#"+c).hide("fast");b("#"+c).remove()},
last_window_close:function(){win=b("#window_"+(EMD.window_seq-1));var a=win.attr("href").replace("window","dock");b(win.attr("href")).hide("scale",{percent:0},1E3,function(){b(this).remove()});b(a).hide("fast");b(a).remove()},save_feature:function(){},edit_feature:function(b,a){a==d&&null==a||EMD.wfs.addFeatures(a);EMD.edit_win=b},select:function(b){},modify_id:function(a,c){c.children().length&&c.children().each(function(){0<b(this).children().length&&EMD.util.modify_id(a,b(this));b(this).attr("id")!=
d&&b(this).attr("id",a+"_"+b(this).attr("id"));b(this).attr("data-grid")!=d&&b(this).attr("data-grid",a+"_"+b(this).attr("id"))})},modify_window:function(a){var c=b("#"+a);EMD.util.modify_id(a,b("#"+a));c.data("_win_id",a);c.find(".emdTabPanel").data("_win_id",a);c.find(".emdTabPanel").each(function(){b(this).find(".emdTab").data("_win_id",b(this).data("_win_id"));b(this).find(".emdTab").each(function(){b(this).attr("href",b(this).attr("href").replace("#","#"+b(this).data("_win_id")+"_"))});b(this).tabs({beforeActivate:function(a,
c){var d=b(this).data("onchange-before"),g=c.oldPanel.attr("id").replace(b(this).closest(".window").data("_win_id")+"_",""),h=c.newPanel.attr("id").replace(b(this).closest(".window").data("_win_id")+"_","");if(null!=d)return b(this).closest(".window")[0].module[d](h,g)},activate:function(a,c){var d=b(this).data("onchange"),g=c.oldPanel.attr("id").replace(b(this).closest(".window").data("_win_id")+"_",""),h=c.newPanel.attr("id").replace(b(this).closest(".window").data("_win_id")+"_","");if(null!=d)b(this).closest(".window")[0].module[d](h,
g);EMD.util.window_resized(b(this).closest(".window"))},select:function(b,a){currentTab=a.index},nextTab:function(a){currentTab=currentTab<b(this).tabs("length")-1?currentTab+1:0}})});c.find(".viewStack").each(function(){b(this).changeViewId=function(a){b(this)._viewStackId=a;b(this).find(".viewPanel").each(function(a){a!=b(this).parent(".viewStack")._viewStackId?b(this).css("display","none"):b(this).css("display","block")});b(this).closest(".window_main").trigger("resizeWindow")};b(this).find(".viewPanel").each(function(a){0!=
a&&b(this).css("display","none")});b(this)[0].changePanelId=function(a){b(this).find(".viewPanel").each(function(c){c==a?b(this).css("display","block"):b(this).css("display","none")});EMD.util.window_resized(b(this).closest(".window"))}});c.find("button").each(function(){var d=b(this).data("cmd"),g=b(this),h=!1,n=null;null==d&&(d=null==b(this).attr("id")||b(this).attr("id").length<a.length+1?b(this).attr("class"):b(this).attr("id").substring(a.length+1));if(null!=g.attr("class")){var r=b(this).attr("class").split(/\s+/);
b.each(r,function(a,k){switch(k){case "buttonRegist":n="ui-icon-check";break;case "buttonAdd":n="ui-icon-plusthick";break;case "buttonDelete":n="ui-icon-minusthick";break;case "buttonTrash":n="ui-icon-trash";break;case "buttonSave":n="ui-icon-disk";break;case "buttonSearch":n="ui-icon-search";break;case "popupButton":n="ui-icon-newwin";break;case "buttonExcel":n="ui-icon-document"}if(null!=n&&0===n.indexOf("ui-icon-"))return b(g).button({icons:{primary:n},text:!0}).click({module:c[0].module,button_id:d},
function(a){a.preventDefault();if("buttonSearch"==d)a.data.module.onSubmit();else EMD.util._clickButtonExec(a.data.module,b(this),a.data.button_id)}),h=!0,!1});!1==h&&b(g).button().click({module:c[0].module,button_id:d},function(a){a.preventDefault();EMD.util._clickButtonExec(a.data.module,b(this),a.data.button_id)})}else{for(var r=b(g).text(),n=null,s=0;s<buttonIcons.length;s++)if(buttonIcons[s].label==r){n=buttonIcons[s].icon;break}null!=n?b(g).button({icons:{primary:n},text:!0}).click({module:c[0].module,
button_id:d},function(a){a.preventDefault();null==a.data.button_id?alert("\ubc84\ud2bc \uae30\ub2a5\uc774 \uc815\uc758 \ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."):EMD.util._clickButtonExec(a.data.module,b(this),a.data.button_id)}):b(g).button().click({module:c[0].module,button_id:d},function(a){a.preventDefault();null==a.data.button_id?alert("\ubc84\ud2bc \uae30\ub2a5\uc774 \uc815\uc758 \ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."):EMD.util._clickButtonExec(a.data.module,b(this),a.data.button_id)})}});
b("#"+a).find("input.mngYear").each(function(){b(this).attr("maxlength",4);b(this).on("keyup",function(a){4==b(this).val().length&&b(this).next(":input.mngNo").focus()})});b("#"+a).find("input.mngNo").each(function(){b(this).attr("maxlength",3);b(this).on("keyup",function(a){3==b(this).val().length&&b(this).next(":input.mngCnt").focus()})});b("#"+a).find("input.mngCnt").each(function(){b(this).attr("maxlength",2)});b("#"+a).find("input.gisAssetsCd").each(function(){b(this).attr("maxlength",3);b(this).on("keyup",
function(a){3==b(this).val().length&&b(this).next(":input.mngCnt").focus()})});b("#"+a).find("input.gisAssetsSubCd").each(function(){b(this).attr("maxlength",2)});b("#"+a).find("input.ygpaDeptSelect").each(function(){var c="",d="",g=this,h=b(this).attr("id");null!=b(this).data("default-prompt")&&(c=null!=b(this).data("default-prompt")?b(this).data("default-prompt"):"\uc120\ud0dd",d=null!=b(this).data("default-value")?b(this).data("default-value"):"");if(null==b(this).data("display-value")){try{b(this).attr("type",
"hidden")}catch(l){b(this).attr("id",h+"_backup"),b(this).after('<input type="hidden" id="'+h+'" />'),g=b("#"+a+" #"+h)[0],b(this).remove()}b(g).after('<select id="'+h+'_select" class="frmwrkAuto"></select>')}else"N"==b(this).data("display-value")?(b(this).attr("readonly","readonly"),b(this).before('<select id="'+h+'_select" class="frmwrkAuto"></select>')):(b(this).attr("readonly","readonly"),b(this).after('<select id="'+h+'_select" class="frmwrkAuto"></select>'));""!=c&&b("#"+a).find("#"+h+"_select").append('<option value="'+
d+'" selected>'+c+"</option>");b(this).focus(function(){b("#"+b(this).attr("id")+"_select")[0].focus()});b.ajax({url:EMD.context_root+"/cmmn/selectDeptCodeOptionsList.do",type:"POST",module:g,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"cmd",value:""}],success:function(c){if(null!=c.resultCode&&0!=c.resultCode)1==c.resultCode&&(alert(c.resultMsg),location.reload());else{var d="",g="#"+b(this.module).attr("id")+"_select";if(null!=b(this.module).val())for(var d=
b(this.module).val(),h=0;h<c.resultList.length;h++)d==c.resultList[h].value?b("#"+a).find(g).append('<option value="'+c.resultList[h].value+'" selected>'+c.resultList[h].name+"</option>"):b("#"+a).find(g).append('<option value="'+c.resultList[h].value+'">'+c.resultList[h].name+"</option>");else for(h=0;h<c.resultList.length;h++)b("#"+a).find(g).append('<option value="'+c.resultList[h].value+'">'+c.resultList[h].name+"</option>");b("#"+a).find(g).change({module:this.module},function(a){b(a.data.module).val(b(this).find("option:selected").val());
b(a.data.module).trigger("change")});"readonly"==b(this.module).attr("readonly")&&b(g).attr("readonly","readonly");"disabled"==b(this.module).attr("disabled")&&b(g).attr("disabled","disabled")}},error:function(b,a,c){}})});b("#"+a).find("input.ygpaCmmnCl").each(function(){var c="",d="",g=this,h=b(this).attr("id");null!=b(this).data("default-prompt")&&(c=null!=b(this).data("default-prompt")?b(this).data("default-prompt"):"\uc120\ud0dd",d=null!=b(this).data("default-value")?b(this).data("default-value"):
"");if(null==b(this).data("display-value")){try{b(this).attr("type","hidden")}catch(l){b(this).attr("id",h+"_backup"),b(this).after('<input type="hidden" id="'+h+'" />'),g=b("#"+a+" #"+h)[0],b(this).remove()}b(g).after('<select id="'+h+'_select" class="frmwrkAuto"></select>')}else"N"==b(this).data("display-value")?(b(this).attr("readonly","readonly"),b(this).before('<select id="'+h+'_select" class="frmwrkAuto"></select>')):(b(this).attr("readonly","readonly"),b(this).after('<select id="'+h+'_select" class="frmwrkAuto"></select>'));
""!=c&&(null==b(g).data("value")?b("#"+a).find("#"+h+"_select").append('<option value="'+d+'" selected>'+c+"</option>"):b("#"+a).find("#"+h+"_select").append('<option value="'+d+'">'+c+"</option>"));b(this).focus(function(){b("#"+b(this).attr("id")+"_select")[0].focus()});b.ajax({url:EMD.context_root+"/cmmn/selectCmmnClOptionsList.do",type:"POST",module:g,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[],success:function(c){if(null!=c.resultCode&&0!=c.resultCode)1==
c.resultCode&&(alert(c.resultMsg),location.reload());else{var d="",g="#"+b(this.module).attr("id")+"_select";b("#"+a).find(g).empty();if(null!=b(this.module).val())for(var d=b(this.module).val(),h=0;h<c.resultList.length;h++)d==c.resultList[h].value?b("#"+a).find(g).append('<option value="'+c.resultList[h].value+'" selected>'+c.resultList[h].name+"</option>"):b("#"+a).find(g).append('<option value="'+c.resultList[h].value+'">'+c.resultList[h].name+"</option>");else for(h=0;h<c.resultList.length;h++)b("#"+
a).find(g).append('<option value="'+c.resultList[h].value+'">'+c.resultList[h].name+"</option>");b("#"+a).find(g).change({module:this.module},function(a){b(a.data.module).val(b(this).find("option:selected").val());b(a.data.module).trigger("change")});b("#"+a).find(g).trigger("change");"readonly"==b(this.module).attr("readonly")&&b(g).attr("readonly","readonly");"disabled"==b(this.module).attr("disabled")&&b(g).attr("disabled","disabled")}},error:function(b,a,c){}})});b("#"+a).find("input.ygpaCmmnCode").each(function(){var c=
"",g="",h=this,l=b(this).attr("id");if(b(this).data("cl-code")!=d||b(this).data("cl-selector")!=d){null!=b(this).data("default-prompt")&&(c=null!=b(this).data("default-prompt")?b(this).data("default-prompt"):"\uc120\ud0dd",g=null!=b(this).data("default-value")?b(this).data("default-value"):"");if(null==b(this).data("display-value")){try{b(this).attr("type","hidden")}catch(r){b(this).attr("id",l+"_backup"),b(this).after('<input type="hidden" id="'+l+'" />'),h=b("#"+a+" #"+l)[0],b(this).remove()}b(h).after('<select id="'+
l+'_select" class="frmwrkAuto"></select>')}else"N"==b(this).data("display-value")?(b(this).attr("readonly","readonly"),b(this).before('<select id="'+l+'_select" class="frmwrkAuto"></select>')):(b(this).attr("readonly","readonly"),b(this).after('<select id="'+l+'_select" class="frmwrkAuto"></select>'));""!=c&&(null==b(h).data("value")?b("#"+a).find("#"+l+"_select").append('<option value="'+g+'" selected>'+c+"</option>"):b("#"+a).find("#"+l+"_select").append('<option value="'+g+'">'+c+"</option>"));
b(this).focus(function(){b("#"+b(this).attr("id")+"_select")[0].focus()});var s=b(this).data("cl-code");s==d?b("#"+a+"_"+b(this).data("cl-selector")).change({module:h},function(c){c=c.data.module;s=b(this).val();b.ajax({url:EMD.context_root+"/cmmn/selectCmmnCodeOptionsList.do",type:"POST",module:c,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"clCode",value:b(this).val()}],success:function(c){if(null!=c.resultCode&&0!=c.resultCode)1==c.resultCode&&(alert(c.resultMsg),
location.reload());else{var d="",g="#"+b(this.module).attr("id")+"_select";b("#"+a).find(g).empty();if(null!=b(this.module).val())for(var d=b(this.module).val(),h=0;h<c.resultList.length;h++)d==c.resultList[h].value?b("#"+a).find(g).append('<option value="'+c.resultList[h].value+'" selected>'+c.resultList[h].name+"</option>"):b("#"+a).find(g).append('<option value="'+c.resultList[h].value+'">'+c.resultList[h].name+"</option>");else for(h=0;h<c.resultList.length;h++)b("#"+a).find(g).append('<option value="'+
c.resultList[h].value+'">'+c.resultList[h].name+"</option>");b("#"+a).find(g).change({module:this.module},function(a){b(a.data.module).val(b(this).find("option:selected").val());b(a.data.module).trigger("change")});"readonly"==b(this.module).attr("readonly")&&b(g).attr("readonly","readonly");"disabled"==b(this.module).attr("disabled")&&b(g).attr("disabled","disabled")}},error:function(b,a,c){}})}):b.ajax({url:EMD.context_root+"/cmmn/selectCmmnCodeOptionsList.do",type:"POST",module:h,dataType:"json",
contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"cl_code",value:s}],success:function(c){if(null!=c.resultCode&&0!=c.resultCode)1==c.resultCode&&(alert(c.resultMsg),location.reload());else{var d="",g="#"+b(this.module).attr("id")+"_select";if(null!=b(this.module).val())for(var d=b(this.module).val(),h=0;h<c.resultList.length;h++)d==c.resultList[h].value?b("#"+a).find(g).append('<option value="'+c.resultList[h].value+'" selected>'+c.resultList[h].name+"</option>"):b("#"+a).find(g).append('<option value="'+
c.resultList[h].value+'">'+c.resultList[h].name+"</option>");else for(h=0;h<c.resultList.length;h++)b("#"+a).find(g).append('<option value="'+c.resultList[h].value+'">'+c.resultList[h].name+"</option>");b("#"+a).find(g).change({module:this.module},function(a){b(a.data.module).val(b(this).find("option:selected").val());b(a.data.module).trigger("change")});"readonly"==b(this.module).attr("readonly")&&b(g).attr("readonly","readonly");"disabled"==b(this.module).attr("disabled")&&b(g).attr("disabled",
"disabled")}},error:function(b,a,c){}})}});b("#"+a).find("input.ygpaCmmnCd").each(function(){var c="",g="",h=this,l=b(this).attr("id");if(b(this).data("code-id")!=d){null!=b(this).data("default-prompt")&&(c=null!=b(this).data("default-prompt")?b(this).data("default-prompt"):"\uc120\ud0dd",g=null!=b(this).data("default-value")?b(this).data("default-value"):"");if(null==b(this).data("display-value")){try{b(this).attr("type","hidden")}catch(r){b(this).attr("id",l+"_backup"),b(this).after('<input type="hidden" id="'+
l+'" />'),h=b("#"+a+" #"+l)[0],b(this).remove()}b(h).after('<select id="'+l+'_select" class="frmwrkAuto"></select>')}else"N"==b(this).data("display-value")?(b(this).attr("readonly","readonly"),b(this).before('<select id="'+l+'_select" class="frmwrkAuto"></select>')):(b(this).attr("readonly","readonly"),b(this).after('<select id="'+l+'_select" class="frmwrkAuto"></select>'));""!=c&&(null==b(h).data("value")?b("#"+a).find("#"+l+"_select").append('<option value="'+g+'" selected>'+c+"</option>"):b("#"+
a).find("#"+l+"_select").append('<option value="'+g+'">'+c+"</option>"));b(this).focus(function(){b("#"+b(this).attr("id")+"_select")[0].focus()});b.ajax({url:EMD.context_root+"/cmmn/selectCmmnCdOptionsList.do",type:"POST",module:h,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"code_id",value:b(this).data("code-id")}],success:function(c){if(null!=c.resultCode&&0!=c.resultCode)1==c.resultCode&&(alert(c.resultMsg),location.reload());else{var d="",g="#"+b(this.module).attr("id")+
"_select";if(null!=b(this.module).val())for(var d=b(this.module).val(),h=0;h<c.resultList.length;h++)d==c.resultList[h].value?b("#"+a).find(g).append('<option value="'+c.resultList[h].value+'" selected>'+c.resultList[h].name+"</option>"):b("#"+a).find(g).append('<option value="'+c.resultList[h].value+'">'+c.resultList[h].name+"</option>");else for(h=0;h<c.resultList.length;h++)b("#"+a).find(g).append('<option value="'+c.resultList[h].value+'">'+c.resultList[h].name+"</option>");b("#"+a).find(g).change({module:this.module},
function(a){b(a.data.module).val(b(this).find("option:selected").val());b(a.data.module).trigger("change")});"readonly"==b(this.module).attr("readonly")&&b(g).attr("readonly","readonly");"disabled"==b(this.module).attr("disabled")&&b(g).attr("disabled","disabled")}},error:function(b,a,c){}})}});b("#"+a).find("input.ygpaYnSelect").each(function(){var c="",d="",g="Y",h="\uc608",l="\uc544\ub2c8\uc624",s,t=this;s=b(this).attr("id");null!=b(this).data("default-prompt")&&(c=null!=b(this).data("default-prompt")?
b(this).data("default-prompt"):"\uc120\ud0dd",d=null!=b(this).data("default-value")?b(this).data("default-value"):"");if(null==b(this).data("display-value")){try{b(this).attr("type","hidden")}catch(v){b(this).attr("id",s+"_backup"),b(this).after('<input type="hidden" id="'+s+'" />'),t=b("#"+a+" #"+s)[0],b(this).remove()}b(t).after('<select id="'+s+'_select" class="frmwrkAuto"></select>')}else"N"==b(this).data("display-value")?(b(this).attr("readonly","readonly"),b(this).before('<select id="'+s+'_select" class="frmwrkAuto"></select>')):
(b(this).attr("readonly","readonly"),b(this).after('<select id="'+s+'_select" class="frmwrkAuto"></select>'));s=b("#"+a).find("#"+s+"_select");selected_code=b(this).data("value");""!=c&&(null==selected_code?s.append('<option value="'+d+'" selected>'+c+"</option>"):s.append('<option value="'+d+'">'+c+"</option>"));null!=b(this).data("y-value")&&(g=b(this).data("y-value"));null!=b(this).data("n-value")&&(g=b(this).data("n-value"));null!=b(this).data("y-prompt")&&(h=b(this).data("y-prompt"));null!=b(this).data("n-prompt")&&
(l=b(this).data("n-prompt"));""==c||null!=selected_code?(selected_code==g?s.append('<option value="'+g+'" selected>'+h+"</option>"):s.append('<option value="'+g+'">'+h+"</option>"),selected_code!=g?s.append('<option value="N" selected>'+l+"</option>"):s.append('<option value="N">'+l+"</option>"),b(this).val(selected_code)):(s.append('<option value="'+g+'">'+h+"</option>"),s.append('<option value="N">'+l+"</option>"));b(this).focus(function(){b("#"+b(this).attr("id")+"_select")[0].focus()});s.change({module:t},
function(a){b(a.data.module).val(b(this).find("option:selected").val());b(a.data.module).trigger("change")})});b("#"+a).find("input.ygpaNumber, input.ygpaCurrency").each(function(){b(this).change(function(){str=b(this).number(!0,1*b(this).data("decimal-point")).val();b(this).val(str)});b(this).keypress(function(b){8!=b.which&&46!=b.which&&isNaN(String.fromCharCode(b.which))&&b.preventDefault()})});b("#"+a).find(".emdTime").each(function(){b(this).keyup(function(){var a=b(this).val();0<=a.indexOf(":")?
5!=a.length&&b(this).val(b(this).val().replace(/-/g,"")):4==a.length&&(a.substr(0,2),a.substr(2,2))})});b("#"+a).find(".emdcal").each(function(){b(this).datepicker({showOn:"button",buttonImage:EMD.context_root+"/images/egovframework/rte/icon_date_picker.jpg",buttonImageOnly:!0,dateFormat:"yy-mm-dd",prevText:"\uc774\uc804 \ub2ec",nextText:"\ub2e4\uc74c \ub2ec",monthNames:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),monthNamesShort:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),
dayNames:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),dayNamesShort:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),dayNamesMin:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),changeMonth:!0,changeYear:!0});"dtFrom"==b(this).data("role")&&(b("#"+a+"_"+b(this).data("dt-to")).on("change",{dtFrom:this},function(a){b(a.data.dtFrom).datepicker("option","maxDate",b(this).datepicker("getDate"))}),b(this).datepicker("option","maxDate",b("#"+a+"_"+b(this).data("dt-to")).datepicker("getDate")));
"dtTo"==b(this).data("role")&&(b("#"+a+"_"+b(this).data("dt-from")).on("change",{dtTo:this},function(a){b(a.data.dtTo).datepicker("option","minDate",b(this).datepicker("getDate"))}),b(this).datepicker("option","minDate",b("#"+a+"_"+b(this).data("dt-from")).datepicker("getDate")));b(this).keyup(function(){var a=b(this).val();0<=a.indexOf("-")?10!=a.length?b(this).val(b(this).val().replace(/-/g,"")):EMD.util.isDate(a)||alert("\ub0a0\uc9dc \ud615\uc2dd\uc774 \ubd80\uc801\ud569 \ud569\ub2c8\ub2e4."):
8==a.length&&(a=a.substr(0,4)+"-"+a.substr(4,2)+"-"+a.substr(6,2),EMD.util.isDate(a)?b(this).val(a):alert("\ub0a0\uc9dc \ud615\uc2dd\uc774 \ubd80\uc801\ud569 \ud569\ub2c8\ub2e4."))})})},_clickButtonExec:function(b,a,c){switch(a.data("role")){case "printPage":c=a.data("flexi-grid");var g=a.data("url");null==c?EMD.util.printPageValue(b,g,a.data("search-option")):EMD.util.printPageGrid(b,g,a.data("flexi-grid"),a.data("search-option"));break;case "loadMap":c=a.data("flexi-grid");null==c?EMD.gis.loadMapDataCode(b,
a.data("gis-layer"),a.data("gis-style"),a.data("value-name"),a.data("value")):EMD.gis.loadMapDataFlexGrid(b,a.data("gis-layer"),a.data("gis-style"),a.data("flexi-grid"),a.data("code-id"),a.data("value"));break;case "showMap":c=a.data("flexi-grid");null==c?EMD.gis.showMapDataCode(b,a.data("gis-layer"),a.data("value-name"),a.data("value")):EMD.gis.showMapDataFlexGrid(b,a.data("gis-layer"),a.data("flexi-grid"),a.data("code-id"),a.data("value"));break;case "removeFeature":c=a.data("flexi-grid");null==
c?EMD.gis.removeMapDataCode(b,a.data("gis-layer"),a.data("value-name"),a.data("value")):EMD.gis.removeMapDataFlexGrid(b,a.data("gis-layer"),a.data("flexi-grid"),a.data("code-id"),a.data("value"));break;case "addFeature":c=a.data("flexi-grid");null==c?EMD.gis.addFeatureCode(b,a.data("gis-layer"),a.data("value-name"),a.data("value")):EMD.gis.addFeatureFlexGrid(b,a.data("gis-layer"),a.data("flexi-grid"),a.data("code-id"),a.data("value"));null!=EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),
EMD.popup.lotAreaInfo.destroy());break;default:if(a.hasClass("buttonExcel")){var h=a.data("flexi-grid"),g=a.data("url");if(h!=d&&g!=d)b.$("#"+h).flexExcelDown(g);else b.onButtonClick(c)}else b.onButtonClick(c)}}}}}(jQuery,this,this.document);function EmdModule(b,c){this._selectedRow=this._window_id=this._parent=null;void 0==b||null==b||void 0==c||null==c?(this._width=720,this._height=480):(this._width=b,this._height=c);this._moduleType="_EMD_MODULE"}EmdModule.prototype.getModuleType=function(){return this._moduleType};
EmdModule.prototype.setParent=function(b){this._parent=b};EmdModule.prototype.showMap=function(b,c){void 0!=b&&(this._selectedRow=this.$("#"+b).selectedRows(),$(this._selectedRow).each(function(){EMD.gis.selectAssetCdFeature(this.gisAssetsPrtAtCode,this.gisAssetsCd,this.gisAssetsSubCd)}));EMD.transactionWindow=this._window_id;EMD.util.window_hide_all()};EmdModule.prototype.modifyFeatureCode=function(b,c,a){EMD.gis.modifyFeatureCode(this,b,c,a)};
EmdModule.prototype.removeFeatureCode=function(b,c){EMD.gis.removeFeatureCode(this,b,c)};EmdModule.prototype.changeFeatureAttrib=function(b,c,a){EMD.gis.changeFeatureAttribute(this,b,c,a)};EmdModule.prototype.selectFeatureData=function(b,c,a){EMD.gis.selectFeatureData(this,b,c,a)};EmdModule.prototype.getSelect=function(b){alert("get select = "+this._window_id+" "+b)};EmdModule.prototype.showAlert=function(b){alert("alert id = "+this._window_id+" "+b)};
EmdModule.prototype.setWindowId=function(b){this._window_id=b;this._window=$(b)};EmdModule.prototype.getWindowId=function(){return this._window_id};EmdModule.prototype.getWidth=function(){return this._width};EmdModule.prototype.setWidth=function(b){this._width=b};EmdModule.prototype.getHeight=function(){return this._height};EmdModule.prototype.setHeight=function(b){this._height=b};EmdModule.prototype.setSelectedRow=function(b){this._selectedRow=b};EmdModule.prototype.getSelectedRow=function(){return this._selectedRow};
EmdModule.prototype.$=function(b){return $("#"+this._window_id).find(b.replace("#","#"+this._window_id+"_"))};
EmdModule.prototype.makeFormArgs=function(b){var c=[],a=this._window_id;this.$(b).find(":input").not(".frmwrkAuto").not(".skipValue").each(function(){var b="",b=$(this).hasClass("ygpaNumber")||$(this).hasClass("ygpaCurrency")?$(this).number(!1).val():$(this).val();if(null!=$(this).data("column-id"))c[c.length]={name:$(this).data("column-id"),value:b};else{var g=$(this).attr("id");"string"==typeof g&&(g=g.replace(a+"_",""),c[c.length]={name:g,value:b})}});return c};
EmdModule.prototype.makeFormValues=function(b,c){var a=this._window_id;if(c instanceof Array){for(var d={},g=0;g<c.length;g++)d[c[g].name]=c[g].value;c=d}"object"==typeof c&&this.$(b).find(":input").not(".frmwrkAuto").not(".skipValue").each(function(){var b="";if(null!=$(this).data("column-id"))b=$(this).data("column-id");else if(b=$(this).attr("id"),"string"==typeof b)b=b.replace(a+"_","");else return;null!=c[b]?$(this).hasClass("ygpaNumber")||$(this).hasClass("ygpaCurrency")?$(this).val($.number(c[b])):
$(this).hasClass("ygpaDeptSelect")||$(this).hasClass("ygpaCmmnCl")||$(this).hasClass("ygpaCmmnCode")||$(this).hasClass("ygpaCmmnCd")||$(this).hasClass("ygpaYnSelect")?($(this).val(c[b]),$("#"+$(this).attr("id")+"_select").val(c[b])):$(this).val(c[b]):$(this).val("")})};
EmdModule.prototype.makeDivValues=function(b,c){var a=null,d=this._window_id;if(c instanceof Array){for(var a={},g=0;g<c.length;g++)a[c[g].name]=c[g].value;c=a}"object"==typeof c&&(a="string"==typeof b?this.$(b):"object"==typeof b?b:$(b),a.find("span").each(function(){var a="";if(null!=$(this).data("column-id"))a=$(this).data("column-id");else if(a=$(this).attr("id"),"string"==typeof a)a=a.replace(d+"_","");else return;if(null!=c[a])if($(this).hasClass("ygpaNumber")||$(this).hasClass("ygpaCurrency"))$(this).text($.number(c[a]));
else if($(this).hasClass("ygpaDeptSelect")||$(this).hasClass("ygpaCmmnCl")||$(this).hasClass("ygpaCmmnCode")||$(this).hasClass("ygpaCmmnCd")||$(this).hasClass("ygpaYnSelect")||$(this).hasClass("ygpaDecode")){var b=$(this);if($(this).hasClass("ygpaDeptSelect"))$.ajax({url:EMD.context_root+"/cmmn/selectDeptCodeName.do",type:"POST",module:b,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"value",value:c[a]}],success:function(a){this.module.text(a.name)},error:function(a,
b,c){try{this.module.text("\uc11c\ubc84\uc624\ub958")}catch(d){}}});else if($(this).hasClass("ygpaCmmnCl"))$.ajax({url:EMD.context_root+"/cmmn/selectCmmnClName.do",type:"POST",module:b,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{value:g},{name:"value",value:c[a]}],success:function(a){this.module.text(a.value)},error:function(a,b,c){try{this.module.text("\uc11c\ubc84\uc624\ub958")}catch(d){}}});else if($(this).hasClass("ygpaCmmnCode"))g=b.data("cl-code"),$.ajax({url:EMD.context_root+
"/cmmn/selectCmmnCodeName.do",type:"POST",module:b,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"clCode",value:g},{name:"codeId",value:c[a]}],success:function(a){this.module.text(a.value)},error:function(a,b,c){try{this.module.text("\uc11c\ubc84\uc624\ub958")}catch(d){}}});else if($(this).hasClass("ygpaCmmnCd")){var g=b.data("code-id");$.ajax({url:EMD.context_root+"/cmmn/selectCmmnDetailCodeName.do",type:"POST",module:b,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",
data:[{name:"codeId",value:g},{name:"code",value:c[a]}],success:function(a){this.module.text(a.value)},error:function(a,b,c){try{this.module.text("\uc11c\ubc84\uc624\ub958")}catch(d){}}})}else if($(this).hasClass("ygpaYnSelect")){var b="Y",g="\uc608",m="\uc544\ub2c8\uc624";null!=$(this).data("y-value")&&(b=$(this).data("y-value"));null!=$(this).data("n-value")&&(b=$(this).data("n-value"));c[a]==b?(null!=$(this).data("y-prompt")&&(g=$(this).data("y-prompt")),$(this).text(g)):"N"==c[a]?(null!=$(this).data("n-prompt")&&
(m=$(this).data("n-prompt")),$(this).text(m)):$(this).text(c[a])}else if($(this).hasClass("ygpaDecode")&&"string"==typeof c[a]&&"string"==typeof $(this).data("decode-string")){g=$(this).data("decode-string").match(",");b=$(this);for(b=0;b<g.length;b++)if(g[b]==c[a]){$(this).text($(this).data("decode-"+b));return}$(this).text($(this).data("decode-default"))}}else $(this).text(c[a]);else $(this).text("")}))};
EmdModule.prototype.makeMultiDivValues=function(b,c,a){b=this.$(b);if(b.children().length<c.length)for(var d=b.children().length;d<c.length;d++){var g=b.children(":first-child").clone();b.append(g)}else if(b.children().length>c.length)for(;1<b.children().length&&b.children().length>c.length;)b.children(":last-child").remove();for(d=0;d<c.length;d++)g=b.children(":eq("+d+")"),this.makeDivValues(g,c[d]),g[0].func=a,g[0].func(c[d]),delete g[0].func;0==c.length&&this.makeDivValues(b.children(),{})};
EmdModule.prototype.getFormValues=function(b,c){var a=this._window_id,d=$.extend({},c);this.$(b).find(":input").not(".frmwrkAuto").each(function(){var b="",b=$(this).hasClass("ygpaNumber")||$(this).hasClass("ygpaCurrency")?$(this).number(!1).val():$(this).val();if(null!=$(this).data("column-id"))d[$(this).data("column-id")]=b;else{var c=$(this).attr("id");"string"==typeof c&&(c=c.replace(a+"_",""),d[c]=b)}null!=$(this).data("column-label-id")&&(d[$(this).data("column-label-id")]=$("#"+$(this).attr("id")+
"_select").find(":selected").text())});return d};EmdModule.prototype.doAction=function(b,c,a){$.ajax({url:b,type:"POST",module:this,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:c}).done(function(b){null!=a&&a(this.module,b)})};
EmdModule.prototype.doExecuteDialog=function(b,c,a,d,g){if(0==$("#__dialog-modal").length){var h=document.createElement("div");h.style.display="none";h.innerHTML='<div id="__dialog-modal"></div>';$("#desktop")[0].appendChild(h)}EMD.popupcaller=this;EMD.popupId=b;EMD.popupParams=g;void 0!=a&&$("#__dialog-modal").load(a,d,function(a,b,d){"error"==b?alert("\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc5d0\ub7ec\ubc88\ud638: "+d.status+" "+d.statusText):(a=popup_instance.getWidth(),b=popup_instance.getHeight(),
$("#__dialog-modal").dialog({width:a,height:b,modal:!0,closeOnEscape:!0,title:c}),$("#__dialog-modal")[0].module=popup_instance,popup_instance.setDialog($("#__dialog-modal")),popup_instance.setPopupCaller(EMD.popupcaller),popup_instance.setPopupId(EMD.popupId),EMD.util.modify_window("__dialog-modal"),$("#__dialog-modal").on("resizeWindow",function(a){a.stopPropagation();EMD.util.window_resized($(this))}),$("#__dialog-modal").trigger("resizeWindow"),$("#__dialog-modal").resizable({create:function(a,
b){},resize:function(a,b){a.stopPropagation();EMD.util.window_resized(b.element)}}),popup_instance.loadComplete(EMD.popupParams))})};
EmdModule.prototype.uploadFile=function(b,c,a){null==a&&(a="\uc5c5\ub85c\ub4dc \ud30c\uc77c");$("tbody.files").empty();$("#file_upload_dialog").dialog("option",{title:a,closeOnEscape:!0});$("#file_upload_dialog").dialog({buttons:[{text:"\ud655\uc778",click:function(){var a=[];$("#fileupload tbody.files tr").each(function(){a[a.length]={physcalFileNm:$(this).data("physcal-file-nm"),logicalFileNm:$(this).data("logical-file-nm")}});$(this).trigger("fileUploaded",{rows:a});$(this).dialog("close")}},{text:"\ucde8\uc18c",
click:function(){$(this).dialog("close")}}]});$("#file_upload_dialog").dialog("open");$("#fileupload").addClass("fileupload-processing");$("#fileupload").data("module",this);$("#file_upload_dialog").off("fileUploaded");$("#file_upload_dialog").on("fileUploaded",{done:c,module:this},function(a,b){a.data.done(a.data.module,b.rows)})};
EmdModule.prototype.uploadPfPhoto=function(b,c,a){null==a&&(a="\uc2dc\uc124 \uc0ac\uc9c4 \uc5c5\ub85c\ub4dc");$("tbody.files").empty();$("#pfPhoto_upload_dialog").dialog("option",{title:a,closeOnEscape:!0});$("#pfPhoto_upload_dialog").dialog({buttons:[{text:"\ud655\uc778",click:function(){var a=[];$("#pfPhotoupload tbody.files tr").each(function(){a[a.length]={physcalFileNm:$(this).data("physcal-file-nm"),logicalFileNm:$(this).data("logical-file-nm")}});$(this).trigger("fileUploaded",{rows:a});$(this).dialog("close")}},
{text:"\ucde8\uc18c",click:function(){$(this).dialog("close")}}]});$("#pfPhoto_upload_dialog").dialog("open");$("#pfPhotoupload").addClass("fileupload-processing");$("#pfPhotoupload").data("module",this);$("#pfPhoto_upload_dialog").off("fileUploaded");$("#pfPhoto_upload_dialog").on("fileUploaded",{done:c,module:this},function(a,b){a.data.done(a.data.module,b.rows)})};
EmdModule.prototype.downPfPhoto=function(b,c){$.fileDownload(EMD.context_root+"/download/pfDownloadFile.do",{data:{requestedFile:b,downloadFileName:c},httpMethod:"POST"})};
EmdModule.prototype.uploadXlsFile=function(b,c,a){null==a&&(a="\uc5c5\ub85c\ub4dc \ud30c\uc77c");$("#xlsfile_upload_dialog").dialog("option",{title:a,closeOnEscape:!0});$("#xlsfile_upload_dialog").dialog({buttons:[{text:"\ud655\uc778",click:function(){$(this).trigger("fileUploaded");$(this).dialog("close")}},{text:"\ucde8\uc18c",click:function(){$(this).dialog("close")}}]});$("#xlsfile_upload_dialog").dialog("open");$("#xlsfileupload").data("module",this);$("#xlsfile_upload_dialog").off("fileUploaded");
$("#xlsfile_upload_dialog").on("fileUploaded",{done:c,module:this},function(a){a.data.done(a.data.module,null)})};EmdModule.prototype.downloadFile=function(b,c){$.fileDownload(EMD.context_root+"/download/downloadFile.do",{data:{requestedFile:b,downloadFileName:c},httpMethod:"POST"})};EmdModule.prototype.addGisAssetsCdMap=function(b,c){EMD.util.window_hide_all();EMD.gis.addFeature(b,c)};EmdModule.prototype.modifyGisAssetsCdMap=function(b,c){EMD.gis.modifyFeature(b,c)};
EmdModule.prototype.addAssetsCodeByLotcode=function(b,c){};EmdModule.prototype.showBupJungDongCodeLocation=function(b){EMD.gis.showBupJungDongCode(b)};EmdModule.prototype.getImageUrl=function(b){return EMD.context_root+"/cmm/getImage.do?physicalFileNm="+b};EmdModule.prototype.getPfPhotoUrl=function(b){return EMD.context_root+"/cmm/getPfImage.do?physicalFileNm="+b};EmdModule.prototype.showWindow=function(){EMD.util.window_show($("#"+this._window_id))};
EmdModule.prototype.hideWindow=function(){EMD.util.window_hide($("#"+this._window_id))};EmdModule.prototype.closeWindow=function(b){if(null!=this._parent&&(b=this._parent.closeChildWindow(this._window_id,b),null!=b&&!1==b))return!1;var c="#"+this._window_id;setTimeout(function(){EMD.util.window_close($(c))},0);return!0};EmdModule.prototype.closeChildWindow=function(b,c){return!0};
EmdModule.prototype.requestEApproval=function(b,c){$("#__tempDiv").empty();var a=document.createElement("form");$(a).attr("id","__requestEApprovalForm");var d=document.createElement("input"),g=document.createElement("input"),h=document.createElement("input"),k=document.createElement("input"),l=document.createElement("input");$(d).attr("name","prtAtCode");$(d).val(b.prtAtCode);$(g).attr("name","mngYear");$(g).val(b.mngYear);$(h).attr("name","mngNo");$(h).val(b.mngNo);$(k).attr("name","mngCnt");$(k).val(b.mngCnt);
$(l).attr("name","type");$(l).val(b.type);if("N"==b.type.substring(2,3)){var m=document.createElement("input");$(m).attr("name","nticCnt");$(m).val(b.nticCnt);$(a).append(m)}$(a).append(d);$(a).append(g);$(a).append(h);$(a).append(k);$(a).append(l);$(a).attr("action",EMD.context_root+"/cmmn/fclty/openApprovalRequest.do");$("#__tempDiv").append(a);window.open("","Window","width=1024, height=768, menubar=no,status=yes,scrollbars=no");a.target="Window";a.submit()};
EmdModule.prototype.printPayNotice=function(b,c,a){$("#__tempDiv").empty();a=document.createElement("form");$(a).attr("id","__printPayNoticeForm");var d=document.createElement("input"),g=document.createElement("input"),h=document.createElement("input"),k=document.createElement("input"),l=document.createElement("input"),m=document.createElement("input");$(d).attr("name","prtAtCode");$(d).val(c.prtAtCode);$(g).attr("name","mngYear");$(g).val(c.mngYear);$(h).attr("name","mngNo");$(h).val(c.mngNo);$(k).attr("name",
"mngCnt");$(k).val(c.mngCnt);$(l).attr("name","nticCnt");$(l).val(c.nticCnt);$(m).attr("name","chrgeKnd");$(m).val(c.chrgeKnd);$(a).append(d);$(a).append(g);$(a).append(h);$(a).append(k);$(a).append(l);$(a).append(m);$(a).attr("action",b);$("#__tempDiv").append(a);window.open("","payNotice","width=800, height=600, menubar=no,status=no,scrollbars=yes");a.target="payNotice";a.submit()};
EmdModule.prototype.printTaxNotice=function(b,c,a){$("#__tempDiv").empty();a=document.createElement("form");$(a).attr("id","__printTaxNoticeForm");var d=document.createElement("input"),g=document.createElement("input"),h=document.createElement("input"),k=document.createElement("input"),l=document.createElement("input");$(d).attr("name","prtAtCode");$(d).val(c.prtAtCode);$(g).attr("name","mngYear");$(g).val(c.mngYear);$(h).attr("name","mngNo");$(h).val(c.mngNo);$(k).attr("name","mngCnt");$(k).val(c.mngCnt);
$(l).attr("name","nticCnt");$(l).val(c.nticCnt);$(a).append(d);$(a).append(g);$(a).append(h);$(a).append(k);$(a).append(l);$(a).attr("action",b);$("#__tempDiv").append(a);window.open("","taxNotice","width=800, height=600, menubar=no,status=no,scrollbars=yes");a.target="taxNotice";a.submit()};
EmdModule.prototype.printPage=function(b,c){$("#__tempDiv").empty();var a=document.createElement("form");$(a).attr("id","__printPayNoticeForm");for(var d in c){var g=document.createElement("input");$(g).attr("name",d);$(g).val(c[d]);$(a).append(g)}$(a).attr("action",b);$("#__tempDiv").append(a);window.open("","printPage","width=800, height=600, menubar=no,status=no,scrollbars=yes");a.target="printPage";a.submit()};
EmdModule.prototype.modifyAssetsCodeFeature=function(b,c){EMD.gis.modifyAssetCdFeature(b,c)};function EmdPopupModule(b,c){this._returnValue=this._popupId=this._popupCaller=null;void 0==b||null==b||void 0==c||null==c?(this._width=720,this._height=480):(this._width=b,this._height=c);this.module=null;this._moduleType="_EMD_POPUP_MODULE"}EmdPopupModule.prototype.getModuleType=function(){return this._moduleType};EmdPopupModule.prototype.setDialog=function(b){this._dialog=b};
EmdPopupModule.prototype.getDialog=function(b){return this._dialog};EmdPopupModule.prototype.setPopupCaller=function(b){this._popupCaller=b};EmdPopupModule.prototype.onClosePopup=function(b,c,a){alert("close dialog "+b)};EmdPopupModule.prototype.setPopupId=function(b){this._popupId=b};EmdPopupModule.prototype.getWidth=function(){return this._width};EmdPopupModule.prototype.setWidth=function(b){this._width=b};EmdPopupModule.prototype.getHeight=function(){return this._height};
EmdPopupModule.prototype.setHeight=function(b){this._height=b};EmdPopupModule.prototype.onButtonClick=function(b){alert("button "+b+" is clicked")};EmdPopupModule.prototype.resizable=function(b){this._dialog.dialog("option","resizable")!=b&&this._dialog.dialog("option","resizable",b)};
EmdPopupModule.prototype.makeFormArgs=function(b){var c=[];this.$(b).find(":input").not(".frmwrkAuto").not(".skipValue").each(function(){var a="",a=$(this).hasClass("ygpaNumber")||$(this).hasClass("ygpaCurrency")?$(this).val().replace(/,/gi,""):$(this).val();if(null!=$(this).data("column-id"))c[c.length]={name:$(this).data("column-id"),value:a};else{var b=$(this).attr("id");"string"==typeof b&&(b=b.replace("__dialog-modal_",""),c[c.length]={name:b,value:a})}});return c};
EmdPopupModule.prototype.makeFormValues=function(b,c){if(c instanceof Array){for(var a={},d=0;d<c.length;d++)a[c[d].name]=c[d].value;c=a}"object"==typeof c&&this.$(b).find(":input").not(".frmwrkAuto").not(".skipValue").each(function(){var a="";if(null!=$(this).data("column-id"))a=$(this).data("column-id");else if(a=$(this).attr("id"),"string"==typeof a)a=a.replace("__dialog-modal_","");else return;null!=c[a]?$(this).hasClass("ygpaNumber")||$(this).hasClass("ygpaCurrency")?$(this).val($.number(c[a])):
$(this).hasClass("ygpaDeptSelect")||$(this).hasClass("ygpaCmmnCl")||$(this).hasClass("ygpaCmmnCode")||$(this).hasClass("ygpaCmmnCd")||$(this).hasClass("ygpaYnSelect")?($(this).val(c[a]),$("#"+$(this).attr("id")+"_select").val(c[a])):$(this).val(c[a]):$(this).val("")})};
EmdPopupModule.prototype.makeDivValues=function(b,c){var a=null;if(c instanceof Array){for(var a={},d=0;d<c.length;d++)a[c[d].name]=c[d].value;c=a}"object"==typeof c&&(a="string"==typeof b?this.$(b):"object"==typeof b?b:$(b),a.find("span").each(function(){var a="";if(null!=$(this).data("column-id"))a=$(this).data("column-id");else if(a=$(this).attr("id"),"string"==typeof a)a=a.replace("__dialog-modal_","");else return;if(null!=c[a])if($(this).hasClass("ygpaNumber")||$(this).hasClass("ygpaCurrency"))$(this).text($.number(c[a]));
else if($(this).hasClass("ygpaDeptSelect")||$(this).hasClass("ygpaCmmnCl")||$(this).hasClass("ygpaCmmnCode")||$(this).hasClass("ygpaCmmnCd")||$(this).hasClass("ygpaYnSelect")||$(this).hasClass("ygpaDecode")){var b=$(this);if($(this).hasClass("ygpaDeptSelect"))$.ajax({url:EMD.context_root+"/cmmn/selectDeptCodeName.do",type:"POST",module:b,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"value",value:c[a]}],success:function(a){this.module.text(a.name)},error:function(a,
b,c){try{this.module.text("\uc11c\ubc84\uc624\ub958")}catch(d){}}});else if($(this).hasClass("ygpaCmmnCl"))$.ajax({url:EMD.context_root+"/cmmn/selectCmmnClName.do",type:"POST",module:b,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{value:d},{name:"value",value:c[a]}],success:function(a){this.module.text(a.value)},error:function(a,b,c){try{this.module.text("\uc11c\ubc84\uc624\ub958")}catch(d){}}});else if($(this).hasClass("ygpaCmmnCode"))d=b.data("cl-code"),$.ajax({url:EMD.context_root+
"/cmmn/selectCmmnCodeName.do",type:"POST",module:b,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"clCode",value:d},{name:"codeId",value:c[a]}],success:function(a){this.module.text(a.value)},error:function(a,b,c){try{this.module.text("\uc11c\ubc84\uc624\ub958")}catch(d){}}});else if($(this).hasClass("ygpaCmmnCd")){var d=b.data("code-id");$.ajax({url:EMD.context_root+"/cmmn/selectCmmnDetailCodeName.do",type:"POST",module:b,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",
data:[{name:"codeId",value:d},{name:"code",value:c[a]}],success:function(a){this.module.text(a.value)},error:function(a,b,c){try{this.module.text("\uc11c\ubc84\uc624\ub958")}catch(d){}}})}else if($(this).hasClass("ygpaYnSelect")){var b="Y",d="\uc608",l="\uc544\ub2c8\uc624";null!=$(this).data("y-value")&&(b=$(this).data("y-value"));null!=$(this).data("n-value")&&(b=$(this).data("n-value"));c[a]==b?(null!=$(this).data("y-prompt")&&(d=$(this).data("y-prompt")),$(this).text(d)):"N"==c[a]?(null!=$(this).data("n-prompt")&&
(l=$(this).data("n-prompt")),$(this).text(l)):$(this).text(c[a])}else if($(this).hasClass("ygpaDecode")&&"string"==typeof c[a]&&"string"==typeof $(this).data("decode-string")){d=$(this).data("decode-string").match(",");b=$(this);for(b=0;b<d.length;b++)if(d[b]==c[a]){$(this).text($(this).data("decode-"+b));return}$(this).text($(this).data("decode-default"))}}else $(this).text(c[a]);else $(this).text("")}))};
EmdPopupModule.prototype.makeMultiDivValues=function(b,c,a){b=this.$(b);if(b.children().length<c.length)for(var d=b.children().length;d<c.length;d++){var g=b.children(":first-child").clone();b.append(g)}else if(b.children().length>c.length)for(;1<b.children().length&&b.children().length>c.length;)b.children(":last-child").remove();for(d=0;d<c.length;d++)g=b.children(":eq("+d+")"),this.makeDivValues(g,c[d]),g[0].func=a,g[0].func(c[d]),delete g[0].func;0==c.length&&this.makeDivValues(b.children(),{})};
EmdPopupModule.prototype.closeDialog=function(b,c){this._dialog.dialog("close");this._popupCaller.onClosePopup(this._popupId,b,c)};EmdPopupModule.prototype.cancelDialog=function(){this._dialog.dialog("close");this._popupCaller.onClosePopup(this._popupId,"cancel",null)};EmdPopupModule.prototype.$=function(b){return $("#__dialog-modal").find(b.replace("#","#__dialog-modal_"))};
EmdPopupModule.prototype.doAction=function(b,c,a){$.ajax({url:b,type:"POST",module:this,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:c}).done(function(b){null!=a&&a(this.module,b)})};function EmdErrorModule(){this._msg="\uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.";this._moduleType="_EMD_ERROR_MODULE"}EmdErrorModule.prototype.getModuleType=function(){return this._moduleType};EmdErrorModule.prototype.loadComplete=function(){};
EmdErrorModule.prototype.setMessage=function(b){this._msg=b};EmdErrorModule.prototype.getMessage=function(){return this._msg};
(function(b){b.fn.getSelectedCodeLabel=function(){var c="";if(b(this).hasClass("ygpaCmmnCode")||b(this).hasClass("ygpaCmmnCl")||b(this).hasClass("ygpaCmmnCd")||b(this).hasClass("ygpaDeptSelect")||b(this).hasClass("ygpaYnSelect"))c=b("#"+b(this).attr("id")+"_select.frmwrkAuto").find(":selected").text();return c};b.getSelectedCodeLabel=function(){var c="";if(b(this).hasClass("ygpaCmmnCode")||b(this).hasClass("ygpaCmmnCl")||b(this).hasClass("ygpaCmmnCd")||b(this).hasClass("ygpaDeptSelect")||b(this).hasClass("ygpaYnSelect"))c=
b("#"+b(this).attr("id")+"_select.frmwrkAuto").find(":selected").text();return c}})(jQuery);
(function(b){function c(a,b){if(this.createTextRange){var c=this.createTextRange();c.collapse(!0);c.moveStart("character",a);c.moveEnd("character",b-a);c.select()}else this.setSelectionRange&&(this.focus(),this.setSelectionRange(a,b))}function a(a){var b=this.value.length;a="start"==a.toLowerCase()?"Start":"End";if(document.selection){var b=document.selection.createRange(),c;c=b.duplicate();c.expand("textedit");c.setEndPoint("EndToEnd",b);c=c.text.length-b.text.length;b=c+b.text.length;return"Start"==
a?c:b}"undefined"!=typeof this["selection"+a]&&(b=this["selection"+a]);return b}var d={188:44,109:45,190:46,191:47,192:96,220:92,222:39,221:93,219:91,173:45,187:61,186:59,189:45,110:46},g={96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"};b.fn.number=function(h,k,p,q){q="undefined"===typeof q?",":q;p="undefined"===typeof p?".":p;k="undefined"===typeof k?0:k;var n="\\u"+("0000"+p.charCodeAt(0).toString(16)).slice(-4),
r=RegExp("[^"+n+"0-9]","g"),s=RegExp(n,"g");return!0===h?this.is("input:text")?this.on({"keydown.format":function(h){var l=b(this),n=l.data("numFormat"),w=h.keyCode?h.keyCode:h.which,y="",u=a.apply(this,["start"]),A=a.apply(this,["end"]),B="",B=!1;d.hasOwnProperty(w)&&(w=d[w]);!h.shiftKey&&65<=w&&90>=w?w+=32:!h.shiftKey&&69<=w&&105>=w?w-=48:h.shiftKey&&g.hasOwnProperty(w)&&(y=g[w]);""==y&&(y=String.fromCharCode(w));if(8!==w&&y!=p&&!y.match(/[0-9]/)){var C=!0;y.match(/[-]/)&&!n.isNegative&&(n.isNegative=
!0,C=!1);if(C){l=h.keyCode?h.keyCode:h.which;if(46==l||8==l||9==l||27==l||13==l||(65==l||82==l)&&!0===(h.ctrlKey||h.metaKey)||(86==l||67==l)&&!0===(h.ctrlKey||h.metaKey)||35<=l&&39>=l)return;h.preventDefault();return!1}}0==u&&A==this.value.length||0==l.val()?8===w?(u=A=1,this.value="",n.init=0<k?-1:0,n.c=0<k?-(k+1):0,c.apply(this,[0,0])):y===p?(u=A=1,this.value="0"+p+Array(k+1).join("0"),n.init=0<k?1:0,n.c=0<k?-(k+1):0):0===this.value.length&&(n.init=0<k?-1:0,n.c=0<k?-k:0):n.c=A-this.value.length;
if(8==w&&1>=u&&n.isNegative)h.preventDefault(),n.isNegative=!1,n.c--,B=this.value.length+n.c;else if(0<k&&y==p&&u==this.value.length-k-1)n.c++,n.init=Math.max(0,n.init),h.preventDefault(),B=this.value.length+n.c;else if(y==p)n.init=Math.max(0,n.init),h.preventDefault();else if(0<k&&8==w&&u==this.value.length-k)h.preventDefault(),n.c--,B=this.value.length+n.c;else if(0<k&&8==w&&u>this.value.length-k){if(""===this.value)return;"0"!=this.value.slice(u-1,u)&&(B=this.value.slice(0,u-1)+"0"+this.value.slice(u),
l.val(B.replace(r,"").replace(s,p)));h.preventDefault();n.c--;B=this.value.length+n.c}else 8==w&&this.value.slice(u-1,u)==q?(h.preventDefault(),n.c--,B=this.value.length+n.c):0<k&&u==A&&this.value.length>k+1&&u>this.value.length-k-1&&isFinite(+y)&&!h.metaKey&&!h.ctrlKey&&!h.altKey&&1===y.length&&(this.value=B=A===this.value.length?this.value.slice(0,u-1):this.value.slice(0,u)+this.value.slice(u+1),B=u);!1!==B&&c.apply(this,[B,B]);l.data("numFormat",n)},"keyup.format":function(d){var g=b(this),h=g.data("numFormat");
d=d.keyCode?d.keyCode:d.which;var l=a.apply(this,["start"]);""===this.value||(48>d||57<d)&&(96>d||105<d)&&8!==d||(g.val(g.val()),0<k&&(1>h.init?(l=this.value.length-k-(0>h.init?1:0),h.c=l-this.value.length,h.init=1,g.data("numFormat",h)):l>this.value.length-k&&8!=d&&(h.c++,g.data("numFormat",h))),g.get(0).value.length?h.isNegative&&(g.get(0).value="-"+this.value):h.isNegative=!1,g=this.value.length+h.c,c.apply(this,[g,g]))},"paste.format":function(a){var c=b(this),d=a.originalEvent,g=null;window.clipboardData&&
window.clipboardData.getData?g=window.clipboardData.getData("Text"):d.clipboardData&&d.clipboardData.getData&&(g=d.clipboardData.getData("text/plain"));c.val(g);a.preventDefault();return!1}}).each(function(){var a=b(this).data("numFormat",{c:-(k+1),decimals:k,thousands_sep:q,dec_point:p,regex_dec_num:r,regex_dec:s,init:!1});""!==this.value&&a.val(a.val())}):this.each(function(){var a=b(this),c=a.text().match(/^-/)?-1:1,c=+a.text().replace(r,"").replace(s,".")*c;a.number(isFinite(c)?+c:0,k,p,q)}):
this.text(b.number.apply(window,arguments))};var h=null,k=null;b.isPlainObject(b.valHooks.text)?(b.isFunction(b.valHooks.text.get)&&(h=b.valHooks.text.get),b.isFunction(b.valHooks.text.set)&&(k=b.valHooks.text.set)):b.valHooks.text={};b.valHooks.text.get=function(a){var c=b(a).data("numFormat");if(c){if(""===a.value)return"";a.value.match(/^-/)&&(c.isNegative=!0);a=+a.value.replace(c.regex_dec_num,"").replace(c.regex_dec,".");a=isFinite(a)?a:0;0!=a&&c.isNegative&&(a*=-1);return""+a}if(b.isFunction(h))return h(a)};
b.valHooks.text.set=function(a,c){var d=b(a).data("numFormat");if(d)return""===c?a.value="":a.value=b.number(c,d.decimals,d.dec_point,d.thousands_sep);if(b.isFunction(k))return k(a,c)};b.number=function(a,b,c,d){d="undefined"===typeof d?",":d;c="undefined"===typeof c?".":c;b=isFinite(+b)?Math.abs(b):0;var g="\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4),h="\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4);a=(a+"").replace(".",c).replace(RegExp(h,"g"),"").replace(RegExp(g,"g"),".").replace(/[^0-9+-Ee.]/g,
"");a=isFinite(+a)?+a:0;g="";g=function(a,b){var c=Math.pow(10,b);return""+Math.round(a*c)/c};g=(b?g(a,b):""+Math.round(a)).split(".");3<g[0].length&&(g[0]=g[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,d));(g[1]||"").length<b&&(g[1]=g[1]||"",g[1]+=Array(b-g[1].length+1).join("0"));return g.join(c)}})(jQuery);
Array.prototype.indexOf||(Array.prototype.indexOf=function(b){if(null==this)throw new TypeError;var c=Object(this),a=c.length>>>0;if(0===a)return-1;var d=0;1<arguments.length&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&Infinity!=d&&-Infinity!=d&&(d=(0<d||-1)*Math.floor(Math.abs(d))));if(d>=a)return-1;for(d=0<=d?d:Math.max(a-Math.abs(d),0);d<a;d++)if(d in c&&c[d]===b)return d;return-1});
(function(b){b.fn.makeSelectDeptCd=function(){return this.each(function(){var c="",a="",d=this,g=b(this).attr("id"),h="window_"+b(this).attr("id").split("_")[1];null!=b(this).data("default-prompt")&&(c=null!=b(this).data("default-prompt")?b(this).data("default-prompt"):"\uc120\ud0dd",a=null!=b(this).data("default-value")?b(this).data("default-value"):"");if(null==b(this).data("display-value")){try{b(this).attr("type","hidden")}catch(k){b(this).attr("id",g+"_backup"),b(this).after('<input type="hidden" id="'+
g+'" />'),d=b("#"+h+" #"+g)[0],b(this).remove()}b(d).after('<select id="'+g+'_select" class="frmwrkAuto"></select>')}else"N"==b(this).data("display-value")?(b(this).attr("readonly","readonly"),b(this).before('<select id="'+g+'_select" class="frmwrkAuto"></select>')):(b(this).attr("readonly","readonly"),b(this).after('<select id="'+g+'_select" class="frmwrkAuto"></select>'));""!=c&&b(this).append('<option value="'+a+'" selected>'+c+"</option>");b(this).focus(function(){b("#"+b(this).attr("id")+"_select")[0].focus()});
b.ajax({url:EMD.context_root+"/cmmn/selectDeptCodeOptionsList.do",type:"POST",module:d,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"cmd",value:""}],success:function(a){if(null!=a.resultCode&&0!=a.resultCode)1==a.resultCode&&(alert(a.resultMsg),location.reload());else{var c="",d="#"+b(this.module).attr("id")+"_select";if(void 0!=b(this.module).data("value"))for(var c=b(this.module).data("value"),g=0;g<a.resultList.length;g++)c==a.resultList[g].value?b("#"+
h).find(d).append('<option value="'+a.resultList[g].value+'" selected>'+a.resultList[g].name+"</option>"):b("#"+h).find(d).append('<option value="'+a.resultList[g].value+'">'+a.resultList[g].name+"</option>");else for(g=0;g<a.resultList.length;g++)b("#"+h).find(d).append('<option value="'+a.resultList[g].value+'">'+a.resultList[g].name+"</option>");b("#"+h).find(d).change({module:this.module},function(a){b(a.data.module).val(b(this).find("option:selected").val());b(a.data.module).trigger("change")});
"readonly"==b(this.module).attr("readonly")&&b(d).attr("readonly","readonly");"disabled"==b(this.module).attr("disabled")&&b(d).attr("disabled","disabled")}},error:function(a,b,c){}})})};b.fn.makeSelectCmmnCd=function(){return this.each(function(){var c="",a="",d=this,g="window_"+b(this).attr("id").split("_")[1],h=b(this).attr("id");if(void 0!=b(this).data("code-id")){null!=b(this).data("default-prompt")&&(c=null!=b(this).data("default-prompt")?b(this).data("default-prompt"):"\uc120\ud0dd",a=null!=
b(this).data("default-value")?b(this).data("default-value"):"");if(null==b(this).data("display-value")){try{b(this).attr("type","hidden")}catch(k){b(this).attr("id",h+"_backup"),b(this).after('<input type="hidden" id="'+h+'" />'),d=b("#"+g+" #"+h)[0],b(this).remove()}b(d).after('<select id="'+h+'_select" class="frmwrkAuto"></select>')}else"N"==b(this).data("display-value")?(b(this).attr("readonly","readonly"),b(this).before('<select id="'+h+'_select" class="frmwrkAuto"></select>')):(b(this).attr("readonly",
"readonly"),b(this).after('<select id="'+h+'_select" class="frmwrkAuto"></select>'));""!=c&&(null==b(d).data("value")?b("#"+g).find("#"+h+"_select").append('<option value="'+a+'" selected>'+c+"</option>"):b("#"+g).find("#"+h+"_select").append('<option value="'+a+'">'+c+"</option>"));b(this).focus(function(){b("#"+b(this).attr("id")+"_select")[0].focus()});b.ajax({url:EMD.context_root+"/cmmn/selectCmmnCdOptionsList.do",type:"POST",module:d,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",
data:[{name:"code_id",value:b(this).data("code-id")}],success:function(a){if(null!=a.resultCode&&0!=a.resultCode)1==a.resultCode&&(alert(a.resultMsg),location.reload());else{var c="",d="#"+b(this.module).attr("id")+"_select";if(null!=b(this.module).data("value"))for(var c=b(this.module).data("value"),h=0;h<a.resultList.length;h++)c==a.resultList[h].value?b("#"+g).find(d).append('<option value="'+a.resultList[h].value+'" selected>'+a.resultList[h].name+"</option>"):b("#"+g).find(d).append('<option value="'+
a.resultList[h].value+'">'+a.resultList[h].name+"</option>");else for(h=0;h<a.resultList.length;h++)b("#"+g).find(d).append('<option value="'+a.resultList[h].value+'">'+a.resultList[h].name+"</option>");b("#"+g).find(d).change({module:this.module},function(a){b(a.data.module).val(b(this).find("option:selected").val());b(a.data.module).trigger("change")});"readonly"==b(this.module).attr("readonly")&&b(d).attr("readonly","readonly");"disabled"==b(this.module).attr("disabled")&&b(d).attr("disabled",
"disabled")}},error:function(a,b,c){}})}})}})(jQuery);
(function(b){b.fn.popupWindow=function(c){return this.each(function(){b(this).click(function(){b.fn.popupWindow.defaultSettings={centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0};settings=b.extend({},b.fn.popupWindow.defaultSettings,c||{});var a="height="+settings.height+",width="+settings.width+",toolbar="+settings.toolbar+",scrollbars="+settings.scrollbars+",status="+settings.status+",resizable="+
settings.resizable+",location="+settings.location+",menuBar="+settings.menubar;settings.windowName=this.name||settings.windowName;settings.windowURL=this.href||settings.windowURL;var d,g;settings.centerBrowser?(b.browser.msie?(d=window.screenTop-120+((document.documentElement.clientHeight+120)/2-settings.height/2),g=window.screenLeft+((document.body.offsetWidth+20)/2-settings.width/2)):(d=window.screenY+(window.outerHeight/2-settings.height/2),g=window.screenX+(window.outerWidth/2-settings.width/
2)),window.open(settings.windowURL,settings.windowName,a+",left="+g+",top="+d).focus()):settings.centerScreen?(d=(screen.height-settings.height)/2,g=(screen.width-settings.width)/2,window.open(settings.windowURL,settings.windowName,a+",left="+g+",top="+d).focus()):window.open(settings.windowURL,settings.windowName,a+",left="+settings.left+",top="+settings.top).focus();return!1})})}})(jQuery);
(function(b){b.fn.disable=function(c){function a(a){a.removeAttr("disabled");b("#"+a.attr("id")+"_select").removeAttr("disabled");""!==h.enableClass&&(a.addClass(h.enableClass),b("#"+a.attr("id")+"_select").addClass(h.enableClass));""!==h.disableClass&&(a.removeClass(h.disableClass),b("#"+a.attr("id")+"_select").removeClass(h.disableClass))}function d(b){setTimeout(function(){a(b)},1E3*h.enableAfterSeconds)}function g(b){b.ajaxComplete(function(c,d,g){c=null===h.ajaxUrl||g.url===h.ajaxUrl;g=null===
h.ajaxResponseText||d.responseText===h.ajaxResponseText;(!h.enableOnAjaxSuccess||h.enableOnAjaxSuccess&&200===d.status)&&c&&g&&a(b)})}var h=b.extend({},b.fn.disable.defaults,c);return this.each(function(){var a=b(this);a.attr("disabled","disabled");b("#"+a.attr("id")+"_select").attr("disabled","disabled");""!==h.disableClass&&(a.addClass(h.disableClass),b("#"+a.attr("id")+"_select").addClass(h.disableClass));""!==h.enableClass&&(a.removeClass(h.enableClass),b("#"+a.attr("id")+"_select").removeClass(h.enableClass));
0<h.enableAfterSeconds&&d(a);(h.enableOnAjaxComplete||h.enableOnAjaxSuccess)&&g(a)})};b.fn.disable.defaults={enableClass:"",disableClass:"",enableAfterSeconds:0,enableOnAjaxComplete:!1,enableOnAjaxSuccess:!1,ajaxUrl:null,ajaxResponseText:null};b.fn.enable=function(c){var a=b.extend({},b.fn.enable.defaults,c);return this.each(function(){var c=b(this);c.removeAttr("disabled");b("#"+c.attr("id")+"_select").removeAttr("disabled");""!==a.enableClass&&c.addClass(a.enableClass)})};b.fn.enable.defaults={enableClass:""};
b.fn.readonly=function(c,a){var d=b.extend({},b.fn.readonly.defaults,a);return this.each(function(){var a=b(this);a.attr("readonly",c);b("#"+a.attr("id")+"_select").attr("readonly",c);""!==d.readonlyClass&&(c?(a.addClass(d.readonlyClass),b("#"+a.attr("id")+"_select").addClass(d.readonlyClass)):(a.removeClass(d.readonlyClass),b("#"+a.attr("id")+"_select").removeClass(d.readonlyClass)));0<d.readonlyAfterSeconds&&setEnableTimeout(a,c);(d.readonlyAjaxComplete||d.readonlyAjaxSuccess)&&setAjaxEnable(a,
c)})};b.fn.readonly.defaults={readonlyClass:"",readonlyAfterSeconds:0,readonlyAjaxComplete:!1,readonlyAjaxSuccess:!1,ajaxUrl:null,ajaxResponseText:null}})(jQuery);(function(b){var c=b.fn.val;b.fn.val=function(a){if("undefined"==typeof a)return c.call(this);if("undefined"!=typeof b(this).attr("id")){var d=b("#"+b(this).attr("id")+"_select.frmwrkAuto");1==d.length&&c.call(d,a)}return c.call(this,a)}})(jQuery);
(function(b,c){"$:nomunge";var a=b.jQuery||b.Cowboy||(b.Cowboy={}),d;a.throttle=d=function(b,d,k,l){function m(){function a(){q=+new Date;k.apply(s,v)}function m(){p=c}var s=this,t=+new Date-q,v=arguments;l&&!p&&a();p&&clearTimeout(p);l===c&&t>b?a():!0!==d&&(p=setTimeout(l?m:a,l===c?b-t:b))}var p,q=0;"boolean"!==typeof d&&(l=k,k=d,d=c);a.guid&&(m.guid=k.guid=k.guid||a.guid++);return m};a.debounce=function(a,b,k){return k===c?d(a,b,!1):d(a,k,!1!==b)}})(this);
(function(b,c){var a=/[<>&\r\n"']/gm,d={"<":"lt;",">":"gt;","&":"amp;","\r":"#13;","\n":"#10;",'"':"quot;","'":"apos;"};b.extend({fileDownload:function(g,h){function k(){if(-1!=document.cookie.indexOf(q.cookieName+"="+q.cookieValue))w.onSuccess(g),document.cookie=q.cookieName+"=; expires="+(new Date(1E3)).toUTCString()+"; path="+q.cookiePath,m(!1);else{if(u||y)try{var a=u?u.document:l(y);if(a&&null!=a.body&&a.body.innerHTML.length){var c=!0;if(A&&A.length){var d=b(a.body).contents().first();try{d.length&&
d[0]===A[0]&&(c=!1)}catch(h){if(h&&-2146828218==h.number)c=!0;else throw h;}}if(c){setTimeout(function(){w.onFail(a.body.innerHTML,g);m(!0)},100);return}}}catch(n){w.onFail("",g);m(!0);return}setTimeout(k,q.checkInterval)}}function l(a){a=a[0].contentWindow||a[0].contentDocument;a.document&&(a=a.document);return a}function m(a){setTimeout(function(){u&&(t&&u.close(),s&&u.focus&&(u.focus(),a&&u.close()))},0)}function p(b){return b.replace(a,function(a){return"&"+d[a]})}var q=b.extend({preparingMessageHtml:null,
failMessageHtml:null,androidPostUnsupportedMessageHtml:"Unfortunately your Android browser doesn't support this type of file download. Please try again with a different browser.",dialogOptions:{modal:!0},prepareCallback:function(a){},successCallback:function(a){},failCallback:function(a,b){},httpMethod:"GET",data:null,checkInterval:100,cookieName:"fileDownload",cookieValue:"true",cookiePath:"/",popupWindowTitle:"Initiating file download...",encodeHTMLEntities:!0},h),n=new b.Deferred,r=(navigator.userAgent||
navigator.vendor||c.opera).toLowerCase(),s,t,v;/ip(ad|hone|od)/.test(r)?s=!0:-1!==r.indexOf("android")?t=!0:v=/avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|playbook|silk|iemobile|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(r.substr(0,
4));r=q.httpMethod.toUpperCase();if(t&&"GET"!==r)return b().dialog?b("<div>").html(q.androidPostUnsupportedMessageHtml).dialog(q.dialogOptions):alert(q.androidPostUnsupportedMessageHtml),n.reject();var z=null,w={onPrepare:function(a){q.preparingMessageHtml?z=b("<div>").html(q.preparingMessageHtml).dialog(q.dialogOptions):q.prepareCallback&&q.prepareCallback(a)},onSuccess:function(a){z&&z.dialog("close");q.successCallback(a);n.resolve(a)},onFail:function(a,c){z&&z.dialog("close");q.failMessageHtml&&
b("<div>").html(q.failMessageHtml).dialog(q.dialogOptions);q.failCallback(a,c);n.reject(a,c)}};w.onPrepare(g);null!==q.data&&"string"!==typeof q.data&&(q.data=b.param(q.data));var y,u,A;if("GET"===r)null!==q.data&&(-1!==g.indexOf("?")?"&"!==g.substring(g.length-1)&&(g+="&"):g+="?",g+=q.data),s||t?(u=c.open(g),u.document.title=q.popupWindowTitle,c.focus()):v?c.location(g):y=b("<iframe>").hide().prop("src",g).appendTo("body");else{var B="";null!==q.data&&b.each(q.data.replace(/\+/g," ").split("&"),
function(){var a=this.split("="),b=q.encodeHTMLEntities?p(decodeURIComponent(a[0])):decodeURIComponent(a[0]);b&&(a=q.encodeHTMLEntities?p(decodeURIComponent(a[1])):decodeURIComponent(a[1]),B+='<input type="hidden" name="'+b+'" value="'+a+'" />')});v?(A=b("<form>").appendTo("body"),A.hide().prop("method",q.httpMethod).prop("action",g).html(B)):(s?(u=c.open("about:blank"),u.document.title=q.popupWindowTitle,v=u.document,c.focus()):(y=b("<iframe style='display: none' src='about:blank'></iframe>").appendTo("body"),
v=l(y)),v.write("<html><head></head><body><form method='"+q.httpMethod+"' action='"+g+"'>"+B+"</form>"+q.popupWindowTitle+"</body></html>"),A=b(v).find("form"));A.submit()}setTimeout(k,q.checkInterval);return n.promise()}})})(jQuery,this);function eXcell_button(b){b&&(this.cell=b,this.grid=this.cell.parentNode.grid);this.disabledF=function(b){this.cell.innerHTML=!0==b||1==b?this.cell.innerHTML.replace("item_chk0.","item_chk0_dis.").replace("item_chk1.","item_chk1_dis."):this.cell.innerHTML.replace("item_chk0_dis.","item_chk0.").replace("item_chk1_dis.","item_chk1.")};this.buttonClick=function(b){!0!==b||this.grid.isActive||(null!=window.globalActiveDHTMLGridObject&&window.globalActiveDHTMLGridObject!=this.grid&&window.globalActiveDHTMLGridObject.isActive&&
window.globalActiveDHTMLGridObject.setActive(!1),this.grid.setActive(!0));!this.grid.isEditable||this.cell.parentNode._locked||this.isDisabled()||(this.grid.callEvent("onEditCell",[0,this.cell.parentNode.idd,this.cell._cellIndex])?(this.val=this.getValue(),this.cell.wasChanged=!0,this.grid.callEvent("onButtonClick",[this.cell.parentNode.idd,this.cell._cellIndex,this.val])):this.editor=null)};this.getValue=function(){return this.cell.chstate?this.cell.chstate.toString():"0"};this.isButton=function(){return!0};
this.detach=function(){return this.val!=this.getValue()};this.edit=null}eXcell_button.prototype=new eXcell;eXcell_button.prototype.setValue=function(b){this.cell.style.verticalAlign="middle";this.setCValue("<input type='button' value='"+b+"' onclick='new eXcell_button(this.parentNode).buttonClick(true); (arguments[0]||event).cancelBubble=true; '>",b)};
(function(b){"function"!=typeof b.support.selectstart&&(b.support.selectstart="onselectstart"in document.createElement("div"));"function"!=typeof b.fn.disableSelection&&(b.fn.disableSelection=function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(b){b.preventDefault()})});b.fn.flexigrid=function(c){return this.each(function(){var a=b(this).attr("id"),d,g;b(this).attr("id","___temp");d=b(this).css("width");g=b(this).css("height");void 0!=c.width&&
(d=c.width);void 0!=c.height&&(g=c.height);b(this).hasClass("fillHeight")?(b(this).removeClass("fillHeight"),b(this).after("<div id='"+a+"' style='width:"+d+"px; height:"+g+"px;' class='fillHeight'></div>")):b(this).after("<div id='"+a+"' style='width:"+d+"px; height:"+g+"px;'></div>");var h=new dhtmlXGridObject(a),k=null,l=null,m=null,p=null,q=null,n=[],r=[],s=[];b.each(c.colModel,function(a,c){var d;k=null==k?this.display:k+","+this.display;l=null==l?this.name:l+","+this.name;m=null==m?this.width:
m+","+this.width;switch(this.halign){case "right":n[n.length]="text-align:right";break;case "left":n[n.length]="text-align:left";break;default:n[n.length]="text-align:center"}switch(this.align){case "right":d="right";break;case "left":d="left";break;default:d="center"}p=null==p?d:p+","+d;switch(this.displayFormat){case "checkbox":d="ch";break;case "number":d="ron";void 0!=this.displayOption?"string"==typeof this.displayOption?r[r.length]={mask:this.displayOption,cInd:a}:"object"==typeof this.displayOption&&
(r[r.length]={mask:this.displayOption.format,cInd:a}):r[r.length]={mask:"0,000",cInd:a};break;case "button":d="button";break;case "select":d="co";if(void 0!=this.displayOption)if("string"==typeof this.displayOption)s[s.length]={items:this.displayOption,cInd:a};else if("object"==typeof this.displayOption){var g=[];b.each(this.displayOption,function(){g[g.length]=[this.value,this.name]});s[s.length]={items:g,cInd:a}}break;default:d="rotxt"}q=null==q?d:q+","+d});h.setImagePath("./js/codebase/imgs/");
h.setHeader(k,null,n);h.setColumnIds(l);h.setInitWidths(m);h.setColTypes(q);h.setColAlign(p);h.enableEditEvents(!0,!1,!0);b.each(r,function(){h.setNumberFormat(this.mask,this.cInd)});b.each(s,function(){var a=h.getCombo(this.cInd);b.each(this.items,function(){a.put(this[0],this[1])})});void 0!=c.multiSelect&&!0==c.multiSelect?h.enableMultiselect(!0):h.enableMultiselect(!1);h._defaultPageUnit=30;h._totalCount=0;h._loadCount=0;h._loadData=function(a){null!=a.resultCode&&0!=a.resultCode?1==a.resultCode&&
(alert(a.resultMsg),location.reload()):(void 0!=this.p.preProcess&&(a=this.p.preProcess(this.p.module,a)),this.p.data=this.p.data.concat(a.resultList),this._loadCount=c.data.length,this.parse(this.p.data,"js"),this._totalCount=a.totalCount,b("#"+this._grid_id).trigger("onLoadDataComplete",[this.p.module,this.p.data]))};h._clearData=function(){this._loadCount=0;this.p.data=[];this.clearAll()};h._addRow=function(a){this.p.data[this.p.data.length]=a;this.addRow(this.uid(),a)};h._updateRow=function(a){this.p.data[this.p.data.length]=
a;this.addRow(this.uid(),a)};h.attachEvent("onRowSelect",function(a,c){b("#"+this._grid_id).trigger("onItemSelected",[this.p.module,this.p.data[a-1]]);b("#"+this._grid_id).trigger("onSelectChanged",[this.p.module,this.p.data[a-1]])});h.attachEvent("onRowDblClicked",function(a,c){b("#"+this._grid_id).trigger("onItemDoubleClick",[this.p.module,this.p.data[a-1]])});h.attachEvent("onCheckbox",function(a,b,c){this.p.data[a-1][this.getColumnId(b)]=c});h.attachEvent("onButtonClick",function(a,c,d){b("#"+
this._grid_id).trigger("onButtonClicked",[this.p.module,this.getColumnId(c),this.p.data[a-1],d])});h.attachEvent("onScroll",function(a,c){if((void 0==this._pageLoading||!0!=this._pageLoading)&&this._totalCount!=this._loadCount){var d=this.getStateOfView();d[0]+d[1]>=0.9*this._loadCount&&(this._pageLoading=!0,this._pageIndex++,d=this.p.params.slice(),d[d.length]={name:"pageIndex",value:this._pageIndex},d[d.length]={name:"pageUnit",value:this._defaultPageUnit},b.ajax({url:this.p.url,type:"POST",grid_id:this._grid_id,
grid:this,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:d,success:function(a){this.grid._loadData(a);this.grid._pageLoading=!1},error:function(a,b,c){try{this.grid._pageLoading=!1}catch(d){}}}))}});h.init();h._url=c.url;h.p=c;h._grid_id=a;b("#"+a)[0].dgrid=h;b("#"+a).resize(function(){this.dgrid.setSizes()});b(this).remove()})};b.fn.flexReload=function(c){return this.each(function(){if(void 0==this.dgrid)console.log("grid not init!");else{this.dgrid._pageIndex=
1;var a=this.dgrid.p.params.slice();this.dgrid.p.data=[];a[a.length]={name:"pageIndex",value:this.dgrid._pageIndex};a[a.length]={name:"pageUnit",value:this.dgrid._defaultPageUnit};b.ajax({url:this.dgrid.p.url,type:"POST",grid_id:b(this).attr("id"),grid:this.dgrid,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:a,success:function(a){this.grid._clearData();this.grid._loadData(a)},error:function(a,b,c){try{console.log(b)}catch(k){}}})}})};b.fn.flexEmptyData=function(b){return this.each(function(){void 0==
this.dgrid?console.log("grid not init!"):this.dgrid._clearData()})};b.fn.flexOptions=function(c){return this.each(function(){this.dgrid&&b.extend(this.dgrid.p,c)})};b.fn.flexToggleCol=function(b,a){return this.each(function(){if(void 0==this.dgrid)console.log("grid not init!");else{var d=this.dgrid.getColIndexById(b);this.dgrid.setColumnHidden(d,a)}})};b.fn.flexAddData=function(b){return this.each(function(){void 0==this.dgrid?console.log("grid not init!"):(this.dgrid.p.data=this.p.data.concat(b.resultList),
this.dgrid.parse(this.p.data,"js"),this.dgrid._totalCount=b.totalCount,this.dgrid._addRow(b))})};b.fn.flexAddRow=function(c){if(0==b(this).length)return console.log("error flexAddRow selection"),-1;c=b(this)[0];if(void 0==c.dgrid)return console.log("grid not init!"),-2;c.dgrid._addRow(data);return c.dgrid.p.data.length-1};b.fn.flexUpdateRow=function(c,a){if(0==b(this).length)return console.log("error flexAddRow selection"),-1;var d=b(this)[0];if(void 0==d.dgrid)return console.log("grid not init!"),
-2;d.dgrid.p.data[c]=a;d.dgrid.parse(this.p.data,"js")};b.fn.flexRemoveRow=function(c){if(0==b(this).length)return console.log("error flexAddRow selection"),-1;var a=b(this)[0];if(void 0==a.dgrid)return console.log("grid not init!"),-2;a.dgrid.p.data.splice(c,1);a.dgrid.deleteRow(c)};b.fn.noSelect=function(c){if(0==b(this).length)return console.log("error flexAddRow selection"),-1;c=b(this)[0];if(void 0==c.dgrid)return console.log("grid not init!"),-2;c.dgrid.clearSelection()};b.fn.selectedRows=function(c){if(0==
b(this).length)return console.log("error flexAddRow selection"),-1;var a=b(this)[0];if(void 0==a.dgrid)return console.log("grid not init!"),-2;c=a.dgrid.getSelectedRowId();var d=[];if(null==c)return[];b.each(c.split(","),function(){d[d.length]=a.dgrid.p.data[this-1]});return d};b.fn.selectedRowIds=function(c){if(0==b(this).length)return console.log("error flexAddRow selection"),-1;c=b(this)[0];if(void 0==c.dgrid)return console.log("grid not init!"),-2;c=c.dgrid.getSelectedRowId();return null!=c?c.split(","):
[]};b.fn.selectRowId=function(c){if(0==b(this).length)return console.log("error flexAddRow selection"),-1;var a=b(this)[0];if(void 0==a.dgrid)return console.log("grid not init!"),-2;void 0==c?a.dgrid.clearSelection():a.dgrid.selectRow(c)};b.fn.selectedRowCount=function(){if(0==b(this).length)return console.log("error flexAddRow selection"),-1;var c=b(this)[0];if(void 0==c.dgrid)return console.log("grid not init!"),-2;c=c.dgrid.getSelectedRowId();return null!=c?c.split(",").length:0};b.fn.flexGetData=
function(c){if(0==b(this).length)return console.log("error flexAddRow selection"),[];c=b(this)[0];return void 0==c.dgrid?(console.log("grid not init!"),[]):null==c.dgrid.p.data?[]:c.dgrid.p.data};b.fn.flexRowCount=function(c){if(0==b(this).length)return console.log("error flexAddRow selection"),0;c=b(this)[0];return void 0==c.dgrid?(console.log("grid not init!"),0):null==c.dgrid.p.data?0:c.dgrid.p.data.length};b.fn.flexGetRow=function(c){if(0==b(this).length)return console.log("error flexAddRow selection"),
null;var a=b(this)[0];return void 0==a.dgrid?(console.log("grid not init!"),null):null==a.dgrid.p.data?null:a.dgrid.p.data[c]};b.fn.selectFilterData=function(c){if(0==b(this).length)return console.log("error flexAddRow selection"),-1;var a=b(this)[0];if(void 0==a.dgrid)return console.log("grid not init!"),-2;var d=[];null!=a.dgrid.p.data&&b.each(a.dgrid.p.data,function(a,h){var k=!1;arRow={};b.each(c,function(){"undefined"!=typeof h[this.col]&&h[this.col]==this.filter&&(k=!0);return!1==k});k&&d.push(h)});
return d};b.fn.resizeGrid=function(){if(0==b(this).length)return console.log("error flexAddRow selection"),-1;var c=b(this)[0];if(void 0==c.dgrid)return console.log("grid not init!"),-2;c.dgrid.setSizes()};b.fn.flexExcelDown=function(c,a){return this.each(function(){if(void 0==this.dgrid)console.log("grid not init!");else{var d=this.dgrid.p,g=[{name:"pageIndex",value:d.pageIndex},{name:"pageUnit",value:9999},{name:"recordCountPerPage",value:9999}];if(d.params.length)for(var h=0;h<d.params.length;h++)g[g.length]=
d.params[h];var k=[];b.each(this.dgrid.p.colModel,function(){k[k.length]={title:this.display,abbr:this.name}});null==a&&(a="\uc870\ud68c\uacb0\uacfc.xls");g[g.length]={name:"header",value:JSON.stringify(k)};g[g.length]={name:"fileName",value:a};b.fileDownload(c,{data:g,httpMethod:"POST"})}})}})(jQuery);!function(b){var c=function(a,b){var g=/[^\w\-\.:]/.test(a)?new Function(c.arg+",tmpl","var _e=tmpl.encode"+c.helper+",_s='"+a.replace(c.regexp,c.func)+"';return _s;"):c.cache[a]=c.cache[a]||c(c.load(a));return b?g(b,c):function(a){return g(a,c)}};c.cache={};c.load=function(a){return document.getElementById(a).innerHTML};c.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g;c.func=function(a,b,c,h,k,l){return b?{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[b]||"\\"+b:c?
"="===c?"'+_e("+h+")+'":"'+("+h+"==null?'':"+h+")+'":k?"';":l?"_s+='":void 0};c.encReg=/[<>&"'\x00]/g;c.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"};c.encode=function(a){return(null==a?"":""+a).replace(c.encReg,function(a){return c.encMap[a]||""})};c.arg="o";c.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}";"function"==typeof define&&define.amd?define(function(){return c}):b.tmpl=c}(this);!function(b){var c=function(a,b,h){var k,l,m=document.createElement("img");if(m.onerror=b,m.onload=function(){!l||h&&h.noRevoke||c.revokeObjectURL(l);b&&b(c.scale(m,h))},c.isInstanceOf("Blob",a)||c.isInstanceOf("File",a))k=l=c.createObjectURL(a),m._type=a.type;else{if("string"!=typeof a)return!1;k=a;h&&h.crossOrigin&&(m.crossOrigin=h.crossOrigin)}return k?(m.src=k,m):c.readFile(a,function(a){var c=a.target;c&&c.result?m.src=c.result:b&&b(a)})},a=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&
URL||window.webkitURL&&webkitURL;c.isInstanceOf=function(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"};c.transformCoordinates=function(){};c.getTransformedOptions=function(a){return a};c.renderImageToCanvas=function(a,b,c,k,l,m,p,q,n,r){return a.getContext("2d").drawImage(b,c,k,l,m,p,q,n,r),a};c.hasCanvasOption=function(a){return a.canvas||a.crop};c.scale=function(a,b){b=b||{};var h,k,l,m,p,q,n,r,s,t=document.createElement("canvas"),v=a.getContext||c.hasCanvasOption(b)&&t.getContext,
z=a.naturalWidth||a.width,w=a.naturalHeight||a.height,y=z,u=w,A=function(){var a=Math.max((l||y)/y,(m||u)/u);1<a&&(y=Math.ceil(y*a),u=Math.ceil(u*a))},B=function(){var a=Math.min((h||y)/y,(k||u)/u);1>a&&(y=Math.ceil(y*a),u=Math.ceil(u*a))};return v&&(b=c.getTransformedOptions(b),n=b.left||0,r=b.top||0,b.sourceWidth?(p=b.sourceWidth,void 0!==b.right&&void 0===b.left&&(n=z-p-b.right)):p=z-n-(b.right||0),b.sourceHeight?(q=b.sourceHeight,void 0!==b.bottom&&void 0===b.top&&(r=w-q-b.bottom)):q=w-r-(b.bottom||
0),y=p,u=q),h=b.maxWidth,k=b.maxHeight,l=b.minWidth,m=b.minHeight,v&&h&&k&&b.crop?(y=h,u=k,s=p/q-h/k,0>s?(q=k*p/h,void 0===b.top&&void 0===b.bottom&&(r=(w-q)/2)):0<s&&(p=h*q/k,void 0===b.left&&void 0===b.right&&(n=(z-p)/2))):((b.contain||b.cover)&&(l=h=h||l,m=k=k||m),b.cover?(B(),A()):(A(),B())),v?(t.width=y,t.height=u,c.transformCoordinates(t,b),c.renderImageToCanvas(t,a,n,r,p,q,0,0,y,u)):(a.width=y,a.height=u,a)};c.createObjectURL=function(b){return a?a.createObjectURL(b):!1};c.revokeObjectURL=
function(b){return a?a.revokeObjectURL(b):!1};c.readFile=function(a,b,c){if(window.FileReader){var k=new FileReader;if(k.onload=k.onerror=b,c=c||"readAsDataURL",k[c])return k[c](a),k}return!1};"function"==typeof define&&define.amd?define(function(){return c}):b.loadImage=c}(this);
(function(b){"function"==typeof define&&define.amd?define(["load-image"],b):b(window.loadImage)})(function(b){if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var c=b.renderImageToCanvas;b.detectSubsampling=function(a){var b,c;return 1048576<a.width*a.height?(b=document.createElement("canvas"),b.width=b.height=1,c=b.getContext("2d"),c.drawImage(a,-a.width+1,0),0===c.getImageData(0,0,1,1).data[3]):!1};b.detectVerticalSquash=function(a,b){var c,h,k,l,
m,p=a.naturalHeight||a.height;c=document.createElement("canvas");h=c.getContext("2d");b&&(p/=2);c.width=1;c.height=p;h.drawImage(a,0,0);c=h.getImageData(0,0,1,p).data;h=0;for(l=k=p;l>h;)m=c[4*(l-1)+3],0===m?k=l:h=l,l=k+h>>1;return l/p||1};b.renderImageToCanvas=function(a,d,g,h,k,l,m,p,q,n){if("image/jpeg"===d._type){var r,s,t=a.getContext("2d"),v=document.createElement("canvas"),z=v.getContext("2d");if(v.width=1024,v.height=1024,t.save(),r=b.detectSubsampling(d),r&&(g/=2,h/=2,k/=2,l/=2),s=b.detectVerticalSquash(d,
r),r||1!==s){h*=s;q=Math.ceil(1024*q/k);n=Math.ceil(1024*n/l/s);for(s=p=0;l>s;){for(r=m=0;k>r;)z.clearRect(0,0,1024,1024),z.drawImage(d,g,h,k,l,-r,-s,k,l),t.drawImage(v,0,0,1024,1024,m,p,q,n),r+=1024,m+=q;s+=1024;p+=n}return t.restore(),a}}return c(a,d,g,h,k,l,m,p,q,n)}}});
(function(b){"function"==typeof define&&define.amd?define(["load-image"],b):b(window.loadImage)})(function(b){var c=b.hasCanvasOption;b.hasCanvasOption=function(a){return c(a)||a.orientation};b.transformCoordinates=function(a,b){var c=a.getContext("2d"),h=a.width,k=a.height,l=b.orientation;if(l)switch(4<l&&(a.width=k,a.height=h),l){case 2:c.translate(h,0);c.scale(-1,1);break;case 3:c.translate(h,k);c.rotate(Math.PI);break;case 4:c.translate(0,k);c.scale(1,-1);break;case 5:c.rotate(0.5*Math.PI);c.scale(1,
-1);break;case 6:c.rotate(0.5*Math.PI);c.translate(0,-k);break;case 7:c.rotate(0.5*Math.PI);c.translate(h,-k);c.scale(-1,1);break;case 8:c.rotate(-0.5*Math.PI),c.translate(-h,0)}};b.getTransformedOptions=function(a){if(!a.orientation||1===a.orientation)return a;var b,c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);switch(a.orientation){case 2:c.left=a.right;c.right=a.left;break;case 3:c.left=a.right;c.top=a.bottom;c.right=a.left;c.bottom=a.top;break;case 4:c.top=a.bottom;c.bottom=a.top;break;case 5:c.left=
a.top;c.top=a.left;c.right=a.bottom;c.bottom=a.right;break;case 6:c.left=a.top;c.top=a.right;c.right=a.bottom;c.bottom=a.left;break;case 7:c.left=a.bottom;c.top=a.right;c.right=a.top;c.bottom=a.left;break;case 8:c.left=a.bottom,c.top=a.left,c.right=a.top,c.bottom=a.right}return 4<a.orientation&&(c.maxWidth=a.maxHeight,c.maxHeight=a.maxWidth,c.minWidth=a.minHeight,c.minHeight=a.minWidth,c.sourceWidth=a.sourceHeight,c.sourceHeight=a.sourceWidth),c}});
(function(b){"function"==typeof define&&define.amd?define(["load-image"],b):b(window.loadImage)})(function(b){b.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice)&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)};b.metaDataParsers={jpeg:{65505:[]}};b.parseMetaData=function(c,a,d){d=d||{};var g=this,h=d.maxMetaDataSize||262144,k={};window.DataView&&c&&12<=c.size&&"image/jpeg"===c.type&&b.blobSlice&&b.readFile(b.blobSlice.call(c,
0,h),function(c){if(c.target.error)return console.log(c.target.error),a(k),void 0;var h,p,q,n;c=c.target.result;var r=new DataView(c),s=2,t=r.byteLength-4;q=s;if(65496===r.getUint16(0)){for(;t>s&&(h=r.getUint16(s),65504<=h&&65519>=h||65534===h);){if(p=r.getUint16(s+2)+2,s+p>r.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(q=b.metaDataParsers.jpeg[h])for(n=0;n<q.length;n+=1)q[n].call(g,r,s,p,k,d);q=s+=p}!d.disableImageHead&&6<q&&(k.imageHead=c.slice?c.slice(0,q):(new Uint8Array(c)).subarray(0,
q))}else console.log("Invalid JPEG file: Missing JPEG marker.");a(k)},"readAsArrayBuffer")||a(k)}});
(function(b){"function"==typeof define&&define.amd?define(["load-image","load-image-meta"],b):b(window.loadImage)})(function(b){b.ExifMap=function(){return this};b.ExifMap.prototype.map={Orientation:274};b.ExifMap.prototype.get=function(b){return this[b]||this[this.map[b]]};b.getExifThumbnail=function(b,a,d){var g,h,k;if(!d||a+d>b.byteLength)return console.log("Invalid Exif data: Invalid thumbnail data."),void 0;g=[];for(h=0;d>h;h+=1)k=b.getUint8(a+h),g.push((16>k?"0":"")+k.toString(16));return"data:image/jpeg,%"+
g.join("%")};b.exifTagTypes={1:{getValue:function(b,a){return b.getUint8(a)},size:1},2:{getValue:function(b,a){return String.fromCharCode(b.getUint8(a))},size:1,ascii:!0},3:{getValue:function(b,a,d){return b.getUint16(a,d)},size:2},4:{getValue:function(b,a,d){return b.getUint32(a,d)},size:4},5:{getValue:function(b,a,d){return b.getUint32(a,d)/b.getUint32(a+4,d)},size:8},9:{getValue:function(b,a,d){return b.getInt32(a,d)},size:4},10:{getValue:function(b,a,d){return b.getInt32(a,d)/b.getInt32(a+4,d)},
size:8}};b.exifTagTypes[7]=b.exifTagTypes[1];b.getExifValue=function(c,a,d,g,h,k){var l,m,p;g=b.exifTagTypes[g];if(!g)return console.log("Invalid Exif data: Invalid tag type."),void 0;if(l=g.size*h,m=4<l?a+c.getUint32(d+8,k):d+8,m+l>c.byteLength)return console.log("Invalid Exif data: Invalid data offset."),void 0;if(1===h)return g.getValue(c,m,k);a=[];for(d=0;h>d;d+=1)a[d]=g.getValue(c,m+d*g.size,k);if(g.ascii){c="";for(d=0;d<a.length&&(p=a[d],"\x00"!==p);d+=1)c+=p;return c}return a};b.parseExifTag=
function(c,a,d,g,h){var k=c.getUint16(d,g);h.exif[k]=b.getExifValue(c,a,d,c.getUint16(d+2,g),c.getUint32(d+4,g),g)};b.parseExifTags=function(b,a,d,g,h){var k,l,m;if(d+6>b.byteLength)return console.log("Invalid Exif data: Invalid directory offset."),void 0;if(k=b.getUint16(d,g),l=d+2+12*k,l+4>b.byteLength)return console.log("Invalid Exif data: Invalid directory size."),void 0;for(m=0;k>m;m+=1)this.parseExifTag(b,a,d+2+12*m,g,h);return b.getUint32(l,g)};b.parseExifData=function(c,a,d,g,h){if(!h.disableExif){var k,
l;d=a+10;if(1165519206===c.getUint32(a+4)){if(d+8>c.byteLength)return console.log("Invalid Exif data: Invalid segment size."),void 0;if(0!==c.getUint16(a+8))return console.log("Invalid Exif data: Missing byte alignment offset."),void 0;switch(c.getUint16(d)){case 18761:a=!0;break;case 19789:a=!1;break;default:return console.log("Invalid Exif data: Invalid byte alignment marker."),void 0}if(42!==c.getUint16(d+2,a))return console.log("Invalid Exif data: Missing TIFF marker."),void 0;k=c.getUint32(d+
4,a);g.exif=new b.ExifMap;(k=b.parseExifTags(c,d,d+k,a,g))&&!h.disableExifThumbnail&&(l={exif:{}},b.parseExifTags(c,d,d+k,a,l),l.exif[513]&&(g.exif.Thumbnail=b.getExifThumbnail(c,d+l.exif[513],l.exif[514])));g.exif[34665]&&!h.disableExifSub&&b.parseExifTags(c,d,d+g.exif[34665],a,g);g.exif[34853]&&!h.disableExifGps&&b.parseExifTags(c,d,d+g.exif[34853],a,g)}}};b.metaDataParsers.jpeg[65505].push(b.parseExifData)});
(function(b){"function"==typeof define&&define.amd?define(["load-image","load-image-exif"],b):b(window.loadImage)})(function(b){b.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",
273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",
37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",
37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",
41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",
4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",
30:"GPSDifferential",31:"GPSHPositioningError"};b.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",
10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",
15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",
77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",
5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},
Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}};b.ExifMap.prototype.getText=function(b){var a=this.get(b);switch(b){case "LightSource":case "Flash":case "MeteringMode":case "ExposureProgram":case "SensingMethod":case "SceneCaptureType":case "SceneType":case "CustomRendered":case "WhiteBalance":case "GainControl":case "Contrast":case "Saturation":case "Sharpness":case "SubjectDistanceRange":case "FileSource":case "Orientation":return this.stringValues[b][a];
case "ExifVersion":case "FlashpixVersion":return String.fromCharCode(a[0],a[1],a[2],a[3]);case "ComponentsConfiguration":return this.stringValues[b][a[0]]+this.stringValues[b][a[1]]+this.stringValues[b][a[2]]+this.stringValues[b][a[3]];case "GPSVersionID":return a[0]+"."+a[1]+"."+a[2]+"."+a[3]}return String(a)};(function(b){var a,d=b.tags;b=b.map;for(a in d)d.hasOwnProperty(a)&&(b[d[a]]=a)})(b.ExifMap.prototype);b.ExifMap.prototype.getAll=function(){var b,a,d={};for(b in this)this.hasOwnProperty(b)&&
(a=this.tags[b],a&&(d[a]=this.getText(a)));return d}});!function(b){var c=b.HTMLCanvasElement&&b.HTMLCanvasElement.prototype,a;if(a=b.Blob)try{a=Boolean(new Blob)}catch(d){a=!1}var g=a;if(a=g)if(a=b.Uint8Array)try{a=100===(new Blob([new Uint8Array(100)])).size}catch(h){a=!1}var k=a,l=b.BlobBuilder||b.WebKitBlobBuilder||b.MozBlobBuilder||b.MSBlobBuilder,m=(g||l)&&b.atob&&b.ArrayBuffer&&b.Uint8Array&&function(a){var b,c,d,h,m,v;b=0<=a.split(",")[0].indexOf("base64")?atob(a.split(",")[1]):decodeURIComponent(a.split(",")[1]);c=new ArrayBuffer(b.length);d=
new Uint8Array(c);for(h=0;h<b.length;h+=1)d[h]=b.charCodeAt(h);return m=a.split(",")[0].split(":")[1].split(";")[0],g?new Blob([k?d:c],{type:m}):(v=new l,v.append(c),v.getBlob(m))};b.HTMLCanvasElement&&!c.toBlob&&(c.mozGetAsFile?c.toBlob=function(a,b,d){d&&c.toDataURL&&m?a(m(this.toDataURL(b,d))):a(this.mozGetAsFile("blob",b))}:c.toDataURL&&m&&(c.toBlob=function(a,b,c){a(m(this.toDataURL(b,c)))}));"function"==typeof define&&define.amd?define(function(){return m}):b.dataURLtoBlob=m}(this);!function(b){"function"==typeof define&&define.amd?define(["./blueimp-helper"],b):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=b(window.blueimp.helper||window.jQuery))}(function(b){function c(a,b){return void 0===document.body.style.maxHeight?null:this&&this.options===c.prototype.options?a&&a.length?(this.list=a,this.num=a.length,this.initOptions(b),void this.initialize()):void this.console.log("blueimp Gallery: No or empty list provided as first argument.",a):new c(a,b)}return b.extend(c.prototype,
{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",
playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5E3,index:0,preloadRange:2,transitionSpeed:400,
slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},console:window.console&&"function"==typeof window.console.log?window.console:{log:function(){}},support:function(a){var c=
{touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},g=function(){var b,g,l=c.transition;document.body.appendChild(a);l&&(b=l.name.slice(0,-9)+"ransform",void 0!==a.style[b]&&(a.style[b]="translateZ(0)",g=window.getComputedStyle(a).getPropertyValue(l.prefix+"transform"),c.transform={prefix:l.prefix,name:b,translate:!0,translateZ:!!g&&"none"!==g}));void 0!==a.style.backgroundSize&&(c.backgroundSize={},a.style.backgroundSize="contain",c.backgroundSize.contain=
"contain"===window.getComputedStyle(a).getPropertyValue("background-size"),a.style.backgroundSize="cover",c.backgroundSize.cover="cover"===window.getComputedStyle(a).getPropertyValue("background-size"));document.body.removeChild(a)};return function(b,c){for(var d in c)if(c.hasOwnProperty(d)&&void 0!==a.style[d]){b.transition=c[d];b.transition.name=d;break}}(c,{webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",
prefix:"-o-"},transition:{end:"transitionend",prefix:""}}),document.body?g():b(document).on("DOMContentLoaded",g),c}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){return this.initStartIndex(),!1===this.initWidget()?!1:(this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),void(this.options.startSlideshow&&this.play()))},slide:function(a,b){window.clearTimeout(this.timeout);
var c,h,k=this.index;if(k!==a&&1!==this.num){if(b||(b=this.options.transitionSpeed),this.support.transition){this.options.continuous||(a=this.circle(a));c=Math.abs(k-a)/(k-a);this.options.continuous&&(h=c,c=-this.positions[this.circle(a)]/this.slideWidth,c!==h&&(a=-c*this.num+a));for(h=Math.abs(k-a)-1;h;)h-=1,this.move(this.circle((a>k?a:k)-h-1),this.slideWidth*c,0);a=this.circle(a);this.move(k,this.slideWidth*c,b);this.move(a,0,b);this.options.continuous&&this.move(this.circle(a-c),-(this.slideWidth*
c),0)}else a=this.circle(a),this.animate(k*-this.slideWidth,a*-this.slideWidth,b);this.onslide(a)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(a){var b=this;window.clearTimeout(this.timeout);this.interval=a||this.options.slideshowInterval;1<this.elements[this.index]&&(this.timeout=
this.setTimeout(!this.requestAnimationFrame&&this.slide||function(a,c){b.animationFrameId=b.requestAnimationFrame.call(window,function(){b.slide(a,c)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval));this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout);this.interval=null;this.container.removeClass(this.options.playingClass)},add:function(a){a.concat||(a=Array.prototype.slice.call(a));this.list.concat||(this.list=Array.prototype.slice.call(this.list));
this.list=this.list.concat(a);this.num=this.list.length;2<this.num&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass));this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass);for(a=this.num-a.length;a<this.num;a+=1)this.addSlide(a),this.positionSlide(a);this.positions.length=this.num;this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty();this.slides=[]},handleClose:function(){var a=
this.options;this.destroyEventListeners();this.pause();this.container[0].style.display="none";this.container.removeClass(a.displayClass).removeClass(a.singleClass).removeClass(a.leftEdgeClass).removeClass(a.rightEdgeClass);a.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle);this.options.clearSlides&&this.resetSlides();this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var a=this,b=function(c){c.target===a.container[0]&&(a.container.off(a.support.transition.end,
b),a.handleClose())};this.options.onclose&&this.options.onclose.call(this);this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,b),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(a){return(this.num+a%this.num)%this.num},move:function(a,b,c){this.translateX(a,b,c);this.positions[a]=b},translate:function(a,b,c,h){a=this.slides[a].style;var k=this.support.transform;a[this.support.transition.name+"Duration"]=
h+"ms";a[k.name]="translate("+b+"px, "+c+"px)"+(k.translateZ?" translateZ(0)":"")},translateX:function(a,b,c){this.translate(a,b,0,c)},translateY:function(a,b,c){this.translate(a,0,b,c)},animate:function(a,b,c){if(!c)return void(this.slidesContainer[0].style.left=b+"px");var h=this,k=(new Date).getTime(),l=window.setInterval(function(){var m=(new Date).getTime()-k;return m>c?(h.slidesContainer[0].style.left=b+"px",h.ontransitionend(),void window.clearInterval(l)):void(h.slidesContainer[0].style.left=
Math.floor(m/c*100)/100*(b-a)+a+"px")},4)},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},onresize:function(){this.initSlides(!0)},onmousedown:function(a){a.which&&1===a.which&&"VIDEO"!==a.target.nodeName&&(a.preventDefault(),(a.originalEvent||a).touches=[{pageX:a.pageX,pageY:a.pageY}],this.ontouchstart(a))},onmousemove:function(a){this.touchStart&&((a.originalEvent||a).touches=[{pageX:a.pageX,
pageY:a.pageY}],this.ontouchmove(a))},onmouseup:function(a){this.touchStart&&(this.ontouchend(a),delete this.touchStart)},onmouseout:function(a){if(this.touchStart){var c=a.target,g=a.relatedTarget;g&&(g===c||b.contains(c,g))||this.onmouseup(a)}},ontouchstart:function(a){this.options.stopTouchEventsPropagation&&this.stopPropagation(a);a=(a.originalEvent||a).touches[0];this.touchStart={x:a.pageX,y:a.pageY,time:Date.now()};this.isScrolling=void 0;this.touchDelta={}},ontouchmove:function(a){this.options.stopTouchEventsPropagation&&
this.stopPropagation(a);var b,c,h=(a.originalEvent||a).touches[0],k=(a.originalEvent||a).scale,l=this.index;if(!(1<h.length||k&&1!==k))if(this.options.disableScroll&&a.preventDefault(),this.touchDelta={x:h.pageX-this.touchStart.x,y:h.pageY-this.touchStart.y},b=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(b)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.closeOnSwipeUpOrDown&&this.translateY(l,this.touchDelta.y+this.positions[l],0);else for(a.preventDefault(),
window.clearTimeout(this.timeout),this.options.continuous?c=[this.circle(l+1),l,this.circle(l-1)]:(this.touchDelta.x=b/=!l&&0<b||l===this.num-1&&0>b?Math.abs(b)/this.slideWidth+1:1,c=[l],l&&c.push(l-1),l<this.num-1&&c.unshift(l+1));c.length;)l=c.pop(),this.translateX(l,b+this.positions[l],0)},ontouchend:function(a){this.options.stopTouchEventsPropagation&&this.stopPropagation(a);var b,c,h,k,l;a=this.index;var m=this.options.transitionSpeed,p=this.slideWidth,q=(b=250>Number(Date.now()-this.touchStart.time))&&
20<Math.abs(this.touchDelta.x)||Math.abs(this.touchDelta.x)>p/2,n=!a&&0<this.touchDelta.x||a===this.num-1&&0>this.touchDelta.x,r=!q&&this.options.closeOnSwipeUpOrDown&&(b&&20<Math.abs(this.touchDelta.y)||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(n=!1);b=0>this.touchDelta.x?-1:1;this.isScrolling?r?this.close():this.translateY(a,0,m):q&&!n?(c=a+b,h=a-b,k=p*b,l=-p*b,this.options.continuous?(this.move(this.circle(c),k,0),this.move(this.circle(a-2*b),l,0)):0<=c&&c<this.num&&
this.move(c,k,0),this.move(a,this.positions[a]+k,m),this.move(this.circle(h),this.positions[this.circle(h)]+k,m),a=this.circle(h),this.onslide(a)):this.options.continuous?(this.move(this.circle(a-1),-p,m),this.move(a,0,m),this.move(this.circle(a+1),p,m)):(a&&this.move(a-1,-p,m),this.move(a,0,m),a<this.num-1&&this.move(a+1,p,m))},ontouchcancel:function(a){this.touchStart&&(this.ontouchend(a),delete this.touchStart)},ontransitionend:function(a){var b=this.slides[this.index];a&&b!==a.target||(this.interval&&
this.play(),this.setTimeout(this.options.onslideend,[this.index,b]))},oncomplete:function(a){var c,g=a.target||a.srcElement,h=g&&g.parentNode;g&&h&&(c=this.getNodeIndex(h),b(h).removeClass(this.options.slideLoadingClass),"error"===a.type?(b(h).addClass(this.options.slideErrorClass),this.elements[c]=3):this.elements[c]=2,g.clientHeight>this.container[0].clientHeight&&(g.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===h&&this.play(),this.setTimeout(this.options.onslidecomplete,
[c,h]))},onload:function(a){this.oncomplete(a)},onerror:function(a){this.oncomplete(a)},onkeydown:function(a){switch(a.which||a.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(a),this.toggleControls());break;case 27:this.options.closeOnEscape&&this.close();break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(a),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(a),this.prev());break;case 39:this.options.enableKeyboardNavigation&&
(this.preventDefault(a),this.next())}},handleClick:function(a){var c=this.options,g=a.target||a.srcElement,h=g.parentNode,k=function(a){return b(g).hasClass(a)||b(h).hasClass(a)};k(c.toggleClass)?(this.preventDefault(a),this.toggleControls()):k(c.prevClass)?(this.preventDefault(a),this.prev()):k(c.nextClass)?(this.preventDefault(a),this.next()):k(c.closeClass)?(this.preventDefault(a),this.close()):k(c.playPauseClass)?(this.preventDefault(a),this.toggleSlideshow()):h===this.slidesContainer[0]?(this.preventDefault(a),
c.closeOnSlideClick?this.close():this.toggleControls()):h.parentNode&&h.parentNode===this.slidesContainer[0]&&(this.preventDefault(a),this.toggleControls())},onclick:function(a){return this.options.emulateTouchEvents&&this.touchDelta&&(20<Math.abs(this.touchDelta.x)||20<Math.abs(this.touchDelta.y))?void delete this.touchDelta:this.handleClick(a)},updateEdgeClasses:function(a){a?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass);a===this.num-
1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(a){this.options.continuous||this.updateEdgeClasses(a);this.loadElements(a);this.options.unloadElements&&this.unloadElements(a);this.setTitle(a)},onslide:function(a){this.index=a;this.handleSlide(a);this.setTimeout(this.options.onslide,[a,this.slides[a]])},setTitle:function(a){a=this.slides[a].firstChild.title;var b=this.titleElement;b.length&&(this.titleElement.empty(),
a&&b[0].appendChild(document.createTextNode(a)))},setTimeout:function(a,b,c){var h=this;return a&&window.setTimeout(function(){a.apply(h,b||[])},c||0)},imageFactory:function(a,c){var g,h,k,l=this,m=this.imagePrototype.cloneNode(!1),p=a,q=this.options.stretchImages,n=function(a){if(!g){if(a={type:a.type,target:h},!h.parentNode)return l.setTimeout(n,[a]);g=!0;b(m).off("load error",n);q&&"load"===a.type&&(h.style.background='url("'+p+'") center no-repeat',h.style.backgroundSize=q);c(a)}};return"string"!=
typeof p&&(p=this.getItemProperty(a,this.options.urlProperty),k=this.getItemProperty(a,this.options.titleProperty)),!0===q&&(q="contain"),q=this.support.backgroundSize&&this.support.backgroundSize[q]&&q,q?h=this.elementPrototype.cloneNode(!1):(h=m,m.draggable=!1),k&&(h.title=k),b(m).on("load error",n),m.src=p,h},createElement:function(a,c){var g=a&&this.getItemProperty(a,this.options.typeProperty),g=g&&this[g.split("/")[0]+"Factory"]||this.imageFactory,g=a&&g.call(this,a,c);return g||(g=this.elementPrototype.cloneNode(!1),
this.setTimeout(c,[{type:"error",target:g}])),b(g).addClass(this.options.slideContentClass),g},loadElement:function(a){this.elements[a]||(this.slides[a].firstChild?this.elements[a]=b(this.slides[a]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[a]=1,b(this.slides[a]).addClass(this.options.slideLoadingClass),this.slides[a].appendChild(this.createElement(this.list[a],this.proxyListener))))},loadElements:function(a){var b=Math.min(this.num,2*this.options.preloadRange+1),c=a;for(a=0;b>a;a+=
1)c+=a*(0===a%2?-1:1),c=this.circle(c),this.loadElement(c)},unloadElements:function(a){var b,c,h;for(b in this.elements)this.elements.hasOwnProperty(b)&&(h=Math.abs(a-b),h>this.options.preloadRange&&h+this.options.preloadRange<this.num&&(c=this.slides[b],c.removeChild(c.firstChild),delete this.elements[b]))},addSlide:function(a){var b=this.slidePrototype.cloneNode(!1);b.setAttribute("data-index",a);this.slidesContainer[0].appendChild(b);this.slides.push(b)},positionSlide:function(a){var b=this.slides[a];
b.style.width=this.slideWidth+"px";this.support.transition&&(b.style.left=a*-this.slideWidth+"px",this.move(a,this.index>a?-this.slideWidth:this.index<a?this.slideWidth:0,0))},initSlides:function(a){var c;a||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),b(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,
c=this.options.clearSlides||this.slides.length!==this.num);this.slideWidth=this.container[0].offsetWidth;this.slideHeight=this.container[0].offsetHeight;this.slidesContainer[0].style.width=this.num*this.slideWidth+"px";c&&this.resetSlides();for(a=0;a<this.num;a+=1)c&&this.addSlide(a),this.positionSlide(a);this.options.continuous&&this.support.transition&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0));this.support.transition||(this.slidesContainer[0].style.left=
this.index*-this.slideWidth+"px")},toggleControls:function(){var a=this.options.controlsClass;this.container.hasClass(a)?this.container.removeClass(a):this.container.addClass(a)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(a){return parseInt(a.getAttribute("data-index"),10)},getNestedProperty:function(a,b){return b.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(b,c,d,l,m){c=m||c||d||l&&parseInt(l,10);b&&a&&(a=a[c])}),a},getDataProperty:function(a,
c){if(a.getAttribute){var g=a.getAttribute("data-"+c.replace(/([A-Z])/g,"-$1").toLowerCase());if("string"==typeof g){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(g))try{return b.parseJSON(g)}catch(h){}return g}}},getItemProperty:function(a,b){var c=a[b];return void 0===c&&(c=this.getDataProperty(a,b),void 0===c&&(c=this.getNestedProperty(a,b))),c},initStartIndex:function(){var a,b=this.options.index,c=this.options.urlProperty;if(b&&"number"!=typeof b)for(a=0;a<this.num;a+=1)if(this.list[a]===
b||this.getItemProperty(this.list[a],c)===this.getItemProperty(b,c)){b=a;break}this.index=this.circle(parseInt(b,10)||0)},initEventListeners:function(){var a=this,c=this.slidesContainer,g=function(b){a["on"+(a.support.transition&&a.support.transition.end===b.type?"transitionend":b.type)](b)};b(window).on("resize",g);b(document.body).on("keydown",g);this.container.on("click",g);this.support.touch?c.on("touchstart touchmove touchend touchcancel",g):this.options.emulateTouchEvents&&this.support.transition&&
c.on("mousedown mousemove mouseup mouseout",g);this.support.transition&&c.on(this.support.transition.end,g);this.proxyListener=g},destroyEventListeners:function(){var a=this.slidesContainer,c=this.proxyListener;b(window).off("resize",c);b(document.body).off("keydown",c);this.container.off("click",c);this.support.touch?a.off("touchstart touchmove touchend touchcancel",c):this.options.emulateTouchEvents&&this.support.transition&&a.off("mousedown mousemove mouseup mouseout",c);this.support.transition&&
a.off(this.support.transition.end,c)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var a=this,c=function(b){b.target===a.container[0]&&(a.container.off(a.support.transition.end,c),a.handleOpen())};return this.container=b(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),
1===this.num&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,c):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):(this.console.log("blueimp Gallery: Slides container not found.",
this.options.slidesContainer),!1)):(this.console.log("blueimp Gallery: Widget container not found.",this.options.container),!1)},initOptions:function(a){this.options=b.extend({},this.options);(a&&a.carousel||this.options.carousel&&(!a||!1!==a.carousel))&&b.extend(this.options,this.carouselOptions);b.extend(this.options,a);3>this.num&&(this.options.continuous=this.options.continuous?null:!1);this.support.transition||(this.options.emulateTouchEvents=!1);this.options.event&&this.preventDefault(this.options.event)}}),
c});
(function(b){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],b):b(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(b,c){b.extend(c.prototype.options,{fullScreen:!1});var a=c.prototype.initialize,d=c.prototype.close;return b.extend(c.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullScreen:function(a){a.requestFullscreen?a.requestFullscreen():
a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen&&a.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},initialize:function(){a.call(this);this.options.fullScreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},
close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen();d.call(this)}}),c});
(function(b){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],b):b(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(b,c){b.extend(c.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var a=c.prototype.initSlides,d=c.prototype.addSlide,g=c.prototype.resetSlides,h=c.prototype.handleClick,k=c.prototype.handleSlide,l=c.prototype.handleClose;return b.extend(c.prototype,
{createIndicator:function(a){var c,d,g=this.indicatorPrototype.cloneNode(!1),h=this.getItemProperty(a,this.options.titleProperty),k=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(d=a.getElementsByTagName&&b(a).find("img")[0],d?c=d.src:k&&(c=this.getItemProperty(a,k)),c&&(g.style.backgroundImage='url("'+c+'")')),h&&(g.title=h),g},addIndicator:function(a){if(this.indicatorContainer.length){var b=this.createIndicator(this.list[a]);b.setAttribute("data-index",a);this.indicatorContainer[0].appendChild(b);
this.indicators.push(b)}},setActiveIndicator:function(a){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=b(this.indicators[a]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(b){b||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children));
a.call(this,b)},addSlide:function(a){d.call(this,a);this.addIndicator(a)},resetSlides:function(){g.call(this);this.indicatorContainer.empty();this.indicators=[]},handleClick:function(a){var b=a.target||a.srcElement,c=b.parentNode;if(c===this.indicatorContainer[0])this.preventDefault(a),this.slide(this.getNodeIndex(b));else{if(c.parentNode!==this.indicatorContainer[0])return h.call(this,a);this.preventDefault(a);this.slide(this.getNodeIndex(c))}},handleSlide:function(a){k.call(this,a);this.setActiveIndicator(a)},
handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass);l.call(this)}}),c});
(function(b){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],b):b(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(b,c){b.extend(c.prototype.options,{videoContentClass:"video-content",videoLoadingClass:"video-loading",videoPlayingClass:"video-playing",videoPosterProperty:"poster",videoSourcesProperty:"sources"});var a=c.prototype.handleSlide;return b.extend(c.prototype,{handleSlide:function(b){a.call(this,b);this.playingVideo&&this.playingVideo.pause()},
videoFactory:function(a,c,h){var k,l,m,p,q,n=this,r=this.options,s=this.elementPrototype.cloneNode(!1),t=b(s),v=[{type:"error",target:s}],z=h||document.createElement("video"),w=this.getItemProperty(a,r.urlProperty),y=this.getItemProperty(a,r.typeProperty),u=this.getItemProperty(a,r.titleProperty),A=this.getItemProperty(a,r.videoPosterProperty);a=this.getItemProperty(a,r.videoSourcesProperty);if(t.addClass(r.videoContentClass),u&&(s.title=u),z.canPlayType)if(w&&y&&z.canPlayType(y))z.src=w;else for(;a&&
a.length;)if(l=a.shift(),w=this.getItemProperty(l,r.urlProperty),y=this.getItemProperty(l,r.typeProperty),w&&y&&z.canPlayType(y)){z.src=w;break}return A&&(z.poster=A,k=this.imagePrototype.cloneNode(!1),b(k).addClass(r.toggleClass),k.src=A,k.draggable=!1,s.appendChild(k)),m=document.createElement("a"),m.setAttribute("target","_blank"),h||m.setAttribute("download",u),m.href=w,z.src&&(z.controls=!0,(h||b(z)).on("error",function(){n.setTimeout(c,v)}).on("pause",function(){p=!1;t.removeClass(n.options.videoLoadingClass).removeClass(n.options.videoPlayingClass);
q&&n.container.addClass(n.options.controlsClass);delete n.playingVideo;n.interval&&n.play()}).on("playing",function(){p=!1;t.removeClass(n.options.videoLoadingClass).addClass(n.options.videoPlayingClass);n.container.hasClass(n.options.controlsClass)?(q=!0,n.container.removeClass(n.options.controlsClass)):q=!1}).on("play",function(){window.clearTimeout(n.timeout);p=!0;t.addClass(n.options.videoLoadingClass);n.playingVideo=z}),b(m).on("click",function(a){n.preventDefault(a);p?z.pause():z.play()}),s.appendChild(h&&
h.element||z)),s.appendChild(m),this.setTimeout(c,[{type:"load",target:s}]),s}}),c});
(function(b){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],b):b(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(b,c){if(!window.postMessage)return c;b.extend(c.prototype.options,{vimeoVideoIdProperty:"vimeo",vimeoPlayerUrl:"//player.vimeo.com/video/VIDEO_ID?api=1&player_id=PLAYER_ID",vimeoPlayerIdPrefix:"vimeo-player-",vimeoClickToPlay:!0});var a=c.prototype.textFactory||c.prototype.imageFactory,d=function(a,b,c,d){this.url=a;this.videoId=
b;this.playerId=c;this.clickToPlay=d;this.element=document.createElement("div");this.listeners={}},g=0;return b.extend(d.prototype,{canPlayType:function(){return!0},on:function(a,b){return this.listeners[a]=b,this},loadAPI:function(){for(var a,c,d=this,g="//"+("https"===location.protocol?"secure-":"")+"a.vimeocdn.com/js/froogaloop2.min.js",p=document.getElementsByTagName("script"),q=p.length,n=function(){!c&&d.playOnReady&&d.play();c=!0};q;)if(q-=1,p[q].src===g){a=p[q];break}a||(a=document.createElement("script"),
a.src=g);b(a).on("load",n);p[0].parentNode.insertBefore(a,p[0]);/loaded|complete/.test(a.readyState)&&n()},onReady:function(){var a=this;this.ready=!0;this.player.addEvent("play",function(){a.hasPlayed=!0;a.onPlaying()});this.player.addEvent("pause",function(){a.onPause()});this.player.addEvent("finish",function(){a.onPause()});this.playOnReady&&this.play()},onPlaying:function(){2>this.playStatus&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){this.listeners.pause();delete this.playStatus},
insertIframe:function(){var a=document.createElement("iframe");a.src=this.url.replace("VIDEO_ID",this.videoId).replace("PLAYER_ID",this.playerId);a.id=this.playerId;this.element.parentNode.replaceChild(a,this.element);this.element=a},play:function(){var a=this;this.playStatus||(this.listeners.play(),this.playStatus=1);this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.api("play"):(this.playOnReady=!0,window.$f?
this.player||(this.insertIframe(),this.player=$f(this.element),this.player.addEvent("ready",function(){a.onReady()})):this.loadAPI())},pause:function(){this.ready?this.player.api("pause"):this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),b.extend(c.prototype,{VimeoPlayer:d,textFactory:function(b,c){var l=this.getItemProperty(b,this.options.vimeoVideoIdProperty);return l?(g+=1,this.videoFactory(b,c,new d(this.options.vimeoPlayerUrl,l,this.options.vimeoPlayerIdPrefix+
g,this.options.vimeoClickToPlay))):a.call(this,b,c)}}),c});
(function(b){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],b):b(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(b,c){if(!window.postMessage)return c;b.extend(c.prototype.options,{youTubeVideoIdProperty:"youtube",youTubePlayerVars:{wmode:"transparent"},youTubeClickToPlay:!0});var a=c.prototype.textFactory||c.prototype.imageFactory,d=function(a,b,c){this.videoId=a;this.playerVars=b;this.clickToPlay=c;this.element=document.createElement("div");
this.listeners={}};return b.extend(d.prototype,{canPlayType:function(){return!0},on:function(a,b){return this.listeners[a]=b,this},loadAPI:function(){var a,b=this,c=window.onYouTubeIframeAPIReady,d=document.getElementsByTagName("script");a=d.length;for(window.onYouTubeIframeAPIReady=function(){c&&c.apply(this);b.playOnReady&&b.play()};a;)if(a-=1,"//www.youtube.com/iframe_api"===d[a].src)return;a=document.createElement("script");a.src="//www.youtube.com/iframe_api";d[0].parentNode.insertBefore(a,d[0])},
onReady:function(){this.ready=!0;this.playOnReady&&this.play()},onPlaying:function(){2>this.playStatus&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){c.prototype.setTimeout.call(this,this.checkSeek,null,2E3)},checkSeek:function(){this.stateChange!==YT.PlayerState.PAUSED&&this.stateChange!==YT.PlayerState.ENDED||(this.listeners.pause(),delete this.playStatus)},onStateChange:function(a){switch(a.data){case YT.PlayerState.PLAYING:this.hasPlayed=!0;this.onPlaying();break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:this.onPause()}this.stateChange=
a.data},onError:function(a){this.listeners.error(a)},play:function(){var a=this;this.playStatus||(this.listeners.play(),this.playStatus=1);this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.playVideo():(this.playOnReady=!0,window.YT&&YT.Player?this.player||(this.player=new YT.Player(this.element,{videoId:this.videoId,playerVars:this.playerVars,events:{onReady:function(){a.onReady()},onStateChange:function(b){a.onStateChange(b)},
onError:function(b){a.onError(b)}}})):this.loadAPI())},pause:function(){this.ready?this.player.pauseVideo():this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),b.extend(c.prototype,{YouTubePlayer:d,textFactory:function(b,c){var k=this.getItemProperty(b,this.options.youTubeVideoIdProperty);return k?this.videoFactory(b,c,new d(k,this.options.youTubePlayerVars,this.options.youTubeClickToPlay)):a.call(this,b,c)}}),c});
(function(b){"function"==typeof define&&define.amd?define(["jquery","./blueimp-gallery"],b):b(window.jQuery,window.blueimp.Gallery)})(function(b,c){b(document).on("click","[data-gallery]",function(a){var d=b(this).data("gallery"),g=b(d),h=g.length&&g||b(c.prototype.options.container);a=b.extend(h.data(),{container:h[0],index:this,event:a},{onopen:function(){h.data("gallery",this).trigger("open")},onopened:function(){h.trigger("opened")},onslide:function(){h.trigger("slide",arguments)},onslideend:function(){h.trigger("slideend",
arguments)},onslidecomplete:function(){h.trigger("slidecomplete",arguments)},onclose:function(){h.trigger("close")},onclosed:function(){h.trigger("closed").removeData("gallery")}});d=b('[data-gallery="'+d+'"]');return a.filter&&(d=d.filter(a.filter)),new c(d,a)})});(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):b(window.jQuery)})(function(b){var c=0;b.ajaxTransport("iframe",function(a){if(a.async){var d=a.initialIframeSrc||"javascript:false;",g,h,k;return{send:function(l,m){g=b('<form style="display:none;"></form>');g.attr("accept-charset",a.formAcceptCharset);k=/\?/.test(a.url)?"&":"?";"DELETE"===a.type?(a.url=a.url+k+"_method=DELETE",a.type="POST"):"PUT"===a.type?(a.url=a.url+k+"_method=PUT",a.type="POST"):"PATCH"===a.type&&(a.url=
a.url+k+"_method=PATCH",a.type="POST");c+=1;h=b('<iframe src="'+d+'" name="iframe-transport-'+c+'"></iframe>').bind("load",function(){var c,k=b.isArray(a.paramName)?a.paramName:[a.paramName];h.unbind("load").bind("load",function(){var a;try{if(a=h.contents(),!a.length||!a[0].firstChild)throw Error();}catch(c){a=void 0}m(200,"success",{iframe:a});b('<iframe src="'+d+'"></iframe>').appendTo(g);window.setTimeout(function(){g.remove()},0)});g.prop("target",h.prop("name")).prop("action",a.url).prop("method",
a.type);a.formData&&b.each(a.formData,function(a,c){b('<input type="hidden"/>').prop("name",c.name).val(c.value).appendTo(g)});a.fileInput&&a.fileInput.length&&"POST"===a.type&&(c=a.fileInput.clone(),a.fileInput.after(function(a){return c[a]}),a.paramName&&a.fileInput.each(function(c){b(this).prop("name",k[c]||a.paramName)}),g.append(a.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),a.fileInput.removeAttr("form"));g.submit();c&&c.length&&a.fileInput.each(function(a,
d){var g=b(c[a]);b(d).prop("name",g.prop("name")).attr("form",g.attr("form"));g.replaceWith(d)})});g.append(h).appendTo(document.body)},abort:function(){h&&h.unbind("load").prop("src",d);g&&g.remove()}}}});b.ajaxSetup({converters:{"iframe text":function(a){return a&&b(a[0].body).text()},"iframe json":function(a){return a&&b.parseJSON(b(a[0].body).text())},"iframe html":function(a){return a&&b(a[0].body).html()},"iframe xml":function(a){return(a=a&&a[0])&&b.isXMLDoc(a)?a:b.parseXML(a.XMLDocument&&
a.XMLDocument.xml||b(a.body).html())},"iframe script":function(a){return a&&b.globalEval(b(a[0].body).text())}}})});(function(b){"function"===typeof define&&define.amd?define(["jquery","jquery.ui.widget"],b):b(window.jQuery)})(function(b){b.support.fileInput=!(RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||b('<input type="file">').prop("disabled"));b.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader);b.support.xhrFormDataFileUpload=!!window.FormData;b.support.blobSlice=
window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);b.widget("blueimp.fileupload",{options:{dropZone:b(document),pasteZone:b(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,
uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"\uc5c5\ub85c\ub4dc\ub41c \ud30c\uc77c\uc774 \uc81c\ud55c\ub41c \uc6a9\ub7c9\uc744 \ucd08\uacfc \ud569\ub2c8\ub2e4."},i18n:function(c,a){c=this.messages[c]||c.toString();a&&b.each(a,function(a,b){c=c.replace("{"+a+"}",b)});return c},formData:function(b){return b.serializeArray()},add:function(c,a){if(c.isDefaultPrevented())return!1;(a.autoUpload||!1!==a.autoUpload&&b(this).fileupload("option",
"autoUpload"))&&a.process().done(function(){a.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:b.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime();this.bitrate=this.loaded=0;this.getBitrate=function(b,a,d){var g=b-this.timestamp;if(!this.bitrate||!d||g>d)this.bitrate=
1E3/g*(a-this.loaded)*8,this.loaded=a,this.timestamp=b;return this.bitrate}},_isXHRUpload:function(c){return!c.forceIframeTransport&&(!c.multipart&&b.support.xhrFileUpload||b.support.xhrFormDataFileUpload)},_getFormData:function(c){var a;return"function"===b.type(c.formData)?c.formData(c.form):b.isArray(c.formData)?c.formData:"object"===b.type(c.formData)?(a=[],b.each(c.formData,function(b,c){a.push({name:b,value:c})}),a):[]},_getTotal:function(c){var a=0;b.each(c,function(b,c){a+=c.size||1});return a},
_initProgressObject:function(c){var a={loaded:0,total:0,bitrate:0};c._progress?b.extend(c._progress,a):c._progress=a},_initResponseObject:function(b){var a;if(b._response)for(a in b._response)b._response.hasOwnProperty(a)&&delete b._response[a];else b._response={}},_onProgress:function(c,a){if(c.lengthComputable){var d=Date.now?Date.now():(new Date).getTime(),g;a._time&&a.progressInterval&&d-a._time<a.progressInterval&&c.loaded!==c.total||(a._time=d,g=Math.floor(c.loaded/c.total*(a.chunkSize||a._progress.total))+
(a.uploadedBytes||0),this._progress.loaded+=g-a._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(d,this._progress.loaded,a.bitrateInterval),a._progress.loaded=a.loaded=g,a._progress.bitrate=a.bitrate=a._bitrateTimer.getBitrate(d,g,a.bitrateInterval),this._trigger("progress",b.Event("progress",{delegatedEvent:c}),a),this._trigger("progressall",b.Event("progressall",{delegatedEvent:c}),this._progress))}},_initProgressListener:function(c){var a=this,d=c.xhr?c.xhr():b.ajaxSettings.xhr();
d.upload&&(b(d.upload).bind("progress",function(b){var d=b.originalEvent;b.lengthComputable=d.lengthComputable;b.loaded=d.loaded;b.total=d.total;a._onProgress(b,c)}),c.xhr=function(){return d})},_isInstanceOf:function(b,a){return Object.prototype.toString.call(a)==="[object "+b+"]"},_initXHRData:function(c){var a=this,d,g=c.files[0],h=c.multipart||!b.support.xhrFileUpload,k="array"===b.type(c.paramName)?c.paramName[0]:c.paramName;c.headers=b.extend({},c.headers);c.contentRange&&(c.headers["Content-Range"]=
c.contentRange);h&&!c.blob&&this._isInstanceOf("File",g)||(c.headers["Content-Disposition"]='attachment; filename="'+encodeURI(g.name)+'"');h?b.support.xhrFormDataFileUpload&&(c.postMessage?(d=this._getFormData(c),c.blob?d.push({name:k,value:c.blob}):b.each(c.files,function(a,g){d.push({name:"array"===b.type(c.paramName)&&c.paramName[a]||k,value:g})})):(a._isInstanceOf("FormData",c.formData)?d=c.formData:(d=new FormData,b.each(this._getFormData(c),function(a,b){d.append(b.name,b.value)})),c.blob?
d.append(k,c.blob,g.name):b.each(c.files,function(g,h){(a._isInstanceOf("File",h)||a._isInstanceOf("Blob",h))&&d.append("array"===b.type(c.paramName)&&c.paramName[g]||k,h,h.uploadName||h.name)})),c.data=d):(c.contentType=g.type||"application/octet-stream",c.data=c.blob||g);c.blob=null},_initIframeSettings:function(c){var a=b("<a></a>").prop("href",c.url).prop("host");c.dataType="iframe "+(c.dataType||"");c.formData=this._getFormData(c);c.redirect&&a&&a!==location.host&&c.formData.push({name:c.redirectParamName||
"redirect",value:c.redirect})},_initDataSettings:function(b){this._isXHRUpload(b)?(this._chunkedUpload(b,!0)||(b.data||this._initXHRData(b),this._initProgressListener(b)),b.postMessage&&(b.dataType="postmessage "+(b.dataType||""))):this._initIframeSettings(b)},_getParamName:function(c){var a=b(c.fileInput),d=c.paramName;d?b.isArray(d)||(d=[d]):(d=[],a.each(function(){for(var a=b(this),c=a.prop("name")||"files[]",a=(a.prop("files")||[1]).length;a;)d.push(c),a-=1}),d.length||(d=[a.prop("name")||"files[]"]));
return d},_initFormSettings:function(c){c.form&&c.form.length||(c.form=b(c.fileInput.prop("form")),c.form.length||(c.form=b(this.options.fileInput.prop("form"))));c.paramName=this._getParamName(c);c.url||(c.url=c.form.prop("action")||location.href);c.type=(c.type||"string"===b.type(c.form.prop("method"))&&c.form.prop("method")||"").toUpperCase();"POST"!==c.type&&"PUT"!==c.type&&"PATCH"!==c.type&&(c.type="POST");c.formAcceptCharset||(c.formAcceptCharset=c.form.attr("accept-charset"))},_getAJAXSettings:function(c){c=
b.extend({},this.options,c);this._initFormSettings(c);this._initDataSettings(c);return c},_getDeferredState:function(b){return b.state?b.state():b.isResolved()?"resolved":b.isRejected()?"rejected":"pending"},_enhancePromise:function(b){b.success=b.done;b.error=b.fail;b.complete=b.always;return b},_getXHRPromise:function(c,a,d){var g=b.Deferred(),h=g.promise();a=a||this.options.context||h;!0===c?g.resolveWith(a,d):!1===c&&g.rejectWith(a,d);h.abort=g.promise;return this._enhancePromise(h)},_addConvenienceMethods:function(c,
a){var d=this,g=function(a){return b.Deferred().resolveWith(d,a).promise()};a.process=function(c,k){if(c||k)a._processQueue=this._processQueue=(this._processQueue||g([this])).pipe(function(){return a.errorThrown?b.Deferred().rejectWith(d,[a]).promise():g(arguments)}).pipe(c,k);return this._processQueue||g([this])};a.submit=function(){"pending"!==this.state()&&(a.jqXHR=this.jqXHR=!1!==d._trigger("submit",b.Event("submit",{delegatedEvent:c}),this)&&d._onSend(c,this));return this.jqXHR||d._getXHRPromise()};
a.abort=function(){if(this.jqXHR)return this.jqXHR.abort();this.errorThrown="abort";d._trigger("fail",null,this);return d._getXHRPromise(!1)};a.state=function(){if(this.jqXHR)return d._getDeferredState(this.jqXHR);if(this._processQueue)return d._getDeferredState(this._processQueue)};a.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===d._getDeferredState(this._processQueue)};a.progress=function(){return this._progress};a.response=function(){return this._response}},_getUploadedBytes:function(b){return(b=
(b=(b=b.getResponseHeader("Range"))&&b.split("-"))&&1<b.length&&parseInt(b[1],10))&&b+1},_chunkedUpload:function(c,a){c.uploadedBytes=c.uploadedBytes||0;var d=this,g=c.files[0],h=g.size,k=c.uploadedBytes,l=c.maxChunkSize||h,m=this._blobSlice,p=b.Deferred(),q=p.promise(),n,r;if(!(this._isXHRUpload(c)&&m&&(k||l<h))||c.data)return!1;if(a)return!0;if(k>=h)return g.error=c.i18n("uploadedBytes"),this._getXHRPromise(!1,c.context,[null,"error",g.error]);r=function(){var a=b.extend({},c),q=a._progress.loaded;
a.blob=m.call(g,k,k+l,g.type);a.chunkSize=a.blob.size;a.contentRange="bytes "+k+"-"+(k+a.chunkSize-1)+"/"+h;d._initXHRData(a);d._initProgressListener(a);n=(!1!==d._trigger("chunksend",null,a)&&b.ajax(a)||d._getXHRPromise(!1,a.context)).done(function(g,l,m){k=d._getUploadedBytes(m)||k+a.chunkSize;q+a.chunkSize-a._progress.loaded&&d._onProgress(b.Event("progress",{lengthComputable:!0,loaded:k-a.uploadedBytes,total:k-a.uploadedBytes}),a);c.uploadedBytes=a.uploadedBytes=k;a.result=g;a.textStatus=l;a.jqXHR=
m;d._trigger("chunkdone",null,a);d._trigger("chunkalways",null,a);k<h?r():p.resolveWith(a.context,[g,l,m])}).fail(function(b,c,g){a.jqXHR=b;a.textStatus=c;a.errorThrown=g;d._trigger("chunkfail",null,a);d._trigger("chunkalways",null,a);p.rejectWith(a.context,[b,c,g])})};this._enhancePromise(q);q.abort=function(){return n.abort()};r();return q},_beforeSend:function(b,a){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=
0);this._initResponseObject(a);this._initProgressObject(a);a._progress.loaded=a.loaded=a.uploadedBytes||0;a._progress.total=a.total=this._getTotal(a.files)||1;a._progress.bitrate=a.bitrate=0;this._active+=1;this._progress.loaded+=a.loaded;this._progress.total+=a.total},_onDone:function(c,a,d,g){var h=g._progress.total,k=g._response;g._progress.loaded<h&&this._onProgress(b.Event("progress",{lengthComputable:!0,loaded:h,total:h}),g);k.result=g.result=c;k.textStatus=g.textStatus=a;k.jqXHR=g.jqXHR=d;
this._trigger("done",null,g)},_onFail:function(b,a,d,g){var h=g._response;g.recalculateProgress&&(this._progress.loaded-=g._progress.loaded,this._progress.total-=g._progress.total);h.jqXHR=g.jqXHR=b;h.textStatus=g.textStatus=a;h.errorThrown=g.errorThrown=d;this._trigger("fail",null,g)},_onAlways:function(b,a,d,g){this._trigger("always",null,g)},_onSend:function(c,a){a.submit||this._addConvenienceMethods(c,a);var d=this,g,h,k,l,m=d._getAJAXSettings(a),p=function(){d._sending+=1;m._bitrateTimer=new d._BitrateTimer;
return g=g||((h||!1===d._trigger("send",b.Event("send",{delegatedEvent:c}),m))&&d._getXHRPromise(!1,m.context,h)||d._chunkedUpload(m)||b.ajax(m)).done(function(a,b,c){d._onDone(a,b,c,m)}).fail(function(a,b,c){d._onFail(a,b,c,m)}).always(function(a,b,c){d._onAlways(a,b,c,m);d._sending-=1;d._active-=1;if(m.limitConcurrentUploads&&m.limitConcurrentUploads>d._sending)for(a=d._slots.shift();a;){if("pending"===d._getDeferredState(a)){a.resolve();break}a=d._slots.shift()}0===d._active&&d._trigger("stop")})};
this._beforeSend(c,m);return this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(1<this.options.limitConcurrentUploads?(k=b.Deferred(),this._slots.push(k),l=k.pipe(p)):l=this._sequence=this._sequence.pipe(p,p),l.abort=function(){h=[void 0,"abort","abort"];return g?g.abort():(k&&k.rejectWith(m.context,h),p())},this._enhancePromise(l)):p()},_onAdd:function(c,a){var d=this,g=!0,h=b.extend({},this.options,a),k=a.files,l=k.length,m=h.limitMultiFileUploads,
p=h.limitMultiFileUploadSize,q=h.limitMultiFileUploadSizeOverhead,n=0,r=this._getParamName(h),s,t,v=0;!p||l&&void 0!==k[0].size||(p=void 0);if((h.singleFileUploads||m||p)&&this._isXHRUpload(h))if(h.singleFileUploads||p||!m)if(!h.singleFileUploads&&p)for(t=[],s=[],h=0;h<l;h+=1){if(n+=k[h].size+q,h+1===l||n+k[h+1].size+q>p||m&&h+1-v>=m)t.push(k.slice(v,h+1)),n=r.slice(v,h+1),n.length||(n=r),s.push(n),v=h+1,n=0}else s=r;else for(t=[],s=[],h=0;h<l;h+=m)t.push(k.slice(h,h+m)),n=r.slice(h,h+m),n.length||
(n=r),s.push(n);else t=[k],s=[r];a.originalFiles=k;b.each(t||k,function(h,k){var l=b.extend({},a);l.files=t?k:[k];l.paramName=s[h];d._initResponseObject(l);d._initProgressObject(l);d._addConvenienceMethods(c,l);return g=d._trigger("add",b.Event("add",{delegatedEvent:c}),l)});return g},_replaceFileInput:function(c){var a=c.clone(!0);b("<form></form>").append(a)[0].reset();c.after(a).detach();b.cleanData(c.unbind("remove"));this.options.fileInput=this.options.fileInput.map(function(b,g){return g===
c[0]?a[0]:g});c[0]===this.element[0]&&(this.element=a)},_handleFileTreeEntry:function(c,a){var d=this,g=b.Deferred(),h=function(a){a&&!a.entry&&(a.entry=c);g.resolve([a])},k;a=a||"";c.isFile?c._file?(c._file.relativePath=a,g.resolve(c._file)):c.file(function(b){b.relativePath=a;g.resolve(b)},h):c.isDirectory?(k=c.createReader(),k.readEntries(function(b){d._handleFileTreeEntries(b,a+c.name+"/").done(function(a){g.resolve(a)}).fail(h)},h)):g.resolve([]);return g.promise()},_handleFileTreeEntries:function(c,
a){var d=this;return b.when.apply(b,b.map(c,function(b){return d._handleFileTreeEntry(b,a)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(c){c=c||{};var a=c.items;return a&&a.length&&(a[0].webkitGetAsEntry||a[0].getAsEntry)?this._handleFileTreeEntries(b.map(a,function(a){var b;if(a.webkitGetAsEntry){if(b=a.webkitGetAsEntry())b._file=a.getAsFile();return b}return a.getAsEntry()})):b.Deferred().resolve(b.makeArray(c.files)).promise()},_getSingleFileInputFiles:function(c){c=
b(c);var a=c.prop("webkitEntries")||c.prop("entries");if(a&&a.length)return this._handleFileTreeEntries(a);a=b.makeArray(c.prop("files"));if(a.length)void 0===a[0].name&&a[0].fileName&&b.each(a,function(a,b){b.name=b.fileName;b.size=b.fileSize});else{c=c.prop("value");if(!c)return b.Deferred().resolve([]).promise();a=[{name:c.replace(/^.*\\/,"")}]}return b.Deferred().resolve(a).promise()},_getFileInputFiles:function(c){return c instanceof b&&1!==c.length?b.when.apply(b,b.map(c,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],
arguments)}):this._getSingleFileInputFiles(c)},_onChange:function(c){var a=this,d={fileInput:b(c.target),form:b(c.target.form)};this._getFileInputFiles(d.fileInput).always(function(g){d.files=g;a.options.replaceFileInput&&a._replaceFileInput(d.fileInput);!1!==a._trigger("change",b.Event("change",{delegatedEvent:c}),d)&&a._onAdd(c,d)})},_onPaste:function(c){var a=c.originalEvent&&c.originalEvent.clipboardData&&c.originalEvent.clipboardData.items,d={files:[]};a&&a.length&&(b.each(a,function(a,b){var c=
b.getAsFile&&b.getAsFile();c&&d.files.push(c)}),!1!==this._trigger("paste",b.Event("paste",{delegatedEvent:c}),d)&&this._onAdd(c,d))},_onDrop:function(c){c.dataTransfer=c.originalEvent&&c.originalEvent.dataTransfer;var a=this,d=c.dataTransfer,g={};d&&d.files&&d.files.length&&(c.preventDefault(),this._getDroppedFiles(d).always(function(d){g.files=d;!1!==a._trigger("drop",b.Event("drop",{delegatedEvent:c}),g)&&a._onAdd(c,g)}))},_onDragOver:function(c){c.dataTransfer=c.originalEvent&&c.originalEvent.dataTransfer;
var a=c.dataTransfer;a&&-1!==b.inArray("Files",a.types)&&!1!==this._trigger("dragover",b.Event("dragover",{delegatedEvent:c}))&&(c.preventDefault(),a.dropEffect="copy")},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste}));b.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,
"dragover drop");this._off(this.options.pasteZone,"paste");this._off(this.options.fileInput,"change")},_setOption:function(c,a){var d=-1!==b.inArray(c,this._specialOptions);d&&this._destroyEventHandlers();this._super(c,a);d&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var c=this.options;void 0===c.fileInput?c.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):c.fileInput instanceof b||(c.fileInput=b(c.fileInput));
c.dropZone instanceof b||(c.dropZone=b(c.dropZone));c.pasteZone instanceof b||(c.pasteZone=b(c.pasteZone))},_getRegExp:function(b){b=b.split("/");var a=b.pop();b.shift();return RegExp(b.join("/"),a)},_isRegExpOption:function(c,a){return"url"!==c&&"string"===b.type(a)&&/^\/.*\/[igm]{0,3}$/.test(a)},_initDataAttributes:function(){var c=this,a=this.options,d=b(this.element[0].cloneNode(!1));b.each(d.data(),function(b,h){var k="data-"+b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();d.attr(k)&&(c._isRegExpOption(b,
h)&&(h=c._getRegExp(h)),a[b]=h)})},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(!0);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(c){var a=this;c&&!this.options.disabled&&(c.fileInput&&!c.files?this._getFileInputFiles(c.fileInput).always(function(b){c.files=b;a._onAdd(null,c)}):(c.files=
b.makeArray(c.files),this._onAdd(null,c)))},send:function(c){if(c&&!this.options.disabled){if(c.fileInput&&!c.files){var a=this,d=b.Deferred(),g=d.promise(),h,k;g.abort=function(){k=!0;if(h)return h.abort();d.reject(null,"abort","abort");return g};this._getFileInputFiles(c.fileInput).always(function(b){k||(b.length?(c.files=b,h=a._onSend(null,c).then(function(a,b,c){d.resolve(a,b,c)},function(a,b,c){d.reject(a,b,c)})):d.reject())});return this._enhancePromise(g)}c.files=b.makeArray(c.files);if(c.files.length)return this._onSend(null,
c)}return this._getXHRPromise(!1,c&&c.context)}})});(function(b){"function"===typeof define&&define.amd?define(["jquery","./jquery.fileupload"],b):b(window.jQuery)})(function(b){var c=b.blueimp.fileupload.prototype.options.add;b.widget("blueimp.fileupload",b.blueimp.fileupload,{options:{processQueue:[],add:function(a,d){var g=b(this);d.process(function(){return g.fileupload("process",d)});c.call(this,a,d)}},processActions:{},_processFile:function(a,c){var g=this,h=b.Deferred().resolveWith(g,[a]).promise();this._trigger("process",null,a);b.each(a.processQueue,
function(a,l){var m=function(a){return c.errorThrown?b.Deferred().rejectWith(g,[c]).promise():g.processActions[l.action].call(g,a,l)};h=h.pipe(m,l.always&&m)});h.done(function(){g._trigger("processdone",null,a);g._trigger("processalways",null,a)}).fail(function(){g._trigger("processfail",null,a);g._trigger("processalways",null,a)});return h},_transformProcessQueue:function(a){var c=[];b.each(a.processQueue,function(){var g={},h=this.action,k=!0===this.prefix?h:this.prefix;b.each(this,function(c,d){"string"===
b.type(d)&&"@"===d.charAt(0)?g[c]=a[d.slice(1)||(k?k+c.charAt(0).toUpperCase()+c.slice(1):c)]:g[c]=d});c.push(g)});a.processQueue=c},processing:function(){return this._processing},process:function(a){var c=this,g=b.extend({},this.options,a);g.processQueue&&g.processQueue.length&&(this._transformProcessQueue(g),0===this._processing&&this._trigger("processstart"),b.each(a.files,function(h){var k=h?b.extend({},g):g,l=function(){return a.errorThrown?b.Deferred().rejectWith(c,[a]).promise():c._processFile(k,
a)};k.index=h;c._processing+=1;c._processingQueue=c._processingQueue.pipe(l,l).always(function(){c._processing-=1;0===c._processing&&c._trigger("processstop")})}));return this._processingQueue},_create:function(){this._super();this._processing=0;this._processingQueue=b.Deferred().resolveWith(this).promise()}})});(function(b){"function"===typeof define&&define.amd?define("jquery load-image load-image-meta load-image-exif load-image-ios canvas-to-blob ./jquery.fileupload-process".split(" "),b):b(window.jQuery,window.loadImage)})(function(b,c){b.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",disableImageHead:"@",disableExif:"@",disableExifThumbnail:"@",disableExifSub:"@",disableExifGps:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",prefix:!0,fileTypes:"@",
maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize"},{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",
thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"},{action:"deleteImageReferences",disabled:"@disableImageReferencesDeletion"});b.widget("blueimp.fileupload",b.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png|svg\+xml)$/,loadImageMaxFileSize:1E7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:!1,imageCrop:!1,disableImageResize:!0,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:!0,
previewThumbnail:!0,previewCrop:!1,previewCanvas:!0},processActions:{loadImage:function(a,d){if(d.disabled)return a;var g=this,h=a.files[a.index],k=b.Deferred();return"number"===b.type(d.maxFileSize)&&h.size>d.maxFileSize||d.fileTypes&&!d.fileTypes.test(h.type)||!c(h,function(b){b.src&&(a.img=b);k.resolveWith(g,[a])},d)?a:k.promise()},resizeImage:function(a,d){if(d.disabled||!a.canvas&&!a.img)return a;d=b.extend({canvas:!0},d);var g=this,h=b.Deferred(),k=d.canvas&&a.canvas||a.img,l=function(b){b&&
(b.width!==k.width||b.height!==k.height||d.forceResize)&&(a[b.getContext?"canvas":"img"]=b);a.preview=b;h.resolveWith(g,[a])},m;if(a.exif){!0===d.orientation&&(d.orientation=a.exif.get("Orientation"));if(d.thumbnail&&(m=a.exif.get("Thumbnail")))return c(m,l,d),h.promise();a.orientation?delete d.orientation:a.orientation=d.orientation}return k?(l(c.scale(k,d)),h.promise()):a},saveImage:function(a,c){if(!a.canvas||c.disabled)return a;var g=this,h=a.files[a.index],k=b.Deferred();if(a.canvas.toBlob)a.canvas.toBlob(function(b){b.name||
(h.type===b.type?b.name=h.name:h.name&&(b.name=h.name.replace(/\..+$/,"."+b.type.substr(6))));h.type!==b.type&&delete a.imageHead;a.files[a.index]=b;k.resolveWith(g,[a])},c.type||h.type,c.quality);else return a;return k.promise()},loadImageMetaData:function(a,d){if(d.disabled)return a;var g=this,h=b.Deferred();c.parseMetaData(a.files[a.index],function(c){b.extend(a,c);h.resolveWith(g,[a])},d);return h.promise()},saveImageMetaData:function(a,b){if(!a.imageHead||!a.canvas||!a.canvas.toBlob||b.disabled)return a;
var c=a.files[a.index],h=new Blob([a.imageHead,this._blobSlice.call(c,20)],{type:c.type});h.name=c.name;a.files[a.index]=h;return a},setImage:function(a,b){a.preview&&!b.disabled&&(a.files[a.index][b.name||"preview"]=a.preview);return a},deleteImageReferences:function(a,b){b.disabled||(delete a.img,delete a.canvas,delete a.preview,delete a.imageHead);return a}}})});(function(b){"function"===typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],b):b(window.jQuery,window.loadImage)})(function(b,c){b.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadAudio",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableAudioPreview"},{action:"setAudio",name:"@audioPreviewName",disabled:"@disableAudioPreview"});b.widget("blueimp.fileupload",b.blueimp.fileupload,{options:{loadAudioFileTypes:/^audio\/.*$/},_audioElement:document.createElement("audio"),
processActions:{loadAudio:function(a,d){if(d.disabled)return a;var g=a.files[a.index],h;this._audioElement.canPlayType&&this._audioElement.canPlayType(g.type)&&("number"!==b.type(d.maxFileSize)||g.size<=d.maxFileSize)&&(!d.fileTypes||d.fileTypes.test(g.type))&&(g=c.createObjectURL(g))&&(h=this._audioElement.cloneNode(!1),h.src=g,h.controls=!0,a.audio=h);return a},setAudio:function(a,b){a.audio&&!b.disabled&&(a.files[a.index][b.name||"preview"]=a.audio);return a}}})});(function(b){"function"===typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],b):b(window.jQuery,window.loadImage)})(function(b,c){b.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadVideo",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableVideoPreview"},{action:"setVideo",name:"@videoPreviewName",disabled:"@disableVideoPreview"});b.widget("blueimp.fileupload",b.blueimp.fileupload,{options:{loadVideoFileTypes:/^video\/.*$/},_videoElement:document.createElement("video"),
processActions:{loadVideo:function(a,d){if(d.disabled)return a;var g=a.files[a.index],h;this._videoElement.canPlayType&&this._videoElement.canPlayType(g.type)&&("number"!==b.type(d.maxFileSize)||g.size<=d.maxFileSize)&&(!d.fileTypes||d.fileTypes.test(g.type))&&(g=c.createObjectURL(g))&&(h=this._videoElement.cloneNode(!1),h.src=g,h.controls=!0,a.video=h);return a},setVideo:function(a,b){a.video&&!b.disabled&&(a.files[a.index][b.name||"preview"]=a.video);return a}}})});(function(b){"function"===typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],b):b(window.jQuery)})(function(b){b.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"});b.widget("blueimp.fileupload",b.blueimp.fileupload,{options:{getNumberOfFiles:b.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",
maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(c,a){if(a.disabled)return c;var d=b.Deferred(),g=this.options,h=c.files[c.index],k;if(a.minFileSize||a.maxFileSize)k=h.size;"number"===b.type(a.maxNumberOfFiles)&&(g.getNumberOfFiles()||0)+c.files.length>a.maxNumberOfFiles?h.error=g.i18n("maxNumberOfFiles"):!a.acceptFileTypes||a.acceptFileTypes.test(h.type)||a.acceptFileTypes.test(h.name)?k>a.maxFileSize?h.error=g.i18n("maxFileSize"):"number"===b.type(k)&&
k<a.minFileSize?h.error=g.i18n("minFileSize"):delete h.error:h.error=g.i18n("acceptFileTypes");h.error||c.files.error?(c.files.error=!0,d.rejectWith(this,[c])):d.resolveWith(this,[c]);return d.promise()}}})});(function(b){"function"===typeof define&&define.amd?define("jquery tmpl ./jquery.fileupload-image ./jquery.fileupload-audio ./jquery.fileupload-video ./jquery.fileupload-validate".split(" "),b):b(window.jQuery,window.tmpl)})(function(b,c){b.blueimp.fileupload.prototype._specialOptions.push("filesContainer","uploadTemplateId","downloadTemplateId");b.widget("blueimp.fileupload",b.blueimp.fileupload,{options:{autoUpload:!1,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",filesContainer:void 0,
prependFiles:!1,dataType:"json",getNumberOfFiles:function(){return this.filesContainer.children().not(".processing").length},getFilesFromResponse:function(a){return a.result&&b.isArray(a.result.result)?a.result.result:[]},add:function(a,c){if(a.isDefaultPrevented())return!1;var g=b(this),h=g.data("blueimp-fileupload")||g.data("fileupload"),k=h.options;c.context=h._renderUpload(c.files).data("data",c).addClass("processing");k.filesContainer[k.prependFiles?"prepend":"append"](c.context);h._forceReflow(c.context);
h._transition(c.context);c.process(function(){return g.fileupload("process",c)}).always(function(){c.context.each(function(a){b(this).find(".size").text(h._formatFileSize(c.files[a].size))}).removeClass("processing");h._renderPreviews(c)}).done(function(){c.context.find(".start").prop("disabled",!1);!1!==h._trigger("added",a,c)&&(k.autoUpload||c.autoUpload)&&!1!==c.autoUpload&&c.submit()}).fail(function(){c.files.error&&c.context.each(function(a){(a=c.files[a].error)&&b(this).find(".error").text(a)})})},
send:function(a,c){if(a.isDefaultPrevented())return!1;var g=b(this).data("blueimp-fileupload")||b(this).data("fileupload");c.context&&c.dataType&&"iframe"===c.dataType.substr(0,6)&&c.context.find(".progress").addClass(!b.support.transition&&"progress-animated").attr("aria-valuenow",100).children().first().css("width","100%");return g._trigger("sent",a,c)},done:function(a,c){if(a.isDefaultPrevented())return!1;var g=b(this).data("blueimp-fileupload")||b(this).data("fileupload"),h=(c.getFilesFromResponse||
g.options.getFilesFromResponse)(c),k,l;c.context?c.context.each(function(m){var p=h[m]||{error:"Empty file upload result"};l=g._addFinishedDeferreds();g._transition(b(this)).done(function(){var h=b(this);k=g._renderDownload([p]).replaceAll(h);g._forceReflow(k);g._transition(k).done(function(){c.context=b(this);g._trigger("completed",a,c);g._trigger("finished",a,c);l.resolve()})})}):(k=g._renderDownload(h)[g.options.prependFiles?"prependTo":"appendTo"](g.options.filesContainer),g._forceReflow(k),l=
g._addFinishedDeferreds(),g._transition(k).done(function(){c.context=b(this);g._trigger("completed",a,c);g._trigger("finished",a,c);l.resolve()}))},fail:function(a,c){if(a.isDefaultPrevented())return!1;var g=b(this).data("blueimp-fileupload")||b(this).data("fileupload"),h,k;c.context?c.context.each(function(l){if("abort"!==c.errorThrown){var m=c.files[l];m.error=m.error||c.errorThrown||!0;k=g._addFinishedDeferreds();g._transition(b(this)).done(function(){var l=b(this);h=g._renderDownload([m]).replaceAll(l);
g._forceReflow(h);g._transition(h).done(function(){c.context=b(this);g._trigger("failed",a,c);g._trigger("finished",a,c);k.resolve()})})}else k=g._addFinishedDeferreds(),g._transition(b(this)).done(function(){b(this).remove();g._trigger("failed",a,c);g._trigger("finished",a,c);k.resolve()})}):"abort"!==c.errorThrown?(c.context=g._renderUpload(c.files)[g.options.prependFiles?"prependTo":"appendTo"](g.options.filesContainer).data("data",c),g._forceReflow(c.context),k=g._addFinishedDeferreds(),g._transition(c.context).done(function(){c.context=
b(this);g._trigger("failed",a,c);g._trigger("finished",a,c);k.resolve()})):(g._trigger("failed",a,c),g._trigger("finished",a,c),g._addFinishedDeferreds().resolve())},progress:function(a,c){if(a.isDefaultPrevented())return!1;var g=Math.floor(c.loaded/c.total*100);c.context&&c.context.each(function(){b(this).find(".progress").attr("aria-valuenow",g).children().first().css("width",g+"%")})},progressall:function(a,c){if(a.isDefaultPrevented())return!1;var g=b(this),h=Math.floor(c.loaded/c.total*100),
k=g.find(".fileupload-progress"),l=k.find(".progress-extended");l.length&&l.html((g.data("blueimp-fileupload")||g.data("fileupload"))._renderExtendedProgress(c));k.find(".progress").attr("aria-valuenow",h).children().first().css("width",h+"%")},start:function(a){if(a.isDefaultPrevented())return!1;var c=b(this).data("blueimp-fileupload")||b(this).data("fileupload");c._resetFinishedDeferreds();c._transition(b(this).find(".fileupload-progress")).done(function(){c._trigger("started",a)})},stop:function(a){if(a.isDefaultPrevented())return!1;
var c=b(this).data("blueimp-fileupload")||b(this).data("fileupload"),g=c._addFinishedDeferreds();b.when.apply(b,c._getFinishedDeferreds()).done(function(){c._trigger("stopped",a)});c._transition(b(this).find(".fileupload-progress")).done(function(){b(this).find(".progress").attr("aria-valuenow","0").children().first().css("width","0%");b(this).find(".progress-extended").html("&nbsp;");g.resolve()})},processstart:function(a){if(a.isDefaultPrevented())return!1;b(this).addClass("fileupload-processing")},
processstop:function(a){if(a.isDefaultPrevented())return!1;b(this).removeClass("fileupload-processing")},destroy:function(a,c){if(a.isDefaultPrevented())return!1;var g=b(this).data("blueimp-fileupload")||b(this).data("fileupload"),h=function(){g._transition(c.context).done(function(){b(this).remove();g._trigger("destroyed",a,c)})};c.url?(c.dataType=c.dataType||g.options.dataType,b.ajax(c).done(h).fail(function(){g._trigger("destroyfailed",a,c)})):h()}},_resetFinishedDeferreds:function(){this._finishedUploads=
[]},_addFinishedDeferreds:function(a){a||(a=b.Deferred());this._finishedUploads.push(a);return a},_getFinishedDeferreds:function(){return this._finishedUploads},_enableDragToDesktop:function(){var a=b(this),c=a.prop("href"),g=a.prop("download");a.bind("dragstart",function(a){try{a.originalEvent.dataTransfer.setData("DownloadURL",["application/octet-stream",g,c].join(":"))}catch(b){}})},_formatFileSize:function(a){return"number"!==typeof a?"":1E9<=a?(a/1E9).toFixed(2)+" GB":1E6<=a?(a/1E6).toFixed(2)+
" MB":(a/1E3).toFixed(2)+" KB"},_formatBitrate:function(a){return"number"!==typeof a?"":1E9<=a?(a/1E9).toFixed(2)+" Gbit/s":1E6<=a?(a/1E6).toFixed(2)+" Mbit/s":1E3<=a?(a/1E3).toFixed(2)+" kbit/s":a.toFixed(2)+" bit/s"},_formatTime:function(a){var b=new Date(1E3*a);a=Math.floor(a/86400);return(a?a+"d ":"")+("0"+b.getUTCHours()).slice(-2)+":"+("0"+b.getUTCMinutes()).slice(-2)+":"+("0"+b.getUTCSeconds()).slice(-2)},_formatPercentage:function(a){return(100*a).toFixed(2)+" %"},_renderExtendedProgress:function(a){return this._formatBitrate(a.bitrate)+
" | "+this._formatTime(8*(a.total-a.loaded)/a.bitrate)+" | "+this._formatPercentage(a.loaded/a.total)+" | "+this._formatFileSize(a.loaded)+" / "+this._formatFileSize(a.total)},_renderTemplate:function(a,c){if(!a)return b();var g=a({files:c,formatFileSize:this._formatFileSize,options:this.options});return g instanceof b?g:b(this.options.templatesContainer).html(g).children()},_renderPreviews:function(a){a.context.find(".preview").each(function(c,g){b(g).append(a.files[c].preview)})},_renderUpload:function(a){return this._renderTemplate(this.options.uploadTemplate,
a)},_renderDownload:function(a){return this._renderTemplate(this.options.downloadTemplate,a).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(a){a.preventDefault();a=b(a.currentTarget);var c=a.closest(".template-upload").data("data");a.prop("disabled",!0);c&&c.submit&&c.submit()},_cancelHandler:function(a){a.preventDefault();var c=b(a.currentTarget).closest(".template-upload,.template-download"),g=c.data("data")||{};g.context=g.context||c;g.abort?g.abort():(g.errorThrown=
"abort",this._trigger("fail",a,g))},_deleteHandler:function(a){a.preventDefault();var c=b(a.currentTarget);this._trigger("destroy",a,b.extend({context:c.closest(".template-download"),type:"DELETE"},c.data()))},_forceReflow:function(a){return b.support.transition&&a.length&&a[0].offsetWidth},_transition:function(a){var c=b.Deferred();b.support.transition&&a.hasClass("fade")&&a.is(":visible")?a.bind(b.support.transition.end,function(g){g.target===a[0]&&(a.unbind(b.support.transition.end),c.resolveWith(a))}).toggleClass("in"):
(a.toggleClass("in"),c.resolveWith(a));return c},_initButtonBarEventHandlers:function(){var a=this.element.find(".fileupload-buttonbar"),c=this.options.filesContainer;this._on(a.find(".start"),{click:function(a){a.preventDefault();c.find(".start").click()}});this._on(a.find(".cancel"),{click:function(a){a.preventDefault();c.find(".cancel").click()}});this._on(a.find(".delete"),{click:function(b){b.preventDefault();c.find(".toggle:checked").closest(".template-download").find(".delete").click();a.find(".toggle").prop("checked",
!1)}});this._on(a.find(".toggle"),{change:function(a){c.find(".toggle").prop("checked",b(a.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar").find(".start, .cancel, .delete"),"click");this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super();this._on(this.options.filesContainer,{"click .start":this._startHandler,"click .cancel":this._cancelHandler,"click .delete":this._deleteHandler});
this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers();this._off(this.options.filesContainer,"click");this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var a=this.options;a.templatesContainer=this.document[0].createElement(a.filesContainer.prop("nodeName"));
c&&(a.uploadTemplateId&&(a.uploadTemplate=c(a.uploadTemplateId)),a.downloadTemplateId&&(a.downloadTemplate=c(a.downloadTemplateId)))},_initFilesContainer:function(){var a=this.options;void 0===a.filesContainer?a.filesContainer=this.element.find(".files"):a.filesContainer instanceof b||(a.filesContainer=b(a.filesContainer))},_initSpecialOptions:function(){this._super();this._initFilesContainer();this._initTemplates()},_create:function(){this._super();this._resetFinishedDeferreds();b.support.fileInput||
this._disableFileInputButton()},enable:function(){var a=!1;this.options.disabled&&(a=!0);this._super();a&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton());this._super()}})});(function(b){"function"===typeof define&&define.amd?define(["jquery","./jquery.fileupload-ui"],b):b(window.jQuery)})(function(b){b.widget("blueimp.fileupload",b.blueimp.fileupload,{options:{processdone:function(b,a){a.context.find(".start").button("enable")},progress:function(b,a){a.context&&a.context.find(".progress").progressbar("option","value",parseInt(a.loaded/a.total*100,10))},progressall:function(c,a){b(this).find(".fileupload-progress").find(".progress").progressbar("option","value",parseInt(a.loaded/
a.total*100,10)).end().find(".progress-extended").each(function(){})}},_renderUpload:function(c,a){var d=this._super(c,a),g=480<b(window).width();d.find(".progress").empty().progressbar();d.find(".start").button({icons:{primary:"ui-icon-circle-arrow-e"},text:g});d.find(".cancel").button({icons:{primary:"ui-icon-cancel"},text:g});d.hasClass("fade")&&d.hide();return d},_renderDownload:function(c,a){var d=this._super(c,a),g=480<b(window).width();d.find(".delete").button({icons:{primary:"ui-icon-trash"},
text:g});d.hasClass("fade")&&d.hide();return d},_startHandler:function(c){b(c.currentTarget).button("disable");this._super(c)},_transition:function(c){var a=b.Deferred();c.hasClass("fade")?c.fadeToggle(this.options.transitionDuration,this.options.transitionEasing,function(){a.resolveWith(c)}):a.resolveWith(c);return a},_create:function(){this._super();this.element.find(".fileupload-buttonbar").find(".fileinput-button").each(function(){var c=b(this).find("input:file").detach();b(this).button({icons:{primary:"ui-icon-plusthick"}}).append(c)}).end().find(".start").button({icons:{primary:"ui-icon-circle-arrow-e"}}).end().find(".cancel").button({icons:{primary:"ui-icon-cancel"}}).end().find(".delete").button({icons:{primary:"ui-icon-trash"}}).end().find(".progress").progressbar()},
_destroy:function(){this.element.find(".fileupload-buttonbar").find(".fileinput-button").each(function(){var c=b(this).find("input:file").detach();b(this).button("destroy").append(c)}).end().find(".start").button("destroy").end().find(".cancel").button("destroy").end().find(".delete").button("destroy").end().find(".progress").progressbar("destroy");this._super()}})});OpenLayers.Control.DynamicMeasure=OpenLayers.Class(OpenLayers.Control.Measure,{accuracy:5,persist:!0,styles:null,positions:null,maxSegments:1,maxHeadings:1,layerSegmentsOptions:void 0,layerHeadingOptions:null,layerLengthOptions:void 0,layerAreaOptions:void 0,drawingLayer:null,multi:!1,layerSegments:null,layerLength:null,layerArea:null,dynamicObj:null,isArea:null,initialize:function(b,c){c=c||{};c.handlerOptions=OpenLayers.Util.extend({persist:!c.drawingLayer},c.handlerOptions);!c.drawingLayer||"multi"in
c.handlerOptions||(c.handlerOptions.multi=c.multi);if(c.drawingLayer){var a=c.drawingLayer.styleMap&&c.drawingLayer.styleMap.styles.temporary;a&&(c.handlerOptions.layerOptions=OpenLayers.Util.applyDefaults(c.handlerOptions.layerOptions,{styleMap:new OpenLayers.StyleMap({"default":a})}))}a=c.styles||{};c.styles=a;var d=OpenLayers.Control.DynamicMeasure.styles;c.handlerOptions.layerOptions&&c.handlerOptions.layerOptions.styleMap||(a=new OpenLayers.Style(null,{rules:[new OpenLayers.Rule({symbolizer:{Point:OpenLayers.Util.applyDefaults(a.Point,
d.Point),Line:OpenLayers.Util.applyDefaults(a.Line,d.Line),Polygon:OpenLayers.Util.applyDefaults(a.Polygon,d.Polygon)}})]}),c.handlerOptions=c.handlerOptions||{},c.handlerOptions.layerOptions=c.handlerOptions.layerOptions||{},c.handlerOptions.layerOptions.styleMap=new OpenLayers.StyleMap({"default":a}));c.positions=OpenLayers.Util.applyDefaults(c.positions,OpenLayers.Control.DynamicMeasure.positions);c.callbacks=c.callbacks||{};c.drawingLayer&&OpenLayers.Util.applyDefaults(c.callbacks,{create:function(a,
b){this.callbackCreate(a,b);this.drawingLayer.events.triggerEvent("sketchstarted",{vertex:a,feature:b})},modify:function(a,b){this.callbackModify(a,b);this.drawingLayer.events.triggerEvent("sketchmodified",{vertex:a,feature:b})},done:function(a){this.callbackDone(a);this.drawFeature(a)}});OpenLayers.Util.applyDefaults(c.callbacks,{create:this.callbackCreate,point:this.callbackPoint,cancel:this.callbackCancel,done:this.callbackDone,modify:this.callbackModify,redo:this.callbackRedo,undo:this.callbackUndo});
var g=document.onselectstart?document.onselectstart:OpenLayers.Function.True,a=OpenLayers.Class(b,{down:function(a){document.onselectstart=OpenLayers.Function.False;return b.prototype.down.apply(this,arguments)},up:function(a){document.onselectstart=g;return b.prototype.up.apply(this,arguments)},move:function(a){this.mouseDown||(document.onselectstart=g);return b.prototype.move.apply(this,arguments)},mouseout:function(a){OpenLayers.Util.mouseLeft(a,this.map.viewPortDiv)&&this.mouseDown&&(document.onselectstart=
g);return b.prototype.mouseout.apply(this,arguments)},finalize:function(){document.onselectstart=g;b.prototype.finalize.apply(this,arguments)}},{undo:function(){var a=b.prototype.undo.call(this);a&&this.callback("undo",[this.point.geometry,this.getSketch(),!0]);return a},redo:function(){var a=b.prototype.redo.call(this);a&&this.callback("redo",[this.point.geometry,this.getSketch(),!0]);return a}});OpenLayers.Control.Measure.prototype.initialize.call(this,a,c);this.isArea=void 0!==b.prototype.polygon},
destroy:function(){this.deactivate();OpenLayers.Control.Measure.prototype.destroy.apply(this,arguments)},draw:function(){},activate:function(){var b=OpenLayers.Control.Measure.prototype.activate.apply(this,arguments);if(b){this.dynamicObj={};var c=this.styles||{},a=OpenLayers.Control.DynamicMeasure.styles,d=this,g=function(b,g){if(null===g)return null;var l=OpenLayers.Util.extend({displayInLayerSwitcher:!1,calculateInRange:OpenLayers.Function.True},g);l.styleMap||(l.styleMap=new OpenLayers.StyleMap({"default":OpenLayers.Util.applyDefaults(c[b],
a[b])}));l=new OpenLayers.Layer.Vector(d.CLASS_NAME+" "+b,l);d.map.addLayer(l);return l};this.layerSegments=g("labelSegments",this.layerSegmentsOptions);this.layerHeading=g("labelHeading",this.layerHeadingOptions);this.layerLength=g("labelLength",this.layerLengthOptions);this.isArea&&(this.layerArea=g("labelArea",this.layerAreaOptions))}return b},deactivate:function(){var b=OpenLayers.Control.Measure.prototype.deactivate.apply(this,arguments);b&&(this.layerSegments&&this.layerSegments.destroy(),this.layerLength&&
this.layerLength.destroy(),this.layerHeading&&this.layerHeading.destroy(),this.layerArea&&this.layerArea.destroy(),this.layerArea=this.layerHeading=this.layerLength=this.layerSegments=this.dynamicObj=null);return b},setImmediate:function(b){this.immediate=b},callbackCreate:function(){var b=this.dynamicObj;b.drawing=!1;b.freehand=!1;b.fromIndex=0;b.countSegments=0},callbackCancel:function(){this.destroyLabels()},callbackDone:function(b){this.measureComplete(b);this.persist||this.destroyLabels()},drawFeature:function(b){b=
new OpenLayers.Feature.Vector(b);!1!==this.drawingLayer.events.triggerEvent("sketchcomplete",{feature:b})&&(b.state=OpenLayers.State.INSERT,this.drawingLayer.addFeatures([b]),this.featureAdded&&this.featureAdded(b),this.events.triggerEvent("featureadded",{feature:b}))},destroyLabels:function(){this.layerSegments&&this.layerSegments.destroyFeatures(null,{silent:!0});this.layerLength&&this.layerLength.destroyFeatures(null,{silent:!0});this.layerHeading&&this.layerHeading.destroyFeatures(null,{silent:!0});
this.layerArea&&this.layerArea.destroyFeatures(null,{silent:!0})},callbackPoint:function(b,c){var a=this.dynamicObj;a.drawing||this.destroyLabels();this.handler.freehandMode(this.handler.evt)?a.freehand||(a.fromIndex=this.handler.getCurrentPointIndex()-1,a.freehand=!0,a.countSegments++):(a.fromIndex=this.handler.getCurrentPointIndex()-1,a.freehand=!1,a.countSegments++);this.measurePartial(b,c);a.drawing=!0},callbackUndo:function(b,c){var a=this,d=function(b){if(b){var c=b.features,d=c.length-1,l=
c[d],m=l.attributes.from,p=a.handler.getCurrentPointIndex();m>=p&&(m=a.dynamicObj,b.destroyFeatures(l),l=c[d-1],m.fromIndex=l.attributes.from,m.countSegments=c.length)}};d(this.layerSegments);d(this.layerHeading);this.callbackModify(b,c,!0)},callbackRedo:function(b,c){var a=this.handler.line.geometry,d=this.handler.getCurrentPointIndex(),g=this.dynamicObj;this.showLabelSegment(g.countSegments,g.fromIndex,a.components.slice(g.fromIndex,d));g.fromIndex=this.handler.getCurrentPointIndex()-1;g.countSegments++;
this.callbackModify(b,c,!0)},callbackModify:function(b,c,a){this.immediate&&this.measureImmediate(b,c,a);var d=this.dynamicObj;if(!1!==d.drawing){var g=this.handler.line.geometry;a=this.handler.getCurrentPointIndex();!this.handler.freehandMode(this.handler.evt)&&d.freehand&&(d.fromIndex=a-1,d.freehand=!1,d.countSegments++);var h=[g.getGeodesicLength(this.map.projection),"m"];1E3<h[0]&&(h[0]/=1E3,h[1]="km");if(h[0]){var k=this.positions,l={center:function(){var a=c.geometry.getBounds().clone();a.extend(b);
a=a.getCenterLonLat();return[a.lon,a.lat]},initial:function(){var a=g.components[0];return[a.x,a.y]},start:function(){var a=g.components[d.fromIndex];return[a.x,a.y]},middle:function(){var a=g.components[d.fromIndex];return[(a.x+b.x)/2,(a.y+b.y)/2]},end:function(){return[b.x,b.y]}};this.layerLength&&this.showLabel(this.layerLength,1,0,h,l[k.labelLength](),1);this.isArea&&(this.layerArea&&(h=[c.geometry.getGeodesicArea(this.map.projection),"m"],1E3<h[0]&&(h[0]/=1E3,h[1]="km"),this.showLabel(this.layerArea,
1,0,h,l[k.labelArea](),1)),this.showLabelSegment(1,0,[g.components[0],g.components[a]])&&d.countSegments++);this.showLabelSegment(d.countSegments,d.fromIndex,g.components.slice(d.fromIndex,a+1))}}},showLabelSegment:function(b,c,a){var d=this.layerSegments,g=this.layerHeading;if(!d&&!g)return!1;for(var h=[],k=a.length,l=0;l<k;l++)h.push(a[l].clone());a=[(new OpenLayers.Geometry.LineString(h)).getGeodesicLength(this.map.projection),"m"];1E3<a[0]&&(a[0]/=1E3,a[1]="km");var m=h[0],p=h[k-1],h=this.positions,
k={start:function(){return[m.x,m.y]},middle:function(){return[(m.x+p.x)/2,(m.y+p.y)/2]},end:function(){return[p.x,p.y]}},l=!1;d&&(l=this.showLabel(d,b,c,a,k[h.labelSegments](),this.maxSegments));g&&0<a[0]&&(d=90-180*Math.atan2(p.y-m.y,p.x-m.x)/Math.PI,0>d&&(d+=360),l=l||this.showLabel(g,b,c,[d,"\u00b0"],k[h.labelHeading](),this.maxHeadings));return l},showLabel:function(b,c,a,d,g,h){var k;k=b.features;if(k.length<c){if(0===d[0])return!1;c=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(g[0],
g[1]),{from:a});this.setMesureAttributes(c.attributes,d);b.addFeatures([c]);null!==h&&(d=k.length-h-1,0<=d&&(k=k[d],k.style={display:"none"},b.drawFeature(k)));return!0}c=k[c-1];a=c.geometry;a.x=g[0];a.y=g[1];a.clearBounds();this.setMesureAttributes(c.attributes,d);b.drawFeature(c);null!==h&&(d=k.length-h,0<=d&&(k=k[d],k.style&&(delete k.style,b.drawFeature(k))));return!1},setMesureAttributes:function(b,c){b.measure=OpenLayers.Number.format(Number(c[0].toPrecision(this.accuracy)),null);b.units=c[1]},
CLASS_NAME:"OpenLayers.Control.DynamicMeasure"});
OpenLayers.Control.DynamicMeasure.styles={Point:{pointRadius:4,graphicName:"square",fillColor:"white",fillOpacity:1,strokeWidth:1,strokeOpacity:1,strokeColor:"#333333"},Line:{strokeWidth:2,strokeOpacity:1,strokeColor:"#666666",strokeDashstyle:"dash"},Polygon:{strokeWidth:2,strokeOpacity:1,strokeColor:"#666666",strokeDashstyle:"solid",fillColor:"white",fillOpacity:0.3},labelSegments:{label:"${measure} ${units}",fontSize:"11px",fontColor:"#800517",fontFamily:"Verdana",labelOutlineColor:"#dddddd",labelAlign:"cm",
labelOutlineWidth:2},labelLength:{label:"${measure} ${units}\n",fontSize:"11px",fontWeight:"bold",fontColor:"#800517",fontFamily:"Verdana",labelOutlineColor:"#dddddd",labelAlign:"lb",labelOutlineWidth:3},labelArea:{label:"${measure}\n${units}\u00b2\n",fontSize:"11px",fontWeight:"bold",fontColor:"#800517",fontFamily:"Verdana",labelOutlineColor:"#dddddd",labelAlign:"cm",labelOutlineWidth:3},labelHeading:{label:"${measure} ${units}",fontSize:"11px",fontColor:"#800517",fontFamily:"Verdana",labelOutlineColor:"#dddddd",
labelAlign:"cm",labelOutlineWidth:3}};OpenLayers.Control.DynamicMeasure.positions={labelSegments:"middle",labelLength:"end",labelArea:"center",labelHeading:"start"};
