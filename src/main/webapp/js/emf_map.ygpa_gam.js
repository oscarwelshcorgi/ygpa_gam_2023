OpenLayers.ProxyHost="/gam/proxy.do?url=";function removeWindow(a){a.remove()}window.removeWindow=removeWindow;
var DeleteFeature=new OpenLayers.Class(OpenLayers.Control,{initialize:function(a,g){OpenLayers.Control.prototype.initialize.apply(this,[g]);this.layer=a;this.handler=new OpenLayers.Handler.Feature(this,a,{click:this.clickFeature})},clickFeature:function(a){void 0==a.fid?this.layer.destroyFeatures([a]):(a.state=OpenLayers.State.DELETE,this.layer.events.triggerEvent("afterfeaturemodified",{feature:a}),a.renderIntent="select",this.layer.drawFeature(a))},setMap:function(a){this.handler.setMap(a);OpenLayers.Control.prototype.setMap.apply(this,
arguments)},CLASS_NAME:"OpenLayers.Control.DeleteFeature"}),EMD=function(a,g,f,l){return{go:function(a){for(var c in EMD.init)EMD.init[c]();EMD.context_root=a;OpenLayers.ProxyHost=EMD.context_root+"/proxy.do?url="},context_root:"/",window_seq:0,win_x:80,win_y:40,drag_handle:null,dragging:!1,drag_ui:null,userinfo:null,popupCaller:null,popupId:null,map:null,gyhmap:null,wfs:null,lotarea:null,panel:null,draw:null,edit:null,edit_win:null,del:null,info:null,save:null,saveStrategy:null,transaction:{type:null,
callbackWindowId:null},map_panel:null,userLayer:{landCode:null,prtFclty:null},selectControl:null,maxBounds:new OpenLayers.Bounds(-180,-90,180,90),maxRes:0.0439453125,maxZoom:19,module_instance:[],init:{frame_breaker:function(){g.location!==g.top.location&&(g.top.location=g.location)},clock:function(){var d=a("#clock");if(d.length){var c=new Date,b=c.getHours(),w=c.getMinutes(),k=c.getDate(),e=c.getFullYear(),f="AM",m,g;m="\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split("");g="1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" ");
m=m[c.getDay()];g=g[c.getMonth()];12<=b&&(f="PM");12<b?b-=12:0===b&&(b=12);10>w&&(w="0"+w);c=g+" "+k+", "+e;d.html(m+" "+b+":"+w+" "+f).attr("title",c);setTimeout(EMD.init.clock,6E4)}},desktop:function(){var d=a(f);a("#progress_dialog").dialog({autoOpen:!1,width:180,height:66,modal:!0,dialogClass:"progress"});d.mousedown(function(c){a(c.target).is("a.menu_trigger")||a(c.target).is("a")||a(c.target).is("button")||a(c.target).is("input")||a(c.target).is("select")||a(c.target).is("textarea")||a(c.target).is("tr")||
(EMD.util.clear_active(),c.preventDefault(),c.stopPropagation())});d.on("contextmenu",function(){return!1});d.on("click","a",function(c){var b=a(this).attr("href");this.blur();switch(a(this).data("role")){case "LoadModule":EMD.util.create_window(a(this).text(),a(this).data("url"));break;case "CloseAllWindow":a("#desktop").find(".window").each(function(){EMD.closeWindow(a(this))});break;case "MinimizeAllWindow":a("div.window:visible").length&&a("div.window").hide();break;case "ShowAllWindow":a("#dock li:visible a").each(function(){a(a(this).attr("href")).show()});
break;case "SortingWindow":EMD.util.window_flat(),EMD.win_x=80,EMD.win_y=40,a("#desktop").find(".window").each(function(){EMD.util.window_move(a(this).attr("id"),EMD.win_x,EMD.win_y);EMD.win_x+=30;EMD.win_y+=20})}b.match(/^#/)?(c.preventDefault(),c.stopPropagation()):a(this).attr("target","_blank")});d.on("mousedown","a.menu_trigger",function(){a(this).next("ul.menu").is(":hidden")?(EMD.util.clear_active(),a(this).addClass("active").next("ul.menu").show()):EMD.util.clear_active()});d.on("mouseenter",
"a.menu_trigger",function(){a("ul.menu").is(":visible")&&(EMD.util.clear_active(),a(this).addClass("active").next("ul.menu").show())});d.on("mousedown","a.icon",function(){EMD.util.clear_active();a(this).addClass("active")});d.on("dblclick","a.icon",function(){var c=a(this).attr("href"),b=a(c).find("a").attr("href");a(c).is(":hidden")&&(a(c).remove().appendTo("#dock"),a(c).show("fast"));EMD.util.window_flat();a(b).addClass("window_stack").show()});d.on("mouseenter","a.icon",function(){a(this).off("mouseenter").draggable({revert:!0,
containment:"parent"})});d.on("click","#dock a",function(){var c=a(a(this).attr("href"));c.is(":visible")?a("#desktop").show():(EMD.util.window_flat(),c.show().addClass("window_stack"))});d.on("mousedown","div.window",function(){EMD.util.window_flat();a(this).addClass("window_stack")});d.on("mouseenter","div.window",function(){a(this).off("mouseenter").draggable({cancel:"a",containment:"parent",handle:"div.window_top",start:function(a,b){EMD.dragging=!0;EMD.drag_handle=this},drag:function(a,b){EMD.drag_ui=
b},stop:function(a,b){EMD.dragging=!1;EMD.drag_ui=b;EMD.drag_handle=null}}).resizable({containment:"parent",minWidth:400,minHeight:200,start:function(a,b){EMD.dragging=!0;EMD.drag_handle=this},stop:function(a,b){EMD.dragging=!1;EMD.drag_ui=b;EMD.drag_handle=null}})});d.on("dblclick","div.window_top",function(){EMD.util.window_resize(this)});d.on("dblclick","div.window_top img",function(){a(a(this).closest("div.window_top").find("a.window_close").attr("href")).hide("fast");a(this).closest("div.window").hide();
return!1});d.on("click","a.window_min",function(){var c=a(this).closest("div.window").attr("href"),b=c.replace("window","dock");a("#"+c).effect("transfer",{to:"#"+b,className:".ui-effects-transfer"},500,function(){a("#"+win).hide()})});d.on("click","a.window_resize",function(){EMD.util.window_resize(this)});d.on("click","a.window_close",function(){EMD.util.window_close(a(this))});d.on("mousedown","#show_desktop",function(){a("div.window:visible").length?a("div.window").hide():a("#dock li:visible a").each(function(){a(a(this).attr("href")).show()})});
a("table.data").each(function(){a(this).find("tbody tr:odd").addClass("zebra")});d.on("mousedown","table.data tr",function(){EMD.util.clear_active();a(this).closest("tr").addClass("active")});d.on("mouseenter","#cat_menu",function(){a(this).addClass("showCategoryMenu",1E3)});d.on("mouseout","#cat_menu",function(){setTimeOut(function(){a(this).removeClass("showCategoryMenu",1E3)})})},wallpaper:function(){a("#desktop")},map_init:function(){EMD.map=new OpenLayers.Map({div:"desktop",projection:new OpenLayers.Projection("EPSG:900913"),
maxExtents:EMD.maxBounds,numZoomLevels:EMD.maxZoom,maxResolution:EMD.maxRes});var d=new OpenLayers.Layer.Google("Google Streets",{numZoomLevels:20}),c=new OpenLayers.Layer.Google("Google Satellite",{type:google.maps.MapTypeId.SATELLITE,numZoomLevels:22}),b=OpenLayers.Util.getParameters(g.location.href).renderer,b=b?[b]:OpenLayers.Layer.Vector.prototype.renderers;EMD.lotarea=new OpenLayers.Layer.Vector("\uc9c0\ubc88",{minScale:3E4,strategies:[new OpenLayers.Strategy.BBOX],protocol:new OpenLayers.Protocol.WFS({version:"1.1.0",
apikey:"474AD190-F9E9-31C6-BE7C-15EFD66E5DAD",domain:"192.168.0.40",service:"WFS",url:"http://map.vworld.kr/js/wfs.do",fearureType:"LP_PA_CBND_BUBUN",TYPENAME:"LP_PA_CBND_BUBUN",SRSNAME:"ESPG:900913",minScale:15E6,maxScale:5E6}),renderers:b});EMD.userLayer.prtFclty=new OpenLayers.Layer.Vector("Port Facility Layer",{fillColor:"#073EC9",fillOpacity:0.8,strokeColor:"#414141",strokeOpacity:1,strokeWidth:3,pointRadius:6,pointerEvents:"visiblePainted",styleMap:new OpenLayers.StyleMap({"default":{strokeColor:"#000000",
strokeOpacity:1,strokeWidth:1,fillColor:"#303294",fillOpacity:0.5,pointRadius:6,pointerEvents:"visiblePainted",label:"\uc2dc\uc124\ucf54\ub4dc: ${fcltyCd}\n\uc2dc\uc124\uba85: ${name}\n\n\uc18d\uc131: ${type}",fontColor:"${favColor}",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"${xOffset}",labelYOffset:"${yOffset}",labelOutlineColor:"white",labelOutlineWidth:3},select:{strokeColor:"#00FF00",strokeOpacity:1,strokeWidth:3,fillColor:"#303294",fillOpacity:1,
pointRadius:6,pointerEvents:"visiblePainted",label:"\uc2dc\uc124\ucf54\ub4dc: ${fcltyCd}\n\uc2dc\uc124\uba85: ${name}\n\n\uc18d\uc131: ${type}",fontColor:"${favColor}",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"${xOffset}",labelYOffset:"${yOffset}",labelOutlineColor:"white",labelOutlineWidth:3}}),renderers:OpenLayers.Layer.Vector.prototype.renderers});EMD.selectControl=new OpenLayers.Control.SelectFeature(EMD.userLayer.prtFclty,{clickout:!0,
toggle:!1,multiple:!0,hover:!1,toggleKey:"ctrlKey",multipleKey:"shiftKey"});EMD.userLayer.prtFclty.events.register("featureselected",null,function(a){a=a.feature;var b=new OpenLayers.Popup.FramedCloud("popup",OpenLayers.LonLat.fromString(a.geometry.toShortString()),null,"<div style='font-size:.8em'>ID: "+a.id+"<br>\uc2dc\uc124\ucf54\ub4dc: "+a.attributes.fcltyCd+"<br> \uc2dc\uc124\uba85 : "+a.attributes.name+"</div>",null,!0);a.popup=b;EMD.map.addPopup(b)});EMD.userLayer.prtFclty.events.register("featureunselected",
null,function(a){a=a.feature;map.removePopup(a.popup);a.popup.destroy();a.popup=null});EMD.wfs=new OpenLayers.Layer.Vector("Vector Layer");EMD.wfs.setVisibility(!0);EMD.userLayer.prtFclty.setVisibility(!0);EMD.panel=new OpenLayers.Control.Panel({displayClass:"customEditingToolbar",allowDepress:!0});EMD.lotarea.setVisibility(!0);EMD.map.addLayers([c,d,EMD.userLayer.prtFclty,EMD.wfs]);EMD.draw=new OpenLayers.Control.DrawFeature(EMD.wfs,OpenLayers.Handler.Polygon,{title:"\ucd94\uac00",displayClass:"olControlDrawFeaturePolygon",
multi:!0});EMD.edit=new OpenLayers.Control.ModifyFeature(EMD.wfs,{title:"\uc218\uc815",displayClass:"olControlModifyFeature"});EMD.del=new DeleteFeature(EMD.wfs,{title:"\uc0ad\uc81c"});EMD.save=new OpenLayers.Control.Button({title:"\uc800\uc7a5",trigger:function(){EMD.edit.feature&&EMD.edit.selectControl.unselectAll();EMD.saveStrategy.save()},displayClass:"olControlSaveFeatures"});EMD.panel.addControls([EMD.save,EMD.del,EMD.edit,EMD.draw]);EMD.map.addControl(EMD.panel);EMD.map.addControl(EMD.selectControl);
EMD.selectControl.activate();EMD.map.addControl(new OpenLayers.Control.LayerSwitcher);EMD.map.addControl(new OpenLayers.Control.MousePosition({prefix:"\uc88c\ud45c : ",separator:" | ",numDigits:6,displayProjection:new OpenLayers.Projection("EPSG:900913")}));EMD.map.addControl(new OpenLayers.Control.Scale);EMD.map.setCenter(new OpenLayers.LonLat(14213430,4147543),13);EMD.map.events.register("mousedown",EMD.map,function(b){EMD.util.clear_active();EMD.dragging&&a(EMD.drag_handle).trigger({type:b.type,
altKey:b.altKey,clientX:b.clientX,clientY:b.clientY,ctrlKey:b.ctrlKey,detail:b.detail,keyCode:b.keyCode,layerX:b.layerX,layerY:b.layerY,metaKey:b.metaKey,offsetX:b.offsetX,offsetY:b.offsetY,pageX:b.pageX,pageY:b.pageY,screenX:b.screenX,screenY:b.screenY,shiftKey:b.shiftKey,webkitMovementX:b.webkitMovementX,webkitMovementY:b.webkitMovementY,x:b.x,y:b.y,xy:b.xy})});EMD.map.events.register("mousemove",EMD.map,function(b){EMD.dragging&&a(EMD.drag_handle).trigger({type:b.type,altKey:b.altKey,clientX:b.clientX,
clientY:b.clientY,ctrlKey:b.ctrlKey,detail:b.detail,keyCode:b.keyCode,layerX:b.layerX,layerY:b.layerY,metaKey:b.metaKey,offsetX:b.offsetX,offsetY:b.offsetY,pageX:b.pageX,pageY:b.pageY,screenX:b.screenX,screenY:b.screenY,shiftKey:b.shiftKey,webkitMovementX:b.webkitMovementX,webkitMovementY:b.webkitMovementY,x:b.x,y:b.y,xy:b.xy})});EMD.map.events.register("mouseup",EMD.map,function(b){EMD.util.clear_active();EMD.dragging&&a(EMD.drag_handle).trigger({type:b.type,altKey:b.altKey,clientX:b.clientX,clientY:b.clientY,
ctrlKey:b.ctrlKey,detail:b.detail,keyCode:b.keyCode,layerX:b.layerX,layerY:b.layerY,metaKey:b.metaKey,offsetX:b.offsetX,offsetY:b.offsetY,pageX:b.pageX,pageY:b.pageY,screenX:b.screenX,screenY:b.screenY,shiftKey:b.shiftKey,webkitMovementX:b.webkitMovementX,webkitMovementY:b.webkitMovementY,x:b.x,y:b.y,xy:b.xy})})},ui_init:function(){a("#sideMenu").sidr("open","sidr-main")}},closeWindow:function(d){var c="#"+d.attr("id").replace("window","dock");a("#"+d.attr("id")).hide("explode",{},800,function(){a(this).remove()});
a(c).hide("fast");a(c).remove()},gis:{getLotAreaFeature:function(a){features=(new OpenLayers.Format.GML).read(a.responseText)}},util:{addCommas:function(a){x=(a+"").split(".");x1=x[0];x2=1<x.length?"."+x[1]:"";for(a=/(\d+)(\d{3})/;a.test(x1);)x1=x1.replace(a,"$1,$2");return x1+x2},isDate:function(a){if(""==a)return!1;a=a.match(/^(\d{1,4})-(\d{1,2})-(\d{2})$/);if(null==a)return!1;dtYear=a[1];dtMonth=a[2];dtDay=a[3];return 1>dtMonth||12<dtMonth||1>dtDay||31<dtDay||(4==dtMonth||6==dtMonth||9==dtMonth||
11==dtMonth)&&31==dtDay||2==dtMonth&&(a=0==dtYear%4&&(0!=dtYear%100||0==dtYear%400),29<dtDay||29==dtDay&&!a)?!1:!0},clear_active:function(){a("a.active, tr.active").removeClass("active");a("ul.menu").hide()},create_window:function(d,c,b){var g="#window_"+EMD.window_seq,k="#dock_"+EMD.window_seq;EMD.window_seq++;var e=f.createElement("li");e.id=k.substring(1);e.innerHTML='<a href="'+g+'">'+d+"</a>";a("#dock")[0].appendChild(e);k=f.createElement("div");k.id=g.substring(1);k.style.display="none";k.innerHTML=
'<div class="abs window_inner"><div class="window_top ui-widget-header"><span class="float_left">'+d+'</span> <span class="float_right"> <a href="#" class="window_min"></a><a href="#" class="window_resize"></a> <a href="#'+k.id+'" class="window_close"></a></span></div><div class="abs window_content"></div></div><div class="abs window_bottom ">\uc5ec\uc218\uad11\uc591\ud56d\ub9cc\uacf5\uc0ac \uc9c0\ub3c4\ud504\ub808\uc784\uc6cc\ud06c ver : 2014.03.08.001</div><span class="abs ui-resizable-handle ui-resizable-se"></span>';
a("#desktop")[0].appendChild(k);a(g).addClass("abs");a(g).addClass("window");c!=l&&(a("#progress_dialog").dialog("open"),a(g+" .window_content").load(c,{window_id:g.substring(1),args:b},function(b,c,d){a("#progress_dialog").dialog("close");if("error"==c)alert("\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc5d0\ub7ec\ubc88\ud638: "+d.status+" "+d.statusText);else if("_EMD_ERROR_MODULE"==module_instance.getModuleType())module_instance.loadComplete(),alert(module_instance.getMessge()),EMD.util.last_window_close();
else if(b=a("#window_id").val(),b==l)alert("\uc11c\ubc84 \uc624\ub958\ub85c \uc778\ud558\uc5ec \ud398\uc774\uc9c0\ub97c \ub85c\ub4dc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");else{c=1*b.substring(b.lastIndexOf("_")+1);a("#window_id").remove();a("#"+b)[0].module=module_instance;module_instance.setWindowId(c);EMD.module_instance[c]=module_instance;module_instance.setWindowId(b);EMD.util.modify_window(b);var k,e,g;d=EMD.win_x;k=EMD.win_y;e=EMD.module_instance[c].getWidth();g=EMD.module_instance[c].getHeight();
a(f).height()-48<k+g&&(k=a(f).height()-g-28,20>k&&(k=20));a(f).width()<d+e&&(d=0);EMD.util.window_move(b,d,k);EMD.win_x=d+30;EMD.win_y=k+30;380<EMD.win_x&&(EMD.win_x=80,EMD.win_y=40);EMD.util.window_size(b,e,g);a("#"+b).find(".fillHeight").each(function(){a(this).parent("div").on("resizeWindow",function(b){b=null;for(var c=a(this).children(),h=a(this).height(),d=0;d<c.length;d++){var k=c[d];a(k).hasClass("fillHeight")?b=k:h-=a(k).outerHeight(!0)}null!=b&&(h-=a(b).outerHeight(!0)-a(b).height(),10<
h&&(a(b).height(h),a(b).find(".emdTabPanel").each(function(){a(this).tabs("option","heightStyle","fill")})))})});a("#"+b).resizable({create:function(a,b){},resize:function(a,b){EMD.util.window_resized(b.element)}});EMD.module_instance[c].loadComplete();EMD.util.window_flat();a("#"+b).addClass("window_stack").show("drop",{},600,function(){EMD.util.window_resized(a(this))});EMD.util.clear_active()}}))},window_resized:function(a){a.find("div.window, div.emdPanel, div.emdTabPanel, div.emdTabPage").trigger("resizeWindow")},
window_flat:function(){a("div.window").removeClass("window_stack")},window_move:function(d,c,b){a("#"+d).css({left:c,top:b})},window_size:function(d,c,b){a("#"+d).css({width:c,height:b})},window_resize:function(d){d=a(d).closest("div.window");d.hasClass("window_full")?d.removeClass("window_full").css({top:d.attr("data-t"),left:d.attr("data-l"),right:d.attr("data-r"),bottom:d.attr("data-b"),width:d.attr("data-w"),height:d.attr("data-h")}):d.attr({"data-t":d.css("top"),"data-l":d.css("left"),"data-r":d.css("right"),
"data-b":d.css("bottom"),"data-w":d.css("width"),"data-h":d.css("height")}).addClass("window_full").css({top:"0",left:"0",right:"0",bottom:"0",width:"100%",height:"100%"});EMD.util.window_flat();d.addClass("window_stack");EMD.util.window_resized(d)},window_hide_all:function(){a("div.window").each(function(){a(this).effect("transfer",{to:"#dock_"+a(this).attr(id),className:".ui-effects-transfer"},500,function(){a(this).removeAttr("style").hide()})})},window_hide:function(d){var c=d.attr("href").replace("window",
"dock");a(this).effect("transfer",{to:"#"+c,className:".ui-effects-transfer"},500,function(){a("#"+d).removeAttr("style").hide()})},window_close:function(d){var c=d.attr("href").replace("window","dock");a(d.attr("href")).hide("explode",{},800,function(){a(this).remove()});a(c).hide("fast");a(c).remove()},last_window_close:function(){win=a("#window_"+(EMD.window_seq-1));var d=win.attr("href").replace("window","dock");a(win.attr("href")).hide("explode",{},1E3,function(){a(this).remove()});a(d).hide("fast");
a(d).remove()},save_feature:function(){},edit_feature:function(a,c){c==l&&null==c||EMD.wfs.addFeatures(c);EMD.edit_win=a},select:function(a){},modify_id:function(d,c){c.children().length&&c.children().each(function(){0<a(this).children().length&&EMD.util.modify_id(d,a(this));a(this).attr("id")!=l&&a(this).attr("id",d+"_"+a(this).attr("id"));a(this).attr("data-grid")!=l&&a(this).attr("data-grid",d+"_"+a(this).attr("id"))})},modify_window:function(d){var c=a("#"+d);EMD.util.modify_id(d,a("#"+d));c.data("_win_id",
d);c.resize(function(){c.find(".window_main").each(function(){a(this).css("height",c.height()-54)})});c.find(".emdTabPanel").data("_win_id",d);c.find(".emdTabPanel").each(function(){a(this).find(".emdTab").data("_win_id",a(this).data("_win_id"));a(this).find(".emdTab").each(function(){a(this).attr("href",a(this).attr("href").replace("#","#"+a(this).data("_win_id")+"_"))});a(this).tabs({activate:function(b,c){var d=a(this).data("onchange"),e=c.oldPanel.attr("id").replace(a(this).closest(".window").data("_win_id")+
"_",""),g=c.newPanel.attr("id").replace(a(this).closest(".window").data("_win_id")+"_","");a(this).closest(".window")[0].module[d](g,e)},select:function(a,c){currentTab=c.index},nextTab:function(b){currentTab=currentTab<a(this).tabs("length")-1?currentTab+1:0}})});c.find(".viewStack").each(function(){a(this).changeViewId=function(b){a(this)._viewStackId=b;a(this).find(".viewPanel").each(function(b){b!=a(this).parent(".viewStack")._viewStackId?a(this).css("display","none"):a(this).css("display","block")})};
a(this).find(".viewPanel").each(function(b){0!=b&&a(this).css("display","none")});a(this)[0].changePanelId=function(b){a(this).find(".viewPanel").each(function(c){c==b?a(this).css("display","block"):a(this).css("display","none")})}});c.find("button").each(function(){var b=null==a(this).attr("id")||a(this).attr("id").length<d.length+1?a(this).attr("class"):a(this).attr("id").substring(d.length+1);a(this).button().click({module:c[0].module,button_id:b},function(b){b.preventDefault();if("loadMap"==b.data.button_id)b.data.module.showMap(a(this).attr("data-grid"));
else b.data.module.onButtonClick(b.data.button_id)})});a("#"+d).find("input.cmmnCd").each(function(){a(this).attr("type","hidden")});a("#"+d).find("input.ygpaDeptSelect").each(function(){var b="",c="",k=this,e=a(this).attr("id");null!=a(this).data("default-prompt")&&(b=null!=a(this).data("default-prompt")?a(this).data("default-prompt"):"\uc120\ud0dd",c=null!=a(this).data("default-value")?a(this).data("default-value"):"");if(null==a(this).data("display-value")){try{a(this).attr("type","hidden")}catch(g){a(this).attr("id",
e+"_backup"),a(this).after('<input type="hidden" id="'+e+'" />'),k=a("#"+d+" #"+e)[0],a(this).remove()}a(k).after('<select id="'+e+'_select" class="frmwrkAuto"></select>')}else"N"==a(this).data("display-value")?(a(this).attr("readonly","readonly"),a(this).before('<select id="'+e+'_select" class="frmwrkAuto"></select>')):(a(this).attr("readonly","readonly"),a(this).after('<select id="'+e+'_select" class="frmwrkAuto"></select>'));""!=b&&a("#"+d).find("#"+e+"_select").append('<option value="'+c+'" selected>'+
b+"</option>");a.ajax({url:EMD.context_root+"/cmmn/selectDeptCodeOptionsList.do",type:"POST",module:k,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"cmd",value:""}],success:function(b){if(null!=b.resultCode&&0!=b.resultCode)1==b.resultCode&&(alert(b.resultMsg),location.reload());else{var c="",k="#"+a(this.module).attr("id")+"_select";if(a(this.module).data("value")!=l)for(var c=a(this.module).data("value"),e=0;e<b.resultList.length;e++)c==b.resultList[e].value?
a("#"+d).find(k).append('<option value="'+b.resultList[e].value+'" selected>'+b.resultList[e].name+"</option>"):a("#"+d).find(k).append('<option value="'+b.resultList[e].value+'">'+b.resultList[e].name+"</option>");else for(e=0;e<b.resultList.length;e++)a("#"+d).find(k).append('<option value="'+b.resultList[e].value+'">'+b.resultList[e].name+"</option>");a("#"+d).find(k).change({module:this.module},function(b){a(b.data.module).val(a(this).find("option:selected").val())})}},error:function(a,b,c){try{console.log(b)}catch(d){}}})});
a("#"+d).find("input.ygpaCmmnCd").each(function(){var b="",c="",k=this,e=a(this).attr("id");if(a(this).data("code-id")!=l){null!=a(this).data("default-prompt")&&(b=null!=a(this).data("default-prompt")?a(this).data("default-prompt"):"\uc120\ud0dd",c=null!=a(this).data("default-value")?a(this).data("default-value"):"");if(null==a(this).data("display-value")){try{a(this).attr("type","hidden")}catch(g){a(this).attr("id",e+"_backup"),a(this).after('<input type="hidden" id="'+e+'" />'),k=a("#"+d+" #"+e)[0],
a(this).remove()}a(k).after('<select id="'+e+'_select" class="frmwrkAuto"></select>')}else"N"==a(this).data("display-value")?(a(this).attr("readonly","readonly"),a(this).before('<select id="'+e+'_select" class="frmwrkAuto"></select>')):(a(this).attr("readonly","readonly"),a(this).after('<select id="'+e+'_select" class="frmwrkAuto"></select>'));""!=b&&(null==a(k).data("value")?a("#"+d).find("#"+e+"_select").append('<option value="'+c+'" selected>'+b+"</option>"):a("#"+d).find("#"+e+"_select").append('<option value="'+
c+'">'+b+"</option>"));a.ajax({url:EMD.context_root+"/cmmn/selectCmmnCdOptionsList.do",type:"POST",module:k,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"code_id",value:a(this).data("code-id")}],success:function(b){if(null!=b.resultCode&&0!=b.resultCode)1==b.resultCode&&(alert(b.resultMsg),location.reload());else{var c="",k="#"+a(this.module).attr("id")+"_select";if(null!=a(this.module).data("value"))for(var c=a(this.module).data("value"),e=0;e<b.resultList.length;e++)c==
b.resultList[e].value?a("#"+d).find(k).append('<option value="'+b.resultList[e].value+'" selected>'+b.resultList[e].name+"</option>"):a("#"+d).find(k).append('<option value="'+b.resultList[e].value+'">'+b.resultList[e].name+"</option>");else for(e=0;e<b.resultList.length;e++)a("#"+d).find(k).append('<option value="'+b.resultList[e].value+'">'+b.resultList[e].name+"</option>");a("#"+d).find(k).change({module:this.module},function(b){a(b.data.module).val(a(this).find("option:selected").val())})}},error:function(a,
b,c){console.log(b)}})}});a("#"+d).find("input.ygpaNumber, input.ygpaCurrency").each(function(){a(this).change(function(){str=a(this).number(!0,1*a(this).data("decimal-point")).val();a(this).val(str)})});a("#"+d).find(".emdcal").each(function(){a(this).datepicker({showOn:"button",buttonImage:EMD.context_root+"/images/egovframework/rte/icon_date_picker.jpg",buttonImageOnly:!0,dateFormat:"yy-mm-dd",prevText:"\uc774\uc804 \ub2ec",nextText:"\ub2e4\uc74c \ub2ec",monthNames:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),
monthNamesShort:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),dayNames:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),dayNamesShort:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),dayNamesMin:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),changeMonth:!0,changeYear:!0});a(this).keyup(function(){var b=a(this).val();0<=b.indexOf("-")?10!=b.length?a(this).val(a(this).val().replace(/-/g,"")):EMD.util.isDate(b)||alert("\ub0a0\uc9dc \ud615\uc2dd\uc774 \ubd80\uc801\ud569 \ud569\ub2c8\ub2e4."):
8==b.length&&(b=b.substr(0,4)+"-"+b.substr(4,2)+"-"+b.substr(6,2),EMD.util.isDate(b)?a(this).val(b):alert("\ub0a0\uc9dc \ud615\uc2dd\uc774 \ubd80\uc801\ud569 \ud569\ub2c8\ub2e4."))})})}}}}(jQuery,this,this.document);function EmdModule(a,g){this._selectedRow=this._window_id=this._parent=null;void 0==a||null==a||void 0==g||null==g?(this._width=720,this._height=480):(this._width=a,this._height=g);this._moduleType="_EMD_MODULE"}EmdModule.prototype.getModuleType=function(){return this._moduleType};
EmdModule.prototype.setParent=function(a){this._parent=a};EmdModule.prototype.showMap=function(a){void 0!=a&&(this._selectedRow=$("#"+a).selectedRows());EMD.transactionWindow=this._window_id;EMD.util.window_hide_all()};EmdModule.prototype.getSelect=function(a){alert("get select = "+this._window_id+" "+a)};EmdModule.prototype.showAlert=function(a){alert("alert id = "+this._window_id+" "+a)};EmdModule.prototype.setWindowId=function(a){this._window_id=a;this._window=$(a)};
EmdModule.prototype.getWindowId=function(){return this._window_id};EmdModule.prototype.getWidth=function(){return this._width};EmdModule.prototype.setWidth=function(a){this._width=a};EmdModule.prototype.getHeight=function(){return this._height};EmdModule.prototype.setHeight=function(a){this._height=a};EmdModule.prototype.buttonClick=function(a){alert("button "+a+" is clicked")};EmdModule.prototype.setSelectedRow=function(a){this._selectedRow=a};EmdModule.prototype.getSelectedRow=function(){return this._selectedRow};
EmdModule.prototype.$=function(a){return $("#"+this._window_id).find(a.replace("#","#"+this._window_id+"_"))};
EmdModule.prototype.makeFormArgs=function(a){var g=[],f=this._window_id;this.$(a).find(":input").not(".frmwrkAuto").each(function(){var a="",a=$(this).hasClass("ygpaNumber")||$(this).hasClass("ygpaCurrency")?$(this).number(!1):$(this).val();if(null!=$(this).data("column-id"))g[g.length]={name:$(this).data("column-id"),value:a};else{var d=$(this).attr("id");"string"==typeof d&&(d=d.replace(f+"_",""),g[g.length]={name:d,value:a})}});return g};
EmdModule.prototype.makeFormValues=function(a,g){var f=this._window_id;"object"==typeof g&&this.$(a).find(":input").not(".frmwrkAuto").each(function(){var a="";if(null!=$(this).data("column-id"))a=$(this).data("column-id");else if(a=$(this).attr("id"),"string"==typeof a)a=a.replace(f+"_","");else return;null!=g[a]&&($(this).hasClass("ygpaNumber")||$(this).hasClass("ygpaCurrency"),$(this).val(g[a]))})};
EmdModule.prototype.getFormValues=function(a,g){var f=this._window_id;this.$(a).find(":input").not(".frmwrkAuto").each(function(){var a="",a=$(this).hasClass("ygpaNumber")||$(this).hasClass("ygpaCurrency")?$(this).number(!1).val():$(this).val();if(null!=$(this).data("column-id"))g[$(this).data("column-id")]=a;else{var d=$(this).attr("id");"string"==typeof d&&(d=d.replace(f+"_",""),g[d]=a)}null!=$(this).data("column-label-id")&&(g[$(this).data("column-label-id")]=$("#"+$(this).attr("id")+"_select").find(":selected").text())});
return g};EmdModule.prototype.doAction=function(a,g,f){$.ajax({url:a,type:"POST",module:this,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:g}).done(function(a){null!=f&&f(this.module,a)})};
EmdModule.prototype.doExecuteDialog=function(a,g,f,l){if(0==$("#__dialog-modal").length){var d=document.createElement("div");d.style.display="none";d.innerHTML='<div id="__dialog-modal"></div>';$("#desktop")[0].appendChild(d)}EMD.popupcaller=this;EMD.popupId=a;void 0!=f&&$("#__dialog-modal").load(f,l,function(a,b,d){"error"==b?alert("\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc5d0\ub7ec\ubc88\ud638: "+d.status+" "+d.statusText):(a=popup_instance.getWidth(),b=popup_instance.getHeight(),
$("#__dialog-modal").dialog({width:a,height:b,modal:!0,closeOnEscape:!0,title:g}),popup_instance.setDialog($("#__dialog-modal")),popup_instance.setPopupCaller(EMD.popupcaller),popup_instance.setPopupId(EMD.popupId),$("#__dialog-modal").find("button").each(function(){$(this).click({module:popup_instance,button_id:$(this).attr("id")},function(a){a.preventDefault();a.data.module.onButtonClick(a.data.button_id)})}),popup_instance.loadComplete())})};
function EmdPopupModule(a,g){this._returnValue=this._popupId=this._popupCaller=null;void 0==a||null==a||void 0==g||null==g?(this._width=720,this._height=480):(this._width=a,this._height=g);this.module=null;this._moduleType="_EMD_POPUP_MODULE"}EmdPopupModule.prototype.getModuleType=function(){return this._moduleType};EmdPopupModule.prototype.setDialog=function(a){this._dialog=a};EmdPopupModule.prototype.getDialog=function(a){return this._dialog};
EmdPopupModule.prototype.setPopupCaller=function(a){this._popupCaller=a};EmdPopupModule.prototype.onClosePopup=function(a,g,f){alert("close dialog "+a)};EmdPopupModule.prototype.setPopupId=function(a){this._popupId=a};EmdPopupModule.prototype.getWidth=function(){return this._width};EmdPopupModule.prototype.setWidth=function(a){this._width=a};EmdPopupModule.prototype.getHeight=function(){return this._height};EmdPopupModule.prototype.setHeight=function(a){this._height=a};
EmdPopupModule.prototype.onButtonClick=function(a){alert("button "+a+" is clicked")};EmdPopupModule.prototype.resizable=function(a){this._dialog.dialog("option","resizable")!=a&&this._dialog.dialog("option","resizable",a)};
EmdPopupModule.prototype.makeFormArgs=function(a){var g=[];this.$(a).find(":input").each(function(){var a="",a=$(this).hasClass("ygpaNumber")||$(this).hasClass("ygpaCurrency")?$(this).number(!1):$(this).val(),l=$(this).attr("id");"string"==typeof l&&(g[g.length]={name:l,value:a})});return g};EmdPopupModule.prototype.closeDialog=function(a,g){this._dialog.dialog("destroy");this._popupCaller.onClosePopup(this._popupId,a,g)};
EmdPopupModule.prototype.cancelDialog=function(){this._dialog.dialog("destroy");this._popupCaller.onClosePopup(this._popupId,"cancel",null)};EmdPopupModule.prototype.$=function(a){return $("#__dialog-modal").find(a)};EmdPopupModule.prototype.doAction=function(a,g,f){$.ajax({url:a,type:"POST",module:this,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:g}).done(function(a){null!=f&&f(this.module,a)})};
function EmdErrorModule(){this._msg="\uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.";this._moduleType="_EMD_ERROR_MODULE"}EmdErrorModule.prototype.getModuleType=function(){return this._moduleType};EmdErrorModule.prototype.loadComplete=function(){};EmdErrorModule.prototype.setMessage=function(a){this._msg=a};EmdErrorModule.prototype.getMessage=function(){return this._msg};
(function(a){function g(a,b){if(this.createTextRange){var c=this.createTextRange();c.collapse(!0);c.moveStart("character",a);c.moveEnd("character",b-a);c.select()}else this.setSelectionRange&&(this.focus(),this.setSelectionRange(a,b))}function f(a){var b=this.value.length;a="start"==a.toLowerCase()?"Start":"End";if(document.selection){var b=document.selection.createRange(),c;c=b.duplicate();c.expand("textedit");c.setEndPoint("EndToEnd",b);c=c.text.length-b.text.length;b=c+b.text.length;return"Start"==
a?c:b}"undefined"!=typeof this["selection"+a]&&(b=this["selection"+a]);return b}var l={188:44,109:45,190:46,191:47,192:96,220:92,222:39,221:93,219:91,173:45,187:61,186:59,189:45,110:46},d={96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"};a.fn.number=function(b,c,e,u){u="undefined"===typeof u?",":u;e="undefined"===typeof e?".":e;c="undefined"===typeof c?0:c;var m="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),
v=RegExp("[^"+m+"0-9]","g"),s=RegExp(m,"g");return!0===b?this.is("input:text")?this.on({"keydown.format":function(b){var m=a(this),n=m.data("numFormat"),p=b.keyCode?b.keyCode:b.which,h="",q=f.apply(this,["start"]),y=f.apply(this,["end"]),r="",r=!1;l.hasOwnProperty(p)&&(p=l[p]);!b.shiftKey&&65<=p&&90>=p?p+=32:!b.shiftKey&&69<=p&&105>=p?p-=48:b.shiftKey&&d.hasOwnProperty(p)&&(h=d[p]);""==h&&(h=String.fromCharCode(p));if(8!==p&&h!=e&&!h.match(/[0-9]/)){var A=!0;h.match(/[-]/)&&!n.isNegative&&(n.isNegative=
!0,A=!1);if(A){m=b.keyCode?b.keyCode:b.which;if(46==m||8==m||9==m||27==m||13==m||(65==m||82==m)&&!0===(b.ctrlKey||b.metaKey)||(86==m||67==m)&&!0===(b.ctrlKey||b.metaKey)||35<=m&&39>=m)return;b.preventDefault();return!1}}0==q&&y==this.value.length||0==m.val()?8===p?(q=y=1,this.value="",n.init=0<c?-1:0,n.c=0<c?-(c+1):0,g.apply(this,[0,0])):h===e?(q=y=1,this.value="0"+e+Array(c+1).join("0"),n.init=0<c?1:0,n.c=0<c?-(c+1):0):0===this.value.length&&(n.init=0<c?-1:0,n.c=0<c?-c:0):n.c=y-this.value.length;
if(8==p&&1>=q&&n.isNegative)b.preventDefault(),n.isNegative=!1,n.c--,r=this.value.length+n.c;else if(0<c&&h==e&&q==this.value.length-c-1)n.c++,n.init=Math.max(0,n.init),b.preventDefault(),r=this.value.length+n.c;else if(h==e)n.init=Math.max(0,n.init),b.preventDefault();else if(0<c&&8==p&&q==this.value.length-c)b.preventDefault(),n.c--,r=this.value.length+n.c;else if(0<c&&8==p&&q>this.value.length-c){if(""===this.value)return;"0"!=this.value.slice(q-1,q)&&(r=this.value.slice(0,q-1)+"0"+this.value.slice(q),
m.val(r.replace(v,"").replace(s,e)));b.preventDefault();n.c--;r=this.value.length+n.c}else 8==p&&this.value.slice(q-1,q)==u?(b.preventDefault(),n.c--,r=this.value.length+n.c):0<c&&q==y&&this.value.length>c+1&&q>this.value.length-c-1&&isFinite(+h)&&!b.metaKey&&!b.ctrlKey&&!b.altKey&&1===h.length&&(this.value=r=y===this.value.length?this.value.slice(0,q-1):this.value.slice(0,q)+this.value.slice(q+1),r=q);!1!==r&&g.apply(this,[r,r]);m.data("numFormat",n)},"keyup.format":function(b){var d=a(this),e=d.data("numFormat");
b=b.keyCode?b.keyCode:b.which;var p=f.apply(this,["start"]);""===this.value||(48>b||57<b)&&(96>b||105<b)&&8!==b||(d.val(d.val()),0<c&&(1>e.init?(p=this.value.length-c-(0>e.init?1:0),e.c=p-this.value.length,e.init=1,d.data("numFormat",e)):p>this.value.length-c&&8!=b&&(e.c++,d.data("numFormat",e))),d.get(0).value.length?e.isNegative&&(d.get(0).value="-"+this.value):e.isNegative=!1,d=this.value.length+e.c,g.apply(this,[d,d]))},"paste.format":function(b){var c=a(this),d=b.originalEvent,e=null;window.clipboardData&&
window.clipboardData.getData?e=window.clipboardData.getData("Text"):d.clipboardData&&d.clipboardData.getData&&(e=d.clipboardData.getData("text/plain"));c.val(e);b.preventDefault();return!1}}).each(function(){var b=a(this).data("numFormat",{c:-(c+1),decimals:c,thousands_sep:u,dec_point:e,regex_dec_num:v,regex_dec:s,init:!1});""!==this.value&&b.val(b.val())}):this.each(function(){var b=a(this),d=b.text().match(/^-/)?-1:1,d=+b.text().replace(v,"").replace(s,".")*d;b.number(isFinite(d)?+d:0,c,e,u)}):
this.text(a.number.apply(window,arguments))};var c=null,b=null;a.isPlainObject(a.valHooks.text)?(a.isFunction(a.valHooks.text.get)&&(c=a.valHooks.text.get),a.isFunction(a.valHooks.text.set)&&(b=a.valHooks.text.set)):a.valHooks.text={};a.valHooks.text.get=function(b){var d=a(b).data("numFormat");if(d){if(""===b.value)return"";b.value.match(/^-/)&&(d.isNegative=!0);b=+b.value.replace(d.regex_dec_num,"").replace(d.regex_dec,".");b=isFinite(b)?b:0;0!=b&&d.isNegative&&(b*=-1);return""+b}if(a.isFunction(c))return c(b)};
a.valHooks.text.set=function(c,d){var e=a(c).data("numFormat");if(e)return""===d?c.value="":c.value=a.number(d,e.decimals,e.dec_point,e.thousands_sep);if(a.isFunction(b))return b(c,d)};a.number=function(a,b,c,d){d="undefined"===typeof d?",":d;c="undefined"===typeof c?".":c;b=isFinite(+b)?Math.abs(b):0;var g="\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4),f="\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4);a=(a+"").replace(".",c).replace(RegExp(f,"g"),"").replace(RegExp(g,"g"),".").replace(/[^0-9+-Ee.]/g,
"");a=isFinite(+a)?+a:0;g="";g=function(a,b){var c=Math.pow(10,b);return""+Math.round(a*c)/c};g=(b?g(a,b):""+Math.round(a)).split(".");3<g[0].length&&(g[0]=g[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,d));(g[1]||"").length<b&&(g[1]=g[1]||"",g[1]+=Array(b-g[1].length+1).join("0"));return g.join(c)}})(jQuery);
Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var g=Object(this),f=g.length>>>0;if(0===f)return-1;var l=0;1<arguments.length&&(l=Number(arguments[1]),l!=l?l=0:0!=l&&Infinity!=l&&-Infinity!=l&&(l=(0<l||-1)*Math.floor(Math.abs(l))));if(l>=f)return-1;for(l=0<=l?l:Math.max(f-Math.abs(l),0);l<f;l++)if(l in g&&g[l]===a)return l;return-1});(function(a){var g=a.browser;if(!g){var f=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}}(navigator.userAgent),g={};f.browser&&(g[f.browser]=!0,g.version=f.version);g.chrome?g.webkit=!0:g.webkit&&(g.safari=!0)}"function"!=typeof a.support.selectstart&&(a.support.selectstart=
"onselectstart"in document.createElement("div"));"function"!=typeof a.fn.disableSelection&&(a.fn.disableSelection=function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})});a.addFlex=function(d,c){if(d.grid)return!1;c=a.extend({module:null,height:"auto",width:"auto",striped:!0,novstripe:!1,minwidth:30,minheight:80,resizable:!1,nohresize:!1,url:!1,method:"POST",dataType:"json",errormsg:"\uc11c\ubc84\uc5d0 \uc5f0\uacb0 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",
usepager:!1,nowrap:!0,pageIndex:1,totalCount:1,useRp:!1,rp:15,rpOptions:[10,15,20,30,50],title:!1,idProperty:"id",pagestat:"{totalCount} \uc911 {from} \ubd80\ud130 {to} \uae4c\uc9c0 \ud45c\uc2dc \ub428",pagetext:"\ud398\uc774\uc9c0",outof:"of",findtext:"\ucc3e\uae30",params:[],procmsg:"\uc11c\ubc84\uc758 \uc751\ub2f5\uc744 \uae30\ub2e4\ub9ac\ub294 \uc911\uc785\ub2c8\ub2e4...",query:"",qtype:"",nomsg:"\uc870\ud68c\ub41c \ud56d\ubaa9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.",minColToggle:1,showToggleBtn:!0,
singleSelect:!0,hideOnSubmit:!0,autoload:!1,blockOpacity:0.5,preProcess:!1,addTitleToCell:!1,dblClickResize:!1,onDragCol:!1,onToggleCol:!1,onChangeSort:!1,onDoubleClick:!1,onSuccess:!1,onError:!1,onSubmit:!1,__mw:{datacol:function(a,b,c){b="function"==typeof a.datacol[b]?a.datacol[b](c):c;return"function"==typeof a.datacol["*"]?a.datacol["*"](b):b}},getGridClass:function(a){return a},datacol:{},colResize:!0,colMove:!0},c);a(d).show().attr({cellPadding:0,cellSpacing:0,border:0}).removeAttr("width");
var b={scrollbar:null,handleHelper:null,hset:{},rePosDrag:function(){var h=0-this.hDiv.scrollLeft;0<this.hDiv.scrollLeft&&(h-=Math.floor(c.cgwidth/2));a(b.cDrag).css({top:b.hDiv.offsetTop+1});var d=this.cdpad,e=0;a("div",b.cDrag).hide();a("thead tr:first th:visible",this.hDiv).each(function(){var r=a("thead tr:first th:visible",b.hDiv).index(this),f=parseInt(a("div",this).width());0==h&&(h-=Math.floor(c.cgwidth/2));f=f+h+d;isNaN(f)&&(f=0);a("div:eq("+r+")",b.cDrag).css({left:(g.mozilla?f:f-e)+"px"}).show();
h=f;e++})},fixHeight:function(h){h=!1;h=a(b.bDiv).height();var d=a(this.hDiv).height();a("div",this.cDrag).each(function(){a(this).height(h+d)});parseInt(a(b.nDiv).height(),10)>h?a(b.nDiv).height(h).width(200):a(b.nDiv).height("auto").width("auto");a(b.block).css({height:h,marginBottom:-1*h});var e=b.bDiv.offsetTop+h;"auto"!=c.height&&c.resizable&&(e=b.vDiv.offsetTop);a(b.rDiv).css({height:e})},dragStart:function(h,d,e){if("colresize"==h&&!0===c.colResize){a(b.nDiv).hide();a(b.nBtn).hide();h=a("div",
this.cDrag).index(e);var r=a("th:visible div:eq("+h+")",this.hDiv).width();a(e).addClass("dragging").siblings().hide();a(e).prev().addClass("dragging").show();this.colresize={startX:d.pageX,ol:parseInt(e.style.left,10),ow:r,n:h};a("body").css("cursor","col-resize")}else"vresize"==h?(h=!1,a("body").css("cursor","row-resize"),e&&(h=!0,a("body").css("cursor","col-resize")),this.vresize={h:c.height,sy:d.pageY,w:c.width,sx:d.pageX,hgo:h}):"colMove"==h&&(a(d.target).disableSelection(),!0===c.colMove&&(a(b.nDiv).hide(),
a(b.nBtn).hide(),this.hset=a(this.hDiv).offset(),this.hset.right=this.hset.left+a("table",this.hDiv).width(),this.hset.bottom=this.hset.top+a("table",this.hDiv).height(),this.dcol=e,this.dcoln=a("th",this.hDiv).index(e),this.colCopy=document.createElement("div"),this.colCopy.className="colCopy",this.colCopy.innerHTML=e.innerHTML,g.msie&&(this.colCopy.className="colCopy ie"),a(this.colCopy).css({position:"absolute","float":"left",display:"none",textAlign:e.align}),a("body").append(this.colCopy),a(this.cDrag).hide()));
a("body").noSelect()},dragMove:function(b){if(this.colresize){var d=this.colresize.n,e=b.pageX-this.colresize.startX;b=this.colresize.ol+e;e=this.colresize.ow+e;e>c.minwidth&&(a("div:eq("+d+")",this.cDrag).css("left",b),this.colresize.nw=e)}else this.vresize?(d=this.vresize,e=b.pageY-d.sy,c.defwidth||(c.defwidth=c.width),"auto"!=c.width&&!c.nohresize&&d.hgo&&(b=d.w+(b.pageX-d.sx),b>c.defwidth&&(this.gDiv.style.width=b+"px",c.width=b)),e=d.h+e,(e>c.minheight||c.height<c.minheight)&&!d.hgo&&(this.bDiv.style.height=
e+"px",c.height=e,this.fixHeight(e))):this.colCopy&&(a(this.dcol).addClass("thMove").removeClass("thOver"),b.pageX>this.hset.right||b.pageX<this.hset.left||b.pageY>this.hset.bottom||b.pageY<this.hset.top?a("body").css("cursor","move"):a("body").css("cursor","pointer"),a(this.colCopy).css({top:b.pageY+10,left:b.pageX+20,display:"block"}))},dragEnd:function(){if(this.colresize){var d=this.colresize.n,e=this.colresize.nw;a("th:visible div:eq("+d+")",this.hDiv).css("width",e);a("tr",this.bDiv).each(function(){var c=
a("td:visible div:eq("+d+")",this);c.css("width",e);b.addTitleToCell(c)});this.hDiv.scrollLeft=this.bDiv.scrollLeft;a("div:eq("+d+")",this.cDrag).siblings().show();a(".dragging",this.cDrag).removeClass("dragging");this.rePosDrag();this.fixHeight();this.colresize=!1;a.cookies&&a.cookie("flexiwidths/"+c.colModel[d].name,e)}else if(this.vresize)this.vresize=!1;else if(this.colCopy){a(this.colCopy).remove();if(null!==this.dcolt&&(this.dcoln>this.dcolt?a("th:eq("+this.dcolt+")",this.hDiv).before(this.dcol):
a("th:eq("+this.dcolt+")",this.hDiv).after(this.dcol),this.switchCol(this.dcoln,this.dcolt),a(this.cdropleft).remove(),a(this.cdropright).remove(),this.rePosDrag(),c.onDragCol))c.onDragCol(this.dcoln,this.dcolt);this.colCopy=this.dcolt=this.dcoln=this.hset=this.dcol=null;a(".thMove",this.hDiv).removeClass("thMove");a(this.cDrag).show()}a("body").css("cursor","default");a("body").noSelect(!1)},toggleCol:function(h,e){var g=a("th[axis='col"+h+"']",this.hDiv)[0],r=a("thead th",b.hDiv).index(g),f=a("input[value="+
h+"]",b.nDiv)[0];null==e&&(e=g.hidden);if(a("input:checked",b.nDiv).length<c.minColToggle&&!e)return!1;e?(g.hidden=!1,a(g).show(),f.checked=!0):(g.hidden=!0,a(g).hide(),f.checked=!1);a("tbody tr",d).each(function(){e?a("td:eq("+r+")",this).show():a("td:eq("+r+")",this).hide()});this.rePosDrag();if(c.onToggleCol)c.onToggleCol(h,e);return e},switchCol:function(b,c){a("tbody tr",d).each(function(){b>c?a("td:eq("+c+")",this).before(a("td:eq("+b+")",this)):a("td:eq("+c+")",this).after(a("td:eq("+b+")",
this))});b>c?a("tr:eq("+c+")",this.nDiv).before(a("tr:eq("+b+")",this.nDiv)):a("tr:eq("+c+")",this.nDiv).after(a("tr:eq("+b+")",this.nDiv));g.msie&&7>g.version&&(a("tr:eq("+c+") input",this.nDiv)[0].checked=!0);this.hDiv.scrollLeft=this.bDiv.scrollLeft},scroll:function(){this.hDiv.scrollLeft=this.bDiv.scrollLeft;this.rePosDrag()},addData:function(h){c.preProcess&&(h=c.preProcess(c.module,h));a(".pReload",this.pDiv).removeClass("loading");this.loading=!1;if(!h){a(".pPageStat",this.pDiv).html(c.errormsg);
if(c.onSuccess)c.onSuccess(this);return!1}c.totalCount="xml"==c.dataType?+a("rows total",h).text():h.totalCount;if(0===c.totalCount){a("tr, a, td, div",d).unbind();a(d).empty();c.pages=1;c.pageIndex=1;this.buildpager();a(".pPageStat",this.pDiv).html(c.nomsg);if(c.onSuccess)c.onSuccess(this);return!1}c.pages=Math.ceil(c.totalCount/c.rp);"xml"==c.dataType&&(c.pageIndex=+a("rows page",h).text());this.buildpager();var e=document.createElement("tbody");if("json"==c.dataType)a.each(h.resultList,function(d,
h){var g=document.createElement("tr"),f=a(g);h.name&&(g.name=h.name);h.color?f.css("background",h.color):d%2&&c.striped&&(g.className="erow");h[c.idProperty]&&(g.id="row"+h[c.idProperty],f.attr("data-id",h[c.idProperty]));a("thead tr:first th",b.hDiv).each(function(){var b=document.createElement("td"),e=a(this).attr("axis").substr(3);b.align=this.align;if("undefined"==typeof h.cell){var f=h[c.colModel[e].name];if(void 0!=c.colModel[e].displayFormat)switch(c.colModel[e].displayFormat){case "number":f=
EMD.util.addCommas(f);break;case "select":for(var f='<SELECT name="'+c.colModel[e].name+"_"+d+'">',q=0;q<c.colModel[e].displayOption.length;q++)f=f+'<OPTION value="'+c.colModel[e].displayOption[q].value+'"'+(c.colModel[e].displayOption[q].value==h[c.colModel[e].name]?"selected":"")+">"+c.colModel[e].displayOption[q].name+"</OPTION>";f+="</SELECT>";break;case "button":null==c.colModel[e].displayOption?f='<BUTTON name="'+c.colModel[e].name+"_"+d+'"></BUTTON>':(f='<BUTTON name="'+c.colModel[e].name+
"_"+d+'"',void 0!=c.colModel[e].displayOption.className&&(f=f+' class="'+c.colModel[e].displayOption.className+'"'),f+=">",void 0!=c.colModel[e].displayOption.label&&(f+=c.colModel[e].displayOption.label),f+="</BUTTON>");break;case "checkbox":null==c.colModel[e].displayOption?f='<INPUT type="checkbox" name="'+c.colModel[e].name+"_"+d+'" />':(f='<INPUT type="checkbox" name="'+c.colModel[e].name+"_"+d+'"',void 0!=c.colModel[e].displayOption.className&&(f=f+' class="'+c.colModel[e].displayOption.className+
'"'),f+=" />",void 0!=c.colModel[e].displayOption.label&&(f+=c.colModel[e].displayOption.label))}b.innerHTML=void 0!=typeof f?null!==f?f:"":""}else{f=void 0!=typeof h.cell[e]?null!==h.cell[e]?h.cell[e]:"":h.cell[c.colModel[e].name];if(void 0!=c.colModel[e].displayFormat)switch(c.colModel[e].displayFormat){case "number":f=EMD.util.addCommas(f)}b.innerHTML=c.__mw.datacol(c,a(this).attr("abbr"),f)}e=b.innerHTML.indexOf("<BGCOLOR=");0<e&&a(b).css("background",text.substr(e+7,7));a(b).attr("abbr",a(this).attr("abbr"));
a(g).append(b)});if(1>a("thead",this.gDiv).length)for(idx=0;idx<h.cell.length;idx++)f=document.createElement("td"),f.innerHTML="undefined"!=typeof h.cell[idx]?null!=h.cell[idx]?h.cell[idx]:"":h.cell[c.colModel[idx].name],a(g).append(f),f=null;a(e).append(g);g=null});else if("xml"==c.dataType){var f=1;a("rows row",h).each(function(){f++;var d=document.createElement("tr");a(this).attr("name")&&(d.name=a(this).attr("name"));a(this).attr("color")?a(d).css("background",a(this).attr("id")):f%2&&c.striped&&
(d.className="erow");var h=a(this).attr("id");h&&(d.id="row"+h);var h=null,g=this;a("thead tr:first th",b.hDiv).each(function(){var b=document.createElement("td"),h=a(this).attr("axis").substr(3);b.align=this.align;var h=a("cell:eq("+h+")",g).text(),e=h.indexOf("<BGCOLOR=");0<e&&a(b).css("background",h.substr(e+7,7));b.innerHTML=c.__mw.datacol(c,a(this).attr("abbr"),h);a(b).attr("abbr",a(this).attr("abbr"));a(d).append(b)});1>a("thead",this.gDiv).length&&a("cell",this).each(function(){var b=document.createElement("td");
b.innerHTML=a(this).text();a(d).append(b)});a(e).append(d);g=d=null})}a("tr",d).unbind();a(d).empty();a(d).append(e);this.addCellProp();this.addRowProp();this.rePosDrag();a(e).find("select").change({result:h.resultList,p:c,g:b},function(b){b.preventDefault();var c=a(this).attr("name").lastIndexOf("_"),d=1*a(this).attr("name").substring(c+1);b.data.result[d][a(this).attr("name").substring(0,c)]=a(this).val();a(this).closest("table").trigger("onSelectChanged",[b.data.p.module,b.data.result[d],b.data.g,
b.data.p])});a(e).find(":button").on("click",{result:h.resultList,p:c,g:b},function(b){b.preventDefault();var c=a(this).attr("name").lastIndexOf("_"),d=1*a(this).attr("name").substring(c+1);a(this).closest("table").trigger("onButtonClicked",[b.data.p.module,a(this).attr("name").substring(0,c),b.data.result[d],b.data.g,b.data.p])});a(e).find("input:checkbox").on("change",{result:h.resultList,p:c,g:b},function(b){b.preventDefault();var c=a(this).attr("name").lastIndexOf("_"),d=1*a(this).attr("name").substring(c+
1),h=a(this).is(":checked");b.data.result[d][a(this).attr("name").substring(0,c)]=h;a(this).closest("table").trigger("onCheckBoxChanged",[b.data.p.module,b.data.result[d],b.data.g,b.data.p])});c.data=h.resultList;f=h=e=null;if(c.onSuccess)c.onSuccess(this);c.hideOnSubmit&&a(b.block).remove();this.hDiv.scrollLeft=this.bDiv.scrollLeft;g.opera&&a(d).css("visibility","visible");b.resetScrollBarValue(b,d);b.sizeScrollbar(b,d);b.reflowScrollBarContent(b,d)},changeSort:function(d){if(this.loading)return!0;
a(b.nDiv).hide();a(b.nBtn).hide();c.sortname==a(d).attr("abbr")&&(c.sortorder="asc"==c.sortorder?"desc":"asc");a(d).addClass("sorted").siblings().removeClass("sorted");a(".sdesc",this.hDiv).removeClass("sdesc");a(".sasc",this.hDiv).removeClass("sasc");a("div",d).addClass("s"+c.sortorder);c.sortname=a(d).attr("abbr");if(c.onChangeSort)c.onChangeSort(c.sortname,c.sortorder);else this.populate()},buildpager:function(){a(".pcontrol input",this.pDiv).val(c.pageIndex);a(".pcontrol span",this.pDiv).html(c.pages);
var b=(c.pageIndex-1)*c.rp+1,d=b+c.rp-1;c.totalCount<d&&(d=c.totalCount);var e=c.pagestat,e=e.replace(/{from}/,b),e=e.replace(/{to}/,d),e=e.replace(/{totalCount}/,c.totalCount);a(".pPageStat",this.pDiv).html(e)},populate:function(){if(this.loading)return alert("\ub370\uc774\ud130\ub97c \ub85c\ub529\uc911\uc785\ub2c8\ub2e4. \uc7a5\uc2dc\uac04 \uc5f0\uacb0 \ub418\uc9c0 \uc54a\uc744 \uacbd\uc6b0 \ucc3d\uc744 \ub2eb\uace0 \ub2e4\uc2dc \uc2e4\ud589 \ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4."),!0;if(c.onSubmit&&
!c.onSubmit())return!1;this.loading=!0;if(!c.url)return!1;a(".pPageStat",this.pDiv).html(c.procmsg);a(".pReload",this.pDiv).addClass("loading");a(b.block).css({top:b.bDiv.offsetTop});c.hideOnSubmit&&a(this.gDiv).prepend(b.block);g.opera&&a(d).css("visibility","hidden");c.newp||(c.newp=1);c.pageIndex>c.pages&&(c.pageIndex=c.pages);var h=[{name:"pageIndex",value:1},{name:"pageUnit",value:999},{name:"recordCountPerPage",value:999},{name:"sortname",value:c.sortname},{name:"sortorder",value:c.sortorder},
{name:"query",value:c.query},{name:"qtype",value:c.qtype}];if(c.params.length)for(var e=0;e<c.params.length;e++)h[h.length]=c.params[e];a.ajax({type:c.method,url:c.url,data:h,dataType:c.dataType,success:function(a){null!=a.resultCode&&0!=a.resultCode?1==a.resultCode&&(alert(a.resultMsg),location.reload()):b.addData(a)},error:function(a,b,d){try{if(c.onError)c.onError(a,b,d)}catch(h){}}})},doSearch:function(){c.query=a("input[name=q]",b.sDiv).val();c.qtype=a("select[name=qtype]",b.sDiv).val();c.newp=
1;this.populate()},changePage:function(b){if(this.loading)return!0;switch(b){case "first":c.newp=1;break;case "prev":1<c.pageIndex&&(c.newp=parseInt(c.pageIndex,10)-1);break;case "next":c.pageIndex<c.pages&&(c.newp=parseInt(c.pageIndex,10)+1);break;case "last":c.newp=c.pages;break;case "input":b=parseInt(a(".pcontrol input",this.pDiv).val(),10),isNaN(b)&&(b=1),1>b?b=1:b>c.pages&&(b=c.pages),a(".pcontrol input",this.pDiv).val(b),c.newp=b}if(c.newp==c.pageIndex)return!1;if(c.onChangePage)c.onChangePage(c.newp);
else this.populate()},addCellProp:function(){a("tbody tr td",b.bDiv).each(function(){var d=document.createElement("div"),e=a("td",a(this).parent()).index(this),e=a("th:eq("+e+")",b.hDiv).get(0);null!=e&&(c.sortname==a(e).attr("abbr")&&c.sortname&&(this.className="sorted"),a(d).css({textAlign:e.align,width:a("div:first",e)[0].style.width}),e.hidden&&a(this).css("display","none"));!1==c.nowrap&&a(d).css("white-space","normal");""==this.innerHTML&&(this.innerHTML="&nbsp;");d.innerHTML=this.innerHTML;
var f=a(this).parent()[0],g=!1;f.id&&(g=f.id.substr(3));null!=e&&e.process&&e.process(d,g);a(this).empty().append(d).removeAttr("width");b.addTitleToCell(d)})},getCellDim:function(b){var c=parseInt(a(b).height(),10),d=parseInt(a(b).parent().height(),10),e=parseInt(b.style.width,10),f=parseInt(a(b).parent().width(),10),g=b.offsetParent.offsetTop,l=b.offsetParent.offsetLeft,p=parseInt(a(b).css("paddingLeft"),10);b=parseInt(a(b).css("paddingTop"),10);return{ht:c,wt:e,top:g,left:l,pdl:p,pdt:b,pht:d,pwt:f}},
addRowProp:function(){a("button",b.bDiv).on("click",function(d){d.stopPropagation();a(this).closest("table").trigger("onButtonClick",[c.module,row,b,c])});a("tbody tr",b.bDiv).on("click",function(d){var e=d.target||d.srcElement;if(e.href||e.type)return!0;d.ctrlKey||d.metaKey||(a(this).toggleClass("trSelected"),a(this).hasClass("trSelected")?a(this).closest("table").trigger("onItemSelected",[c.module,c.data[this.sectionRowIndex],b,c]):a(this).closest("table").trigger("onItemUnSelected",[c.module,c.data[this.sectionRowIndex],
b,c]),c.singleSelect&&!b.multisel&&a(this).siblings().removeClass("trSelected"))}).on("mousedown",function(d){if(d.shiftKey){if(!c.singleSelect)return;a(this).toggleClass("trSelected");b.multisel=!0;this.focus();a(b.gDiv).noSelect()}(d.ctrlKey||d.metaKey)&&c.singleSelect&&(a(this).toggleClass("trSelected"),b.multisel=!0,this.focus())}).on("mouseup",function(c){!b.multisel||c.ctrlKey||c.metaKey||(b.multisel=!1,a(b.gDiv).noSelect(!1))}).on("dblclick",function(d){a(this).closest("table").trigger("onItemDoubleClick",
[c.module,c.data[this.sectionRowIndex],b,c])}).hover(function(c){b.multisel&&c.shiftKey&&a(this).toggleClass("trSelected")},function(){});g.msie&&7>g.version&&a(this).hover(function(){a(this).addClass("trOver")},function(){a(this).removeClass("trOver")})},combo_flag:!0,combo_resetIndex:function(a){this.combo_flag&&(a.selectedIndex=0);this.combo_flag=!0},combo_doSelectAction:function(a){eval(a.options[a.selectedIndex].value);a.selectedIndex=0;this.combo_flag=!1},addTitleToCell:function(b){if(c.addTitleToCell){var d=
a("<span />").css("display","none");b=b instanceof jQuery?b:a(b);var e=b.outerWidth(),f=0;a("body").children(":first").before(d);d.html(b.html());d.css("font-size",""+b.css("font-size"));d.css("padding-left",""+b.css("padding-left"));f=d.innerWidth();d.remove();f>e?b.attr("title",b.text()):b.removeAttr("title")}},autoResizeColumn:function(d){if(c.dblClickResize){var e=a("div",this.cDrag).index(d),f=a("th:visible div:eq("+e+")",this.hDiv);d=parseInt(d.style.left,10);var g=f.width(),l=0,p=0,k=a("<span />");
a("body").children(":first").before(k);k.html(f.html());k.css("font-size",""+f.css("font-size"));k.css("padding-left",""+f.css("padding-left"));k.css("padding-right",""+f.css("padding-right"));l=k.width();a("tr",this.bDiv).each(function(){var b=a("td:visible div:eq("+e+")",this),c=0;k.html(b.html());k.css("font-size",""+b.css("font-size"));k.css("padding-left",""+b.css("padding-left"));k.css("padding-right",""+b.css("padding-right"));c=k.width();l=c>l?c:l});k.remove();l=c.minWidth>l?c.minWidth:l;
p=d+(l-g);a("div:eq("+e+")",this.cDrag).css("left",p);this.colresize={nw:l,n:e};b.dragEnd()}},pager:0,sizeScrollbar:function(b,c){if(null!=b&&null!=b.scrollbar){var d=a(b.cDiv).height()-46,e=a(c).height(),d=d/e*b.scrollbar.height();b.scrollbar.find(".ui-slider-handle").css({height:d,"margin-top":0});b.scrollbar.slider("value",100);b.handleHelper.css("top",d+"px");b.handleHelper.height(b.scrollbar.height()-d)}},resetScrollBarValue:function(b,c){if(null!=b&&null!=b.scrollbar){var d=a(b.cDiv).height()-
46,e=a(c).height(),f=e-d;e<d?a(b.cDiv).find(".scroll-bar-wrap").hide():a(b.cDiv).find(".scroll-bar-wrap").show();d="auto"===a(c).css("margin-top")?0:parseInt(a(c).css("margin-top"));f=Math.round(d/f*100);b.scrollbar.slider("value",100*f)}},reflowScrollBarContent:function(b,c){if(null!=b&&null!=b.scrollbar){var d=a(b.cDiv).height()-46,e=a(c).height()+parseInt(a(c).css("margin-top"),10),d=d-e;0<d&&a(c).css("margin-top",parseInt(a(c).css("margin-top"),10)+d)}},addScrollBar:function(b,c){a(b.cDiv).append('<div class="scroll-bar-wrap ui-widget-content ui-corner-all">\t\t\t\t\t    <div class="scroll-bar"></div>\t\t\t\t\t    </div>');
b.scrollbar=a(b.cDiv).find(".scroll-bar").slider({min:0,max:100,value:100,slide:function(d,e){var f=a(b.cDiv).height()-46,g=a(c).height();g>f?(a(c).css("margin-top",Math.round((100-e.value)/100*(f-g))+"px"),b.reflowScrollBarContent(b,c)):a(c).css("margin-top",0)},change:function(d,e){var f=a(b.cDiv).height()-46,g=a(c).height();g>f?(a(c).css("margin-top",Math.round((100-e.value)/100*(f-g))+"px"),b.reflowScrollBarContent(b,c)):a(c).css("margin-top",0)},orientation:"vertical"});var d=b.scrollbar.find(".ui-slider-handle");
b.handleHelper=d.mousedown(function(a){}).mouseup(function(){}).append("<span class='ui-icon ui-icon-grip-dotted-horizontal'></span>").wrap("<div class='ui-handle-helper-parent'></div>").parent();a(b.bDiv).css("overflow-y","hidden");a(b.gDiv).resize({g:b,t:c},function(a){b.resetScrollBarValue(a.data.g,a.data.t);b.sizeScrollbar(a.data.g,a.data.t);b.reflowScrollBarContent(a.data.g,a.data.t)});b.resetScrollBarValue(b,c);b.sizeScrollbar(b,c);setTimeout(b.sizeScrollbar,10,{g:b,t:c});b.reflowScrollBarContent(b,
c)}},b=c.getGridClass(b);if(c.colModel){for(var f=document.createElement("thead"),k=document.createElement("tr"),e=0;e<c.colModel.length;e++){var l=c.colModel[e],m=document.createElement("th");a(m).attr("axis","col"+e);if(l){if(a.cookies){var v="flexiwidths/"+l.name;void 0!=a.cookie(v)&&(l.width=a.cookie(v))}void 0!=l.display&&(m.innerHTML=l.display);l.name&&a(m).attr("abbr",l.name);l.align&&(m.align=l.align);l.width&&a(m).attr("width",l.width);a(l).attr("hide")&&(m.hidden=!0);l.process&&(m.process=
l.process)}else m.innerHTML="",a(m).attr("width",30);a(k).append(m)}a(f).append(k);a(d).prepend(f)}b.gDiv=document.createElement("div");b.mDiv=document.createElement("div");b.cDiv=document.createElement("div");b.hDiv=document.createElement("div");b.bDiv=document.createElement("div");b.vDiv=document.createElement("div");b.rDiv=document.createElement("div");b.cDrag=document.createElement("div");b.block=document.createElement("div");b.nDiv=document.createElement("div");b.nBtn=document.createElement("div");
b.iDiv=document.createElement("div");b.tDiv=document.createElement("div");b.sDiv=document.createElement("div");b.pDiv=document.createElement("div");!1===c.colResize&&a(b.cDrag).css("display","none");c.usepager||(b.pDiv.style.display="none");b.hTable=document.createElement("table");b.gDiv.className=d.className;d.className="";a(d).css("display","inline-block");a(b.gDiv).addClass("flexigrid");"auto"!=c.width&&(b.gDiv.style.width=c.width+(isNaN(c.width)?"":"px"));g.msie&&a(b.gDiv).addClass("ie");c.novstripe&&
a(b.gDiv).addClass("novstripe");a(d).before(b.gDiv);a(b.gDiv).append(d);if(c.buttons){b.tDiv.className="tDiv";m=document.createElement("div");m.className="tDiv2";for(e=0;e<c.buttons.length;e++)k=c.buttons[e],k.separator?a(m).append("<div class='btnseparator'></div>"):(l=document.createElement("div"),l.className="fbutton",l.innerHTML="<div><span>"+(k.hidename?"&nbsp;":k.name)+"</span></div>",k.bclass&&a("span",l).addClass(k.bclass).css({paddingLeft:20}),k.bimage&&a("span",l).css("background","url("+
k.bimage+") no-repeat center left"),a("span",l).css("paddingLeft",20),k.tooltip&&(a("span",l)[0].title=k.tooltip),l.onpress=k.onpress,l.name=k.name,k.id&&(l.id=k.id),k.onpress&&a(l).click(function(){this.onpress(this.id||this.name,b.gDiv)}),a(m).append(l),g.msie&&7>g.version&&a(l).hover(function(){a(this).addClass("fbOver")},function(){a(this).removeClass("fbOver")}));a(b.tDiv).append(m);a(b.tDiv).append("<div style='clear:both'></div>");a(b.gDiv).prepend(b.tDiv)}b.hDiv.className="hDiv";if(c.combobuttons&&
a(b.tDiv2)){l=document.createElement("div");l.className="fbutton";var s=document.createElement("select");a(s).change(function(){b.combo_doSelectAction(s)});a(s).click(function(){b.combo_resetIndex(s)});s.className="cselect";a(l).append(s);for(e=0;e<c.combobuttons.length;e++)k=c.combobuttons[e],k.separator||(m=document.createElement("option"),m.innerHTML=k.name,k.bclass&&a(m).addClass(k.bclass).css({paddingLeft:20}),k.bimage&&a(m).css("background","url("+k.bimage+") no-repeat center left"),a(m).css("paddingLeft",
20),k.tooltip&&(a(m)[0].title=k.tooltip),k.onpress&&(m.value=k.onpress),a(s).append(m));a(".tDiv2").append(l)}b.cDiv.className="cDiv";a(d).before(b.cDiv);a(b.cDiv).append(b.hDiv);b.hTable.cellPadding=0;b.hTable.cellSpacing=0;a(b.hDiv).append('<div class="hDivBox"></div>');a("div",b.hDiv).append(b.hTable);var f=a("thead:first",d).get(0);f&&a(b.hTable).append(f);f=null;if(!c.colmodel)var z=0;a("thead tr:first th",b.hDiv).each(function(){var d=document.createElement("div");a(this).attr("abbr")&&(a(this).click(function(c){if(!a(this).hasClass("thOver"))return!1;
c=c.target||c.srcElement;if(c.href||c.type)return!0;b.changeSort(this)}),a(this).attr("abbr")==c.sortname&&(this.className="sorted",d.className="s"+c.sortorder));this.hidden&&a(this).hide();c.colmodel||a(this).attr("axis","col"+z++);""==this.width&&(this.width=100);a(d).css({textAlign:this.align,width:this.width+"px"});d.innerHTML=this.innerHTML;a(this).empty().append(d).removeAttr("width").mousedown(function(a){b.dragStart("colMove",a,this)}).hover(function(){b.colresize||a(this).hasClass("thMove")||
b.colCopy||a(this).addClass("thOver");if(a(this).attr("abbr")!=c.sortname&&!b.colCopy&&!b.colresize&&a(this).attr("abbr"))a("div",this).addClass("s"+c.sortorder);else if(a(this).attr("abbr")==c.sortname&&!b.colCopy&&!b.colresize&&a(this).attr("abbr")){var d="asc"==c.sortorder?"desc":"asc";a("div",this).removeClass("s"+c.sortorder).addClass("s"+d)}if(b.colCopy){d=a("th",b.hDiv).index(this);if(d==b.dcoln)return!1;d<b.dcoln?a(this).append(b.cdropleft):a(this).append(b.cdropright);b.dcolt=d}else if(!b.colresize){var d=
a("th:visible",b.hDiv).index(this),d=parseInt(a("div:eq("+d+")",b.cDrag).css("left"),10),e=jQuery(b.nBtn).outerWidth(),e=d-e+Math.floor(c.cgwidth/2);a(b.nDiv).hide();a(b.nBtn).hide();a(b.nBtn).css({left:e,top:b.hDiv.offsetTop}).show();var f=parseInt(a(b.nDiv).width(),10);a(b.nDiv).css({top:b.bDiv.offsetTop});e+f>a(b.gDiv).width()?a(b.nDiv).css("left",d-f+1):a(b.nDiv).css("left",e);a(this).hasClass("sorted")?a(b.nBtn).addClass("srtd"):a(b.nBtn).removeClass("srtd")}},function(){a(this).removeClass("thOver");
if(a(this).attr("abbr")!=c.sortname)a("div",this).removeClass("s"+c.sortorder);else if(a(this).attr("abbr")==c.sortname){var d="asc"==c.sortorder?"desc":"asc";a("div",this).addClass("s"+c.sortorder).removeClass("s"+d)}b.colCopy&&(a(b.cdropleft).remove(),a(b.cdropright).remove(),b.dcolt=null)})});b.bDiv.className="bDiv";a(b.cDiv).append(b.bDiv);a(b.gDiv).css({height:"auto"==c.height?"auto":c.height+"px"});a(b.bDiv).scroll(function(a){b.scroll()}).append(d);"auto"==c.height&&a("table",b.bDiv).addClass("autoht");
b.addCellProp();b.addRowProp();if(!0===c.colResize&&(e=a("thead tr:first th:first",b.hDiv).get(0),null!==e)){b.cDrag.className="cDrag";b.cdpad=0;b.cdpad+=isNaN(parseInt(a("div",e).css("borderLeftWidth"),10))?0:parseInt(a("div",e).css("borderLeftWidth"),10);b.cdpad+=isNaN(parseInt(a("div",e).css("borderRightWidth"),10))?0:parseInt(a("div",e).css("borderRightWidth"),10);b.cdpad+=isNaN(parseInt(a("div",e).css("paddingLeft"),10))?0:parseInt(a("div",e).css("paddingLeft"),10);b.cdpad+=isNaN(parseInt(a("div",
e).css("paddingRight"),10))?0:parseInt(a("div",e).css("paddingRight"),10);b.cdpad+=isNaN(parseInt(a(e).css("borderLeftWidth"),10))?0:parseInt(a(e).css("borderLeftWidth"),10);b.cdpad+=isNaN(parseInt(a(e).css("borderRightWidth"),10))?0:parseInt(a(e).css("borderRightWidth"),10);b.cdpad+=isNaN(parseInt(a(e).css("paddingLeft"),10))?0:parseInt(a(e).css("paddingLeft"),10);b.cdpad+=isNaN(parseInt(a(e).css("paddingRight"),10))?0:parseInt(a(e).css("paddingRight"),10);a(b.bDiv).before(b.cDrag);var t=a(b.bDiv).height(),
n=a(b.hDiv).height();a(b.cDrag).css({top:-n+"px"});a("thead tr:first th",b.hDiv).each(function(){var d=document.createElement("div");a(b.cDrag).append(d);c.cgwidth||(c.cgwidth=a(d).width());a(d).css({height:t+n}).mousedown(function(a){b.dragStart("colresize",a,this)}).dblclick(function(a){b.autoResizeColumn(this)});g.msie&&7>g.version&&(b.fixHeight(a(b.gDiv).height()),a(d).hover(function(){b.fixHeight();a(this).addClass("dragging")},function(){b.colresize||a(this).removeClass("dragging")}))})}c.striped&&
a("tbody tr:odd",b.bDiv).addClass("erow");c.resizable&&"auto"!=c.height&&(b.vDiv.className="vGrip",a(b.vDiv).mousedown(function(a){b.dragStart("vresize",a)}).html("<span></span>"),a(b.bDiv).after(b.vDiv));c.resizable&&"auto"!=c.width&&!c.nohresize&&(b.rDiv.className="hGrip",a(b.rDiv).mousedown(function(a){b.dragStart("vresize",a,!0)}).html("<span></span>").css("height",a(b.gDiv).height()),g.msie&&7>g.version&&a(b.rDiv).hover(function(){a(this).addClass("hgOver")},function(){a(this).removeClass("hgOver")}),
a(b.gDiv).append(b.rDiv));if(c.usepager){b.pDiv.className="pDiv";b.pDiv.innerHTML='<div class="pDiv2"></div>';a(b.bDiv).after(b.pDiv);e=' <div class="pGroup"> <div class="pFirst pButton"><span></span></div><div class="pPrev pButton"><span></span></div> </div> <div class="btnseparator"></div> <div class="pGroup"><span class="pcontrol">'+c.pagetext+' <input type="text" size="4" value="1" /> '+c.outof+' <span> 1 </span></span></div> <div class="btnseparator"></div> <div class="pGroup"> <div class="pNext pButton"><span></span></div><div class="pLast pButton"><span></span></div> </div> <div class="btnseparator"></div> <div class="pGroup"> <div class="pReload pButton"><span></span></div> </div> <div class="btnseparator"></div> <div class="pGroup"><span class="pPageStat"></span></div>';
a("div",b.pDiv).html(e);a(".pReload",b.pDiv).click(function(){b.populate()});a(".pFirst",b.pDiv).click(function(){b.changePage("first")});a(".pPrev",b.pDiv).click(function(){b.changePage("prev")});a(".pNext",b.pDiv).click(function(){b.changePage("next")});a(".pLast",b.pDiv).click(function(){b.changePage("last")});a(".pcontrol input",b.pDiv).keydown(function(a){13==a.keyCode&&b.changePage("input")});g.msie&&7>g.version&&a(".pButton",b.pDiv).hover(function(){a(this).addClass("pBtnOver")},function(){a(this).removeClass("pBtnOver")});
if(c.useRp){e=k="";for(l=0;l<c.rpOptions.length;l++)e=c.rp==c.rpOptions[l]?'selected="selected"':"",k+="<option value='"+c.rpOptions[l]+"' "+e+" >"+c.rpOptions[l]+"&nbsp;&nbsp;</option>";a(".pDiv2",b.pDiv).prepend("<div class='pGroup'><select name='rp'>"+k+"</select></div> <div class='btnseparator'></div>");a("select",b.pDiv).change(function(){if(c.onRpChange)c.onRpChange(+this.value);else c.newp=1,c.rp=+this.value,b.populate()})}if(c.searchitems){a(".pDiv2",b.pDiv).prepend("<div class='pGroup'> <div class='pSearch pButton'><span></span></div> </div>  <div class='btnseparator'></div>");
a(".pSearch",b.pDiv).click(function(){a(b.sDiv).slideToggle("fast",function(){a(".sDiv:visible input:first",b.gDiv).trigger("focus")})});b.sDiv.className="sDiv";k=c.searchitems;e=l="";for(m=0;m<k.length;m++)""===c.qtype&&!0===k[m].isdefault?(c.qtype=k[m].name,e='selected="selected"'):e="",l+="<option value='"+k[m].name+"' "+e+" >"+k[m].display+"&nbsp;&nbsp;</option>";""===c.qtype&&(c.qtype=k[0].name);a(b.sDiv).append("<div class='sDiv2'>"+c.findtext+" <input type='text' value='"+c.query+"' size='30' name='q' class='qsbox' />  <select name='qtype'>"+
l+"</select></div>");a("input[name=q]",b.sDiv).keydown(function(a){13==a.keyCode&&b.doSearch()});a("select[name=qtype]",b.sDiv).keydown(function(a){13==a.keyCode&&b.doSearch()});a("input[value=Clear]",b.sDiv).click(function(){a("input[name=q]",b.sDiv).val("");c.query="";b.doSearch()});a(b.bDiv).after(b.sDiv)}}a(b.pDiv,b.sDiv).append("<div style='clear:both'></div>");c.title&&(b.mDiv.className="mDiv",b.mDiv.innerHTML='<div class="ftitle">'+c.title+"</div>",a(b.gDiv).prepend(b.mDiv),c.showTableToggleBtn&&
(a(b.mDiv).append('<div class="ptogtitle" title="Minimize/Maximize Table"><span></span></div>'),a("div.ptogtitle",b.mDiv).click(function(){a(b.gDiv).toggleClass("hideBody");a(this).toggleClass("vsble")})));b.cdropleft=document.createElement("span");b.cdropleft.className="cdropleft";b.cdropright=document.createElement("span");b.cdropright.className="cdropright";b.block.className="gBlock";e=a(b.bDiv).height();k=b.bDiv.offsetTop;a(b.block).css({width:b.bDiv.style.width,height:e,background:"white",position:"relative",
marginBottom:-1*e,zIndex:1,top:k,left:"0px"});a(b.block).fadeTo(0,c.blockOpacity);if(a("th",b.hDiv).length){b.nDiv.className="nDiv";b.nDiv.innerHTML="<table cellpadding='0' cellspacing='0'><tbody></tbody></table>";a(b.nDiv).css({marginBottom:-1*e,display:"none",top:k}).noSelect();var p=0;a("th div",b.hDiv).each(function(){var c='checked="checked"';"none"==a("th[axis='col"+p+"']",b.hDiv)[0].style.display&&(c="");a("tbody",b.nDiv).append('<tr><td class="ndcol1"><input type="checkbox" '+c+' class="togCol" value="'+
p+'" /></td><td class="ndcol2">'+this.innerHTML+"</td></tr>");p++});g.msie&&7>g.version&&a("tr",b.nDiv).hover(function(){a(this).addClass("ndcolover")},function(){a(this).removeClass("ndcolover")});a("td.ndcol2",b.nDiv).click(function(){return a("input:checked",b.nDiv).length<=c.minColToggle&&a(this).prev().find("input")[0].checked?!1:b.toggleCol(a(this).prev().find("input").val())});a("input.togCol",b.nDiv).click(function(){if(a("input:checked",b.nDiv).length<c.minColToggle&&!1===this.checked)return!1;
a(this).parent().next().trigger("click")});a(b.gDiv).prepend(b.nDiv);a(b.nBtn).addClass("nBtn").html("<div></div>").attr("title","Hide/Show Columns").click(function(){a(b.nDiv).toggle();return!0});c.showToggleBtn&&a(b.gDiv).prepend(b.nBtn)}a(b.iDiv).addClass("iDiv").css({display:"none"});a(b.bDiv).append(b.iDiv);b.addScrollBar(b,d);a(b.bDiv).hover(function(){a(b.nDiv).hide();a(b.nBtn).hide()},function(){b.multisel&&(b.multisel=!1)});a(b.gDiv).hover(function(){},function(){a(b.nDiv).hide();a(b.nBtn).hide()});
a(document).mousemove(function(a){b.dragMove(a)}).mouseup(function(a){b.dragEnd()}).hover(function(){},function(){b.dragEnd()});g.msie&&7>g.version&&(a(".hDiv,.bDiv,.mDiv,.pDiv,.vGrip,.tDiv, .sDiv",b.gDiv).css({width:"100%"}),a(b.gDiv).addClass("ie6"),"auto"!=c.width&&a(b.gDiv).addClass("ie6fullwidthbug"));b.rePosDrag();b.fixHeight();d.p=c;d.grid=b;c.url&&c.autoload&&b.populate();return d};var l=!1;a(document).ready(function(){l=!0});a.fn.flexigrid=function(d){return this.each(function(){if(l)a.addFlex(this,
d);else{a(this).hide();var c=this;a(document).ready(function(){a.addFlex(c,d)})}})};a.fn.flexReload=function(a){return this.each(function(){this.grid&&this.p.url&&this.grid.populate()})};a.fn.flexOptions=function(d){return this.each(function(){this.grid&&a.extend(this.p,d)})};a.fn.flexToggleCol=function(a,c){return this.each(function(){this.grid&&this.grid.toggleCol(a,c)})};a.fn.flexAddData=function(a){return this.each(function(){this.grid&&this.grid.addData(a)})};a.fn.flexAddRow=function(d){var c=
{},b=a(this.selector)[0].p;null==b.data&&(b.data=[]);b.data[b.data.length]=d;c.resultList=b.data;a(this.selector)[0].grid&&a(this.selector)[0].grid.addData(c)};a.fn.flexRemoveRow=function(d){var c={},b=a(this.selector)[0].p;b.data.splice(d,1);c.resultList=b.data;a(this.selector)[0].grid&&a(this.selector)[0].grid.addData(c)};a.fn.noSelect=function(d){return null===d||d?this.each(function(){g.msie||g.safari?a(this).bind("selectstart",function(){return!1}):g.mozilla?(a(this).css("MozUserSelect","none"),
a("body").trigger("focus")):g.opera?a(this).bind("mousedown",function(){return!1}):a(this).attr("unselectable","on")}):this.each(function(){g.msie||g.safari?a(this).unbind("selectstart"):g.mozilla?a(this).css("MozUserSelect","inherit"):g.opera?a(this).unbind("mousedown"):a(this).removeAttr("unselectable","on")})};a.fn.flexSearch=function(a){return this.each(function(){this.grid&&this.p.searchitems&&this.grid.doSearch()})};a.fn.selectedRows=function(d){var c=[];d=a(this.selector+" .trSelected");a(d).each(function(b,
d){c.push(a(this).closest("table")[0].p.data[a(this).closest("table").find("tr").index(this)])});return c};a.fn.unSelectedRows=function(d){var c=[];d=a(this.selector).not(".trSelected");a(d).each(function(b,d){c.push(a(this).closest("table")[0].p.data[a(this).closest("table").find("tr").index(this)])});return c};a.fn.selectedRowIds=function(d){var c=[];d=a(this.selector+" .trSelected");a(d).each(function(b,d){c[c.length]=a(this).closest("table").find("tr").index(this)});return c};a.fn.flexGetData=
function(d){d=a(this.selector)[0].p;null==d.data&&(d.data=[]);return d.data};a.fn.flexUpdateRow=function(d,c){var b={},f=a(this.selector)[0].p;f.data[d]=c;b.resultList=f.data;a(this.selector)[0].grid&&a(this.selector)[0].grid.addData(b)};a.fn.flexGetMergeData=function(d){var c=[];d=a(this.selector)[0].p;a.each(d.data,function(){null!=a(this)._updt&&""!=a(this)._updt&&(c[c.length]=this)});return c};a.fn.flexGetRow=function(d){var c=a(this.selector)[0].p;a.each(c.data,function(){null==a(this)._updt||
a(this)});return c.data[d]};a.fn.selectFilterData=function(d){var c=[],b=a(this.selector)[0].p;a.each(b.data,function(b,f){var e=!1;a.each(d,function(){void 0!=f[this.col]&&f[this.col]==this.filter&&(e=!0);return!1==e});e&&c.push(f)});return c}})(jQuery);(function(a){$treedatatype={Json:1,Xml:2};$treedataformat={Linear:1,Hierarchy:2};var g={containerid:null,module:null,url:null,async:!1,dataset:null,datatype:$treedatatype.Json,dataformat:$treedataformat.Hierarchy,class_node_collapse:"ui-icon-folder-collapsed",class_node_expand:"ui-icon-folder-open",class_node_item:"ui-icon-document",collapse_tree:!1,class_node_highlight:"ui-state-highlight",class_node_add:"ui-icon-plusthick",class_node_remove:"ui-icon-minusthick",show_button_check:!1,show_button_add:!1,
show_button_remove:!1,node_remove_message:"Are you sure you want to remove this node?"},f=g;a.fn.btechcotree=function(l){function d(){if(null!=f.url&&0<f.url.length){var c="";switch(f.datatype){case 1:c="json";break;case 2:c="xml"}a.ajax({type:"GET",async:f.async,url:f.url,dataType:c,success:function(a){f.dataset=a},error:function(b,c,d){a(this).closest("div.tree").trigger("onProcessingError",[f.module,b,c,d])}})}a(this).closest("div.tree").trigger("onBeforeDataConversion",[f.module]);switch(f.datatype){case 1:switch(f.dataformat){case 1:b(f.dataset.root);
break;case 2:t=f.dataset.root}break;case 2:switch(f.dataformat){case 1:w(f.dataset);break;case 2:k(f.dataset)}}a(this).closest("div.tree").trigger("onAfterDataConversion",[f.module])}function c(b){var c=0;null!=a(b).parent().attr("id")?c=a(b).parent().attr("id"):null!=a(b).attr("parentid")&&(c=a(b).attr("parentid"));return{id:a(b).attr("id"),name:a(b).attr("name"),parentid:c,href:a(b).attr("href"),target:a(b).attr("target"),tooltip:a(b).attr("tooltip"),buttoncheck:null==a(b).attr("buttoncheck")?!1:
a(b).attr("buttoncheck"),buttonadd:null==a(b).attr("buttonadd")?!1:a(b).attr("buttonadd"),buttonremove:null==a(b).attr("buttonremove")?!1:a(b).attr("buttonremove"),isdisabled:null==a(b).attr("isdisabled")?!1:a(b).attr("isdisabled"),ischecked:null==a(b).attr("ischecked")?!1:a(b).attr("ischecked"),classnodeicon:a(b).attr("classnodeicon"),childnodes:[]}}function b(b){a(b).each(function(a,b){var c={id:this.id,name:this.name,parentid:this.parentid,href:this.href,target:this.target,tooltip:this.tooltip,
buttoncheck:this.buttoncheck,buttonadd:this.buttonadd,buttonremove:this.buttonremove,isdisabled:this.isdisabled,ischecked:this.ischecked,classnodeicon:this.classnodeicon,childnodes:[]};0==t.length||0==c.parentid?t.push(c):e(t,c)})}function w(b){a(b).find("node").each(function(a,b){var d=c(this);0==t.length||0==d.parentid?t.push(d):e(t,d)})}function k(b){a(b).find("node").each(function(a,b){var d=c(this);0==t.length||0==d.parentid?t.push(d):e(t,d)})}function e(a,b){for(var c=0;c<a.length;c++)if(a[c].id==
b.parentid){0==a[c].childnodes.length&&(a[c].childnodes=[]);a[c].childnodes.push(b);break}else a[c].childnodes instanceof Object&&e(a[c].childnodes,b)}function u(b){n=0==n.length?n+"<ul style='list-style-type:none;'>":n+"<ul style='list-style-type:none; display:none;'>";a(b).each(function(b,c){a(this).closest("div.tree").trigger("onBeforeNodeInsert",[f.module,c]);var d=n,e,g=20;e=""+("<li nodeid='"+this.id+"'>");e+="<div><span class='ui-icon ";e=null!=this.classnodeicon&&0<this.classnodeicon.length?
e+this.classnodeicon:null!=this.childnodes&&0<this.childnodes.length?f.collapse_tree?e+f.class_node_expand:e+f.class_node_collapse:e+f.class_node_item;e+="' data-action='nav_items' style='position:absolute; margin-top:1px;'></span>";if(this.buttoncheck||null==this.buttoncheck&&f.show_button_check)e+="<input type='checkbox' style='position:absolute; margin-top:1px;margin-left:"+g+"px;'",this.isdisabled&&(e+=" disabled='true'"),e="true"==this.ischecked?e+(" checked='true' data-ischecked="+this.ischecked):
e+" data-ischecked='false'",e+="></input>",g+=20;if(this.buttonadd||null==this.buttonadd&&f.show_button_add)e+="<span class='ui-icon "+f.class_node_add+"' data-action='add' style='position:absolute; margin-top:1px;margin-left:"+g+"px;'></span>",g+=20;if(this.buttonremove||null==this.buttonremove&&f.show_button_remove)e+="<span class='ui-icon "+f.class_node_remove+"' data-action='remove' style='position:absolute; margin-top:1px;margin-left:"+g+"px;'></span>",g+=20;this.href&&(e+="<a href='"+this.href+
"' target='"+this.target+"'>");e+="<span style='margin-left:"+g+"px;' data-action='text'";null!=this.tooltip&&(e+=" title='"+this.tooltip+"'");e+=">"+this.name+"</span>";this.href&&(e+="</a>");e+="</div>";n=d+e;null!=this.childnodes&&0<this.childnodes.length&&u(this.childnodes);n+="</li>";a(this).closest("div.tree").trigger("onAfterNodeInsert",[f.module,c])});n+="</ul>"}function m(b,c){a("#"+f.containerid+" ul li div span[data-action='text']").removeClass(f.class_node_highlight);c&&a(b).parent("div").parent("li").find("span[data-action='text']:first").addClass(f.class_node_highlight)}
function v(b,c){s(b,c);a(b).parent("div").parent("li").children("ul").find("input[type='checkbox']").each(function(){s(this,c)});a(b).parents("ul li").each(function(){s(a(this).find("input[type='checkbox']").first(),c)})}function s(b,c){c?(a(b).prop("checked","true"),a(b).attr("data-ischecked","true")):(a(b).removeAttr("checked"),a(b).attr("data-ischecked","false"));selectid=a(b).closest("li").attr("nodeid");a.each(f.dataset.root,function(){if(a(this).attr("id")==selectid)return a(this).attr("ischecked",
c),!1})}function z(){a("#"+f.containerid+" ul li div").find("input[type='checkbox']").each(function(){if(a(this).is(":checked")&&a(this).attr("data-ischecked")&&0<a(this).parent("div").parent("li").next("ul").children().find("input[type='checkbox']").length){var b=!1;a(this).parent("div").parent("li").next("ul").children().each(function(){a(this).find("input[type='checkbox']").is(":checked")&&a(this).find("input[type='checkbox']").attr("data-ischecked")&&(b=!0)});b||(a(this).removeAttr("checked"),
a(this).attr("data-ischecked","false"))}});a("#"+f.containerid+" ul li div").find("input[type='checkbox'][checked='true']").each(function(){a(this).parents("ul").prev("li").each(function(){a(this).find("input[type='checkbox']").attr("checked","true");a(this).find("input[type='checkbox']").attr("data-ischecked","true")})})}f=a.extend({},g,l);var t=[],n="";(function(){a(this).closest("div.tree").trigger("onStart",[f.module]);a(this).closest("div.tree").trigger("onProcessingStart",[f.module]);d();a(this).closest("div.tree").trigger("onProcessingComplete",
[f.module]);a(this).closest("div.tree").trigger("onRenderStart",[f.module]);u(t);a("#"+f.containerid).append(n);var b=a.fn.btechcotree.GetRootNodes();a.fn.btechcotree.ToggleCaratIcon(b);a.fn.btechcotree.ToggleTree(b);f.collapse_tree&&(a.fn.btechcotree.ToggleCaratIcon(b),a.fn.btechcotree.ToggleTree(b));z();a(this).closest("div.tree").trigger("onRenderComplete",[f.module]);a(this).closest("div.tree").trigger("onEnd",[f.module])})();a("li div span[data-action='nav_items']").bind("click",function(){a.fn.btechcotree.ToggleCaratIcon(this);
a.fn.btechcotree.ToggleTree(this)});a("li div span[data-action='text']").bind("click",function(b){a(this).closest("div.tree").trigger("onSelectedNode",[f.module,a(this).parent("div").parent("li").attr("nodeid"),a(this).parent("div").parent("li"),b]);m(this,!0)});a("li div input[type='checkbox']").bind("click",function(b){a(this).closest("div.tree").trigger("onNodeCheckSelected",[f.module,a(this).parent("div").parent("li").attr("nodeid"),a(this).parent("div").parent("li"),b]);v(this,a(this).is(":checked"))});
a("li div span[data-action='add']").bind("click",function(b){a(this).closest("div.tree").trigger("onBeforeAddNode",[f.module,a(this).parent("div").parent("li").attr("nodeid"),a(this).parent("div").parent("li"),b]);m(this,!0);a(this).closest("div.tree").trigger("onAddNode",[f.module,a(this).parent("div").parent("li").attr("nodeid"),a(this).parent("div").parent("li"),b]);a(this).closest("div.tree").trigger("onAfterAddNode",[f.module,a(this).parent("div").parent("li").attr("nodeid"),a(this).parent("div").parent("li"),
b])});a("li div span[data-action='remove']").bind("click",function(b){a(this).closest("div.tree").trigger("onBeforereMoveNode",[f.module,a(this).parent("div").parent("li").attr("nodeid"),a(this).parent("div").parent("li"),b]);m(this,!0);confirm(f.node_remove_message)?a(this).closest("div.tree").trigger("onRemoveNode",[f.module,a(this).parent("div").parent("li").attr("nodeid"),a(this).parent("div").parent("li"),b]):m(this,!1);a(this).closest("div.tree").trigger("onAfterRemoveNode",[f.module,a(this).parent("div").parent("li").attr("nodeid"),
a(this).parent("div").parent("li"),b])})};a.fn.btechcotree.GetRootNodes=function(){return a("#"+f.containerid+"> ul > li > div > span:nth-child(1)")};a.fn.btechcotree.ToggleTree=function(f){a(f).parent("div").next("ul").toggle()};a.fn.btechcotree.ToggleCaratIcon=function(g){a(g).each(function(){a(this).hasClass(f.class_node_item)||(a(this).hasClass(f.class_node_expand)?(a(this).removeClass(f.class_node_expand),a(this).addClass(f.class_node_collapse)):(a(this).hasClass(f.class_node_collapse)&&a(this).removeClass(f.class_node_collapse),
a(this).addClass(f.class_node_expand)))})};a.fn.btechcotree.ExpandCollapseTree=function(f,d){d?a(f).parent("div").parent("li").next("ul").is(":visible")||(a(f).parent("div").parent("li").next("ul").show(),a.fn.btechcotree.ToggleCaratIcon(f)):a(f).parent("div").parent("li").next("ul").is(":visible")&&(a(f).parent("div").parent("li").next("ul").hide(),a.fn.btechcotree.ToggleCaratIcon(f))};a.fn.btechcotree.Expand=function(){var f=a.fn.btechcotree.GetRootNodes();a.fn.btechcotree.ExpandCollapseTree(f,
!0)};a.fn.btechcotree.Collapse=function(){var f=a.fn.btechcotree.GetRootNodes();a.fn.btechcotree.ExpandCollapseTree(f,!1)};a.fn.btechcotree.Toggle=function(){var f=a.fn.btechcotree.GetRootNodes();a.fn.btechcotree.ToggleCaratIcon(f);a.fn.btechcotree.ToggleTree(f)}})(jQuery);
