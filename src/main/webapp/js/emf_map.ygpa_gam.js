function removeWindow(a){a.remove()}window.removeWindow=removeWindow;
var buttonIcons=[{label:"\ucd5c\ucd08\uc2e0\uccad",icon:"ui-icon-check"},{label:"\uc5f0\uc7a5\uc2e0\uccad",icon:"ui-icon-clock"},{label:"\uc2e0\uccad\uc0ad\uc81c",icon:"ui-icon-minusthick"},{label:"\uacb0\uc7ac\uc694\uccad",icon:"ui-icon-document"},{label:"\uc790\uc0b0\ub4f1\ub85d",icon:"ui-icon-document"},{label:"\uc9c0\ub3c4\ubcf4\uae30",icon:"ui-icon-flag"},{label:"\uc704\uce58\ub4f1\ub85d",icon:"ui-icon-pin-s"},{label:"\uc790\uc0b0\ucd94\uac00",icon:"ui-icon-plusthick"},{label:"\ucd94\uac00",
icon:"ui-icon-plusthick"},{label:"\uc0ad\uc81c",icon:"ui-icon-trash"},{label:"\uc800\uc7a5",icon:"ui-icon-disk"},{label:"\ucde8\uc18c",icon:"ui-icon-arrowreturnthick-1-e"},{label:"\uc801\uc6a9",icon:"ui-icon-check"},{label:"\uc5c5\ub85c\ub4dc",icon:"ui-icon-arrowthickstop-1-n"},{label:"\ub2e4\uc6b4\ub85c\ub4dc",icon:"ui-icon-arrowthickstop-1-s"},{label:"\uc0ac\uc6a9\uc2b9\ub099",icon:"ui-icon-clipboard"},{label:"\uc2b9\ub099\ucde8\uc18c",icon:"ui-icon-cancel"},{label:"\ub9f5\uc870\ud68c",icon:"ui-icon-extlink"},
{label:"\uc5d1\uc140",icon:"ui-icon-excel-down"},{label:"\uc778\uc1c4",icon:"ui-icon-print"},{label:"\uacfc\ud0dc\ub8cc",icon:"ui-icon-alert"}],DeleteFeature=new OpenLayers.Class(OpenLayers.Control,{initialize:function(a,c){OpenLayers.Control.prototype.initialize.apply(this,[c]);this.layer=a;this.handler=new OpenLayers.Handler.Feature(this,a,{click:this.clickFeature})},clickFeature:function(a){void 0==a.fid?this.layer.destroyFeatures([a]):(a.state=OpenLayers.State.DELETE,this.layer.events.triggerEvent("afterfeaturemodified",
{feature:a}),a.renderIntent="select",this.layer.drawFeature(a))},setMap:function(a){this.handler.setMap(a);OpenLayers.Control.prototype.setMap.apply(this,arguments)},CLASS_NAME:"OpenLayers.Control.DeleteFeature"});OpenLayers.Projection.defaults={"EPSG:5181":{units:"m"},"EPSG:5186":{units:"m"}};OpenLayers.DOTS_PER_INCH=96;
OpenLayers.Layer.TileCacheCustom=OpenLayers.Class(OpenLayers.Layer.TileCache,{initialize:function(a,c,b,d){this.layername=b;OpenLayers.Layer.Grid.prototype.initialize.apply(this,[a,c,{},d]);this.extension=this.format.split("/")[1].toLowerCase()},getURL:function(a){function c(a,b){a=String(a);for(var k=[],l=0;l<b;++l)k.push("0");return k.join("").substring(0,b-a.length)+a}var b=this.map.getResolution(),d=a.bottom;a=a.left;b=null!=this.serverResolutions?OpenLayers.Util.indexOf(this.serverResolutions,
b):this.map.getZoom();d=[this.layername,c(b,2),c(parseInt(d/1E6),3),c(parseInt(d/1E3)%1E3,3),c(parseInt(d)%1E3,3),c(parseInt(a/1E6),3),c(parseInt(a/1E3)%1E3,3),c(parseInt(a)%1E3,3)+"."+this.extension].join("/");this.version&&(d+="?v="+this.version);b=this.url;b instanceof Array&&(b=this.selectUrl(d,b));b="/"==b.charAt(b.length-1)?b:b+"/";return b+d},CLASS_NAME:"OpenLayers.Layer.TileCacheCustom"});
OpenLayers.Control.indexMapCustom=OpenLayers.Class(OpenLayers.Control.ZoomBox,{baseMap:null,draw:function(){this.handler=new OpenLayers.Handler.BoxCustom(this,{done:this.zoomBox},{indexMap:!0})},initialize:function(a,c){this.baseMap=a;OpenLayers.Control.prototype.initialize.apply(this,[c])},zoomBox:function(a){if(a instanceof OpenLayers.Bounds){if(this.out){var c=Math.abs(a.right-a.left),b=Math.abs(a.top-a.bottom),c=Math.min(this.map.size.h/b,this.map.size.w/c),b=this.map.getExtent(),d=this.map.getLonLatFromPixel(a.getCenterPixel());
a=d.lon-b.getWidth()/2*c;var g=d.lon+b.getWidth()/2*c,h=d.lat-b.getHeight()/2*c,c=d.lat+b.getHeight()/2*c,c=new OpenLayers.Bounds(a,h,g,c)}else c=this.map.getLonLatFromPixel(new OpenLayers.Pixel(a.left,a.bottom)),b=this.map.getLonLatFromPixel(new OpenLayers.Pixel(a.right,a.top)),c=new OpenLayers.Bounds(c.lon,c.lat,b.lon,b.lat);this.baseMap.zoomToExtent(c,!0)}else this.baseMap.setCenter(this.map.getLonLatFromPixel(a),this.baseMap.numZoomLevels-1)},CLASS_NAME:"OpenLayers.Control.indexMapCustom"});
OpenLayers.Handler.BoxCustom=OpenLayers.Class(OpenLayers.Handler.Box,{indexMap:!1,startBox:function(a){this.indexMap&&this.zoomBox&&this.removeBox();this.zoomBox=OpenLayers.Util.createDiv("zoomBox",this.dragHandler.start);this.zoomBox.className=this.boxDivClassName;this.zoomBox.style.zIndex=this.map.Z_INDEX_BASE.Popup-1;this.map.viewPortDiv.appendChild(this.zoomBox);OpenLayers.Element.addClass(this.map.viewPortDiv,"olDrawBox")},applyBox:function(a){this.indexMap&&this.zoomBox&&this.removeBox();this.dragHandler.start=
this.map.getPixelFromLonLat(new OpenLayers.LonLat(a.left,a.top));var c=this.map.getPixelFromLonLat(new OpenLayers.LonLat(a.right,a.bottom));a=c.x-this.dragHandler.start.x;c=c.y-this.dragHandler.start.y;this.zoomBox=OpenLayers.Util.createDiv("zoomBox",this.dragHandler.start);this.zoomBox.className=this.boxDivClassName;this.zoomBox.style.zIndex=this.map.Z_INDEX_BASE.Popup-1;this.map.viewPortDiv.appendChild(this.zoomBox);this.zoomBox.style.width=a+"px";this.zoomBox.style.height=c+"px"},endBox:function(a){var c;
if(5<Math.abs(this.dragHandler.start.x-a.x)||5<Math.abs(this.dragHandler.start.y-a.y)){var b=this.dragHandler.start;c=Math.min(b.y,a.y);var d=Math.max(b.y,a.y),g=Math.min(b.x,a.x);a=Math.max(b.x,a.x);c=new OpenLayers.Bounds(g,d,a,c)}else c=this.dragHandler.start.clone();this.indexMap||this.removeBox();this.callback("done",[c])},CLASS_NAME:"OpenLayers.Handler.BoxCustom"});
OpenLayers.Handler.PolygonMeasureCustom=OpenLayers.Class(OpenLayers.Handler.Polygon,{popup:null,measureArea:function(){var a=this.geometryClone().getGeodesicArea(EMD.map.projection),c;c=a*Math.pow(OpenLayers.INCHES_PER_UNIT.m/OpenLayers.INCHES_PER_UNIT.km,2);return a=1<c?c.toFixed(2)+"km<sup>2</sup>":a.toFixed(2)+"m<sup>2</sup>"},mousedown:function(a){if(this.lastDown&&this.lastDown.equals(a.xy))return!1;null==this.lastDown?(this.multiLine||(this.persist&&this.destroyFeature(),this.removePopup()),
this.createFeature(a.xy)):null!=this.lastUp&&this.lastUp.equals(a.xy)||this.addPoint(a.xy);this.lastDown=a.xy;this.drawing=!0;this.freehandMode(a)?(this.removePoint(),this.finalize()):(null==this.lastUp&&this.addPoint(a.xy),this.lastUp=a.xy);var c=this.map.getLonLatFromPixel(a.xy),b=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(c.lon,c.lat));this.layer.addFeatures(b);var d;this.count?(1<this.count&&(contentHtml="<div class='olControlMeasurePopup'>"+this.measureArea()+"</div>",d=new PopupCustom("measurePopup",
c,null,contentHtml,this.layer.map,new OpenLayers.Pixel(5,5))),this.count+=1):(contentHtml="<div class='olControlMeasurePopup'>\uc2dc\uc791</div>",d=new PopupCustom("measurePopup",c,null,contentHtml,this.layer.map,new OpenLayers.Pixel(5,5)),contentHtml="<div class='olControlMeasurePopup'>"+this.measureArea()+"</div>",this.popup=new PopupCustom("measurePopup",c,null,contentHtml,this.layer.map,new OpenLayers.Pixel(5,5)),this.map.addPopup(this.popup),this.popup.updateSize(),this.popup.type="measure",
this.count=1);d&&(this.map.addPopup(d),d.type="measure",d.updateSize());return"2"==a.button?(this.rightclick(a),!0):!1},mousemove:function(a){this.drawing&&(this.mouseDown&&this.freehandMode(a)?this.addPoint(a.xy):(this.modifyFeature(a.xy),this.popup&&(contentHtml="<div class='olControlMeasurePopup'>"+this.measureArea()+"</div>",this.popup.setContentHTML(contentHtml),this.popup.updateSize(),this.popup.moveTo(a.xy))));return!0},rightclick:function(a){this.dblclick(a);return!1},dblclick:function(a){if(3>
this.count)return alert("\uba74\uc801\uc740 3\uac1c \uc774\uc0c1\uc758 \uc9c0\uc810\uc744 \uc120\ud0dd\ud574\uc57c \ud569\ub2c8\ub2e4."),!1;this.count=0;this.freehandMode(a)||(this.line.geometry.removeComponent(this.line.geometry.components[this.line.geometry.components.length-1]),this.removePoint(),this.finalize());this.popup&&(this.map.removePopup(this.popup),this.popup=null);return!1},deactivate:function(){if(!OpenLayers.Handler.prototype.deactivate.apply(this,arguments))return!1;this.drawing&&
this.cancel();this.persistControl||(this.layer.destroy(!1),this.removePopup());this.layer.prevLayer=!0;this.layer=null;return!0},removePopup:function(){for(var a=this.map.popups.length-1;0<=a;a--)"measure"==this.map.popups[a].type&&this.map.removePopup(this.map.popups[a])},CLASS_NAME:"OpenLayers.Handler.PolygonMeasureCustom"});
OpenLayers.Handler.PathMeasureCustom=OpenLayers.Class(OpenLayers.Handler.Path,{popup:null,measureDistance:function(){var a=this.geometryClone().getGeodesicLength(EMD.map.projection),c;c=OpenLayers.INCHES_PER_UNIT.m/OpenLayers.INCHES_PER_UNIT.km*a;return a=1<c?c.toFixed(2)+"km":a.toFixed(2)+"m"},mousedown:function(a){if(this.lastDown&&this.lastDown.equals(a.xy))return!1;null==this.lastDown?(this.multiLine||(this.persist&&this.destroyFeature(),this.removePopup()),this.createFeature(a.xy)):null!=this.lastUp&&
this.lastUp.equals(a.xy)||this.addPoint(a.xy);this.lastDown=a.xy;this.drawing=!0;this.freehandMode(a)?(this.removePoint(),this.finalize()):(null==this.lastUp&&this.addPoint(a.xy),this.lastUp=a.xy);var c=this.map.getLonLatFromPixel(a.xy),b=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(c.lon,c.lat));this.layer.addFeatures(b);if(this.count)d="<div class='olControlMeasurePopup'>"+this.measureDistance()+"</div>",b=new PopupCustom("measurePopup",c,null,d,this.layer.map,new OpenLayers.Pixel(5,
5)),this.count+=1;else{var d,b=new PopupCustom("measurePopup",c,null,"<div class='olControlMeasurePopup'>\uc2dc\uc791</div>",this.layer.map,new OpenLayers.Pixel(5,5));d="<div class='olControlMeasurePopup'>"+this.measureDistance()+"</div>";this.popup=new PopupCustom("measurePopup",c,null,d,this.layer.map,new OpenLayers.Pixel(5,5));this.map.addPopup(this.popup);this.popup.updateSize();this.popup.type="measure";this.count=1}b&&(this.map.addPopup(b),b.type="measure",b.updateSize());return"2"==a.button?
(this.rightclick(a),!0):!1},mousemove:function(a){this.drawing&&(this.mouseDown&&this.freehandMode(a)?this.addPoint(a.xy):(this.modifyFeature(a.xy),this.popup&&(contentHtml="<div class='olControlMeasurePopup'>"+this.measureDistance()+"</div>",this.popup.setContentHTML(contentHtml),this.popup.updateSize(),this.popup.moveTo(a.xy))));return!0},rightclick:function(a){this.dblclick(a);return!1},dblclick:function(a){this.count=0;this.freehandMode(a)||(this.line.geometry.removeComponent(this.line.geometry.components[this.line.geometry.components.length-
1]),this.removePoint(),this.finalize());this.popup&&(this.map.removePopup(this.popup),this.popup=null);return!1},deactivate:function(){if(!OpenLayers.Handler.prototype.deactivate.apply(this,arguments))return!1;this.drawing&&this.cancel();this.persistControl||(this.layer.destroy(!1),this.removePopup());this.layer.prevLayer=!0;this.layer=null;return!0},removePopup:function(){for(var a=this.map.popups.length-1;0<=a;a--)"measure"==this.map.popups[a].type&&this.map.removePopup(this.map.popups[a])},CLASS_NAME:"OpenLayers.Handler.PathMeasureCustom"});
PopupCustom=OpenLayers.Class(OpenLayers.Popup,{offsetPixel:null,initialize:function(a,c,b,d,g,h){h&&(this.offsetPixel=h);null==a&&(a=OpenLayers.Util.createUniqueID(this.CLASS_NAME+"_"));this.id=a;this.lonlat=c;this.contentSize=null!=b?b:new OpenLayers.Size(OpenLayers.Popup.WIDTH,OpenLayers.Popup.HEIGHT);null!=d&&(this.contentHTML=d);this.backgroundColor=OpenLayers.Popup.COLOR;this.opacity=OpenLayers.Popup.OPACITY;this.border=OpenLayers.Popup.BORDER;this.div=OpenLayers.Util.createDiv(this.id,null,
null,null,null,null,"hidden");this.div.className=this.displayClass;this.groupDiv=OpenLayers.Util.createDiv(this.id+"_GroupDiv",null,null,null,"relative",null,"hidden");a=this.div.id+"_contentDiv";this.contentDiv=OpenLayers.Util.createDiv(a,null,this.contentSize.clone(),null,"relative");this.contentDiv.className=this.contentDisplayClass;this.groupDiv.appendChild(this.contentDiv);this.div.appendChild(this.groupDiv);this.registerEvents()},getLonLat:function(){return this.lonlat},moveTo:function(a){null!=
a&&null!=this.div&&(this.offsetPixel&&(a=a.add(this.offsetPixel.x,this.offsetPixel.y)),this.div.style.left=a.x+"px",this.div.style.top=a.y+"px")},CLASS_NAME:"PopupCustom"});
OpenLayers.Control.ClickFeature=OpenLayers.Class(OpenLayers.Control,{initialize:function(a){OpenLayers.Control.prototype.initialize.apply(this,arguments)},activate:function(){return OpenLayers.Control.prototype.activate.apply(this,arguments)?(this.map.events.register("mousemove",this,this.redraw),this.redraw(),!0):!1},deactivate:function(){return OpenLayers.Control.prototype.deactivate.apply(this,arguments)?(this.map.events.unregister("mousemove",this,this.redraw),this.element.innerHTML="",!0):!1},
CLASS_NAME:"OpenLayers.Control.ClickFeature"});
OpenLayers.Control.Click=OpenLayers.Class(OpenLayers.Control,{defaultHandlerOptions:{single:!0,"double":!1,pixelTolerance:0,stopSingle:!1,stopDouble:!1},initialize:function(a){this.handlerOptions=OpenLayers.Util.extend({},this.defaultHandlerOptions);OpenLayers.Control.prototype.initialize.apply(this,arguments);this.handler=new OpenLayers.Handler.Click(this,{click:this.onClick,dblclick:this.onDblclick},this.handlerOptions)},onClick:function(a){var c=document.getElementById(this.key+"Output");c.value=
c.value+("click "+a.xy)+"\r\n"},onDblclick:function(a){var c=document.getElementById(this.key+"Output");c.value=c.value+("dblclick "+a.xy)+"\n"}});
OpenLayers.Control.CustomGetFeature=OpenLayers.Class(OpenLayers.Control.GetFeature,{polygon:!1,regularPolygon:!1,all:!1,map:null,initialize:function(a){OpenLayers.Control.GetFeature.prototype.initialize.apply(this,[a]);this.polygon&&(this.handlers.polygon=new OpenLayers.Handler.Polygon(this,{done:this.selectPolygon}));this.regularPolygon&&(this.handlers.regularPolygon=new OpenLayers.Handler.RegularPolygon(this,{done:this.selectRegularPolygon},{sides:50,persist:!1}));this.all&&(a=this.map.getExtent(),
this.setModifiers(this.map.events),this.request(a))},selectRegularPolygon:function(a){a=a.getBounds();this.setModifiers(this.handlers.regularPolygon.evt);this.request(a);OpenLayers.Util.deletePopup()},selectPolygon:function(a){a=a.getBounds();this.setModifiers(this.handlers.polygon.evt);this.request(a)},CLASS_NAME:"OpenLayers.Control.CustomGetFeature"});
var EMD=function(a,c,b,d){var g=a.browser;if(!g){var h=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}}(navigator.userAgent),g={};h.browser&&(g[h.browser]=!0,g.version=h.version);g.chrome?g.webkit=!0:g.webkit&&(g.safari=!0)}return{go:function(a,b,d,c,g){if(0==a.length||
"/"==a.substring(a.length-1))a=a.substring(0,a.length-1);EMD.context_root=a;EMD.gis_engine_url=d;EMD.serverUrl=c;OpenLayers.ImgPath=EMD.context_root+"/images/egovframework/ygpa/gam/maps/";OpenLayers.theme=EMD.context_root+"/js/theme/ygpa/";Proj4js.libPath=EMD.context_root+"/js/Proj4js/";EMD.map_base_url=b;switch(c){case "http://lfitsvr.iptime.org":EMD.vworldKey="B60CBFE2-E105-39B4-B7E7-C737F1512A16";break;case "http://192.168.0.40":EMD.vworldKey="474AD190-F9E9-31C6-BE7C-15EFD66E5DAD";break;case "http://localhost":EMD.vworldKey=
"5E7D605D-BD5A-3BEE-8C20-62172A86B4AA";break;default:EMD.serverUrl="http://localhost",EMD.vworldKey="5E7D605D-BD5A-3BEE-8C20-62172A86B4AA"}EMD._frmwrkMenu=g;OpenLayers.ProxyHost=EMD.context_root+"/proxy.jsp?url=";for(var h in EMD.init)EMD.init[h]()},_frmwrkMenu:null,context_root:"",map_base_url:"",gis_engine_url:"",serverUrl:"",vworldKey:"",window_seq:0,loadAtStartWindow:[],win_x:80,win_y:40,drag_handle:null,dragging:!1,drag_ui:null,userinfo:null,popupCaller:null,popupId:null,mapPopupId:0,popupParams:null,
chart_id:0,map:null,map_state:null,map_value:null,map_callback:null,gyhmap:null,wfs:null,lotarea:null,lotareaProtocol:null,panel:null,measurePanel:null,controls:{measureDist:null,measureArea:null},measureControls:null,editControls:[],_currentEditLayer:null,draw:null,edit:null,edit_win:null,del:null,info:null,save:null,cancel:null,saveStrategy:null,transaction:{type:null,callbackWindowId:null},map_panel:null,userLayer:{custLand:null,landCode:null,prtFclty:null,locArea:null,gisAssetsCd:null,gisPrtFcltyCd:null,
gisArchFclty:null,gisITFclty:null,gisMechFclty:null,gisElecFclty:null,gisCivilFclty:null,assetsRent:null,assetsRentDetail:null,fcltyMech:null,fcltyIT:null,fcltyCivil:null,fcltyConst:null,assetEPower:null,assetRentStats:null,gnrlRentStats:null,cntrRentStats:null,htldRentStats:null,ccntRentStats:null,trnpRentStats:null,portArea:null,quayGroup:null,quayCd:null,berthCd:null,constructCd:null,fcltyConstMarker:null,fcltySocMarker:null,fcltyMechMarker:null,fcltyInfoTeleMarker:null,fcltyElecPowerMarker:null},
userStyle:{assetCdStyle:{"default":null,useSttus:null,notUsgArea:null,feeSttus:null,reqSttus:null,evlDtls:null},assetRentStyle:{"default":null,useSttus:null},assetsRentDetailStyle:{"default":null,useSttus:null},quayStyle:{"default":null,useSttus:null,notUsgArea:null,feeSttus:null,reqSttus:null}},popup:{prtFcltyInfo:null,lotAreaInfo:null},popupMenu:{},layerDisplay:{},userFunc:{},startLogLotarea:!1,lotareaStackCnt:0,lotareaFeatures:[],protocols:{prtFclty:null,landCode:null,gisAssetsCd:null,locArea:null,
assetsRent:null,assetsRentDetail:null,gisPrtFcltyCd:null},filters:{assetsRent:null},strategies:{assetsRent:null,assetsRentDetail:null,assetStats:null,assetRentStats:null,gnrlRentStats:null,htldRentStats:null,cntrRentStats:null,ccntRentStats:null,trnpRentStats:null},selectControl:null,selectInfoControl:null,dragFeature:null,maxBounds:new OpenLayers.Bounds(-3E4,-6E4,494288,988576),maxRes:0.0439453125,maxZoom:14,module_instance:[],init:{frame_breaker:function(){c.location!==c.top.location&&(c.top.location=
c.location)},user_init:function(){$DEBUG?EMD.userinfo={name:"\ub514\ubc84\uadf8",authorities:["ROLE_ADMIN"],userId:"TEST1",quayGroupCd:"G"}:a.ajax({url:EMD.context_root+"/main/getUserInfo.do",type:"POST",async:!1,dataType:"json",global:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:""}).done(function(b){"1"==b.resultCode?(alert(b.message),a.post(EMD.context_root+"/uat/uia/YGActionLogout.do").done(function(){c.location.reload()})):(EMD.userinfo=b.userInfo,a("#logUserName").text(EMD.userinfo.name))});
if(null!=EMD._frmwrkMenu)for(var b=EMD._frmwrkMenu,l=0;l<b.length;l++)switch(b[l].menuNo){case "2100000":var d=b[l].submenu;d instanceof Array&&(EMD.loadAtStartWindow=d);break;case "2200000":d=b[l].submenu;if(d instanceof Array)for(var g=0;g<d.length;g++)EMD.userFunc[d[g].url]=d[g].menuNm;break;case "2300000":d=b[l].submenu;if(d instanceof Array)for(g=0;g<d.length;g++)EMD.popupMenu[d[g].progrmStrePath]=d[g].url;break;case "2400000":if(d=b[l].submenu,d instanceof Array)for(g=0;g<d.length;g++)EMD.layerDisplay[d[g].progrmStrePath]=
d[g].url}},clock:function(){var b=a("#clock");if(b.length){var l=new Date,d=l.getHours(),c=l.getMinutes(),g=l.getDate(),h=l.getFullYear(),q="AM",r,t;r="\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split("");t="1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" ");r=r[l.getDay()];t=t[l.getMonth()];12<=d&&(q="PM");12<d?d-=12:0===d&&(d=12);10>c&&(c="0"+c);l=t+" "+g+", "+h;b.html(r+" "+d+":"+c+" "+q).attr("title",l);setTimeout(EMD.init.clock,6E4)}},
desktop:function(){var k=a(b);a("#progress_dialog").dialog({autoOpen:!1,width:180,height:66,modal:!0,dialogClass:"progress"});a("#file_upload_dialog").dialog({autoOpen:!1,width:640,height:480,modal:!0,resizable:!0,dialogClass:"fileupload"});a("#pfPhoto_upload_dialog").dialog({autoOpen:!1,width:640,height:480,modal:!0,resizable:!0,dialogClass:"fileupload"});a("#xlsfile_upload_dialog").dialog({autoOpen:!1,width:400,height:300,modal:!0,resizable:!1,dialogClass:"fileupload"});k.mousedown(function(b){a(b.target).is("a.menu_trigger")||
a(b.target).is("a")||a(b.target).is("button")||a(b.target).is("input")||a(b.target).is("select")||a(b.target).is("textarea")||a(b.target).is("tr")||(EMD.util.clear_active(),b.preventDefault(),b.stopPropagation())});k.on("contextmenu",function(){return!1});k.on("click","a",function(b){var k=a(this).attr("href");this.blur();switch(a(this).data("role")){case "LoadModule":if("/"==a(this).data("url"))return;EMD.util.create_window(a(this).text(),a(this).data("url"));break;case "CloseAllWindow":EMD.util.clear_active();
a("#desktop").find(".window").each(function(){EMD.closeWindow(a(this))});break;case "MinimizeAllWindow":EMD.util.clear_active();a("div.window:visible").length&&a("div.window").hide();break;case "logout":EMD.util.clear_active();a.post(EMD.context_root+"/uat/uia/YGActionLogout.do").done(function(){c.location.reload()});break;case "getUserInfo":EMD.util.clear_active();EMD.init.user_init();break;case "startLogLandCode":EMD.util.clear_active();EMD.lotareaFeatures=[];EMD.lotareaStackCnt=0;EMD.startLogLotarea=
!0;break;case "saveLandCode":EMD.util.clear_active();EMD.startLogLotarea=!1;EMD.protocols.landCode.commit(EMD.lotareaFeatures,{callback:function(a){if(a.error)return alert("error save lotarea"),-1;alert("lotarea saved.")}});EMD.lotareaFeatures=[];break;case "ShowAllWindow":EMD.util.clear_active();a("#dock li:visible a").each(function(){a(a(this).attr("href")).show()});break;case "SortingWindow":EMD.util.window_flat(),EMD.win_x=80,EMD.win_y=40,a("#desktop").find(".window").each(function(){EMD.util.window_move(a(this).attr("id"),
EMD.win_x,EMD.win_y);EMD.win_x+=30;EMD.win_y+=20})}k.match(/^#/)?(b.preventDefault(),b.stopPropagation()):a(this).attr("target","_blank")});k.on("mousedown","a.menu_trigger",function(){a(this).next("ul.menu").is(":hidden")?(EMD.util.clear_active(),a(this).addClass("active").next("ul.menu").show()):EMD.util.clear_active()});k.on("mouseenter","a.menu_trigger",function(){a("ul.menu").is(":visible")&&(EMD.util.clear_active(),a(this).addClass("active").next("ul.menu").show())});k.on("mousedown","a.icon",
function(){EMD.util.clear_active();a(this).addClass("active")});k.on("dblclick","a.icon",function(){var b=a(this).attr("href"),k=a(b).find("a").attr("href");a(b).is(":hidden")&&(a(b).remove().appendTo("#dock"),a(b).show("fast"));EMD.util.window_flat();a(k).addClass("window_stack").show()});k.on("mouseenter","a.icon",function(){a(this).off("mouseenter").draggable({revert:!0,containment:"parent"})});k.on("click","#dock a",function(){var b=a(a(this).attr("href"));b.is(":visible")?EMD.util.window_hide(b):
EMD.util.window_show(b)});k.on("mousedown","div.window",function(){EMD.util.window_flat();a(this).addClass("window_stack")});k.on("mouseenter","div.window",function(){a(this).off("mouseenter").draggable({cancel:"a",containment:"parent",handle:"div.window_top",start:function(a,b){EMD.dragging=!0;EMD.drag_handle=this},drag:function(a,b){EMD.drag_ui=b},stop:function(a,b){EMD.dragging=!1;EMD.drag_ui=b;EMD.drag_handle=null}}).resizable({containment:"parent",minWidth:400,minHeight:200,start:function(a,
b){EMD.dragging=!0;EMD.drag_handle=this},stop:function(a,b){EMD.dragging=!1;EMD.drag_ui=b;EMD.drag_handle=null}})});k.on("dblclick","div.window_top",function(){EMD.util.window_resize(a(this).closest("div.window"))});k.on("dblclick","div.window_top img",function(){a(a(this).closest("div.window_top").find("a.window_close").attr("href")).hide("fast");a(this).closest("div.window").hide();return!1});k.on("click","a.window_min",function(){EMD.util.window_hide(a(a(this).attr("href")))});k.on("click","a.window_resize",
function(){EMD.util.window_resize(a(a(this).attr("href")))});k.on("click","a.window_close",function(){EMD.util.window_close(a(a(this).attr("href")))});k.on("mousedown","#show_desktop",function(){a("div.window:visible").length?a("div.window").hide():a("#dock li:visible a").each(function(){a(a(this).attr("href")).show()})});a("table.data").each(function(){a(this).find("tbody tr:odd").addClass("zebra")});k.on("mousedown","table.data tr",function(){EMD.util.clear_active();a(this).closest("tr").addClass("active")});
k.on("mouseenter","#cat_menu",function(){a(this).addClass("showCategoryMenu",1E3)});k.on("mouseout","#cat_menu",function(){setTimeout(function(){a(this).removeClass("showCategoryMenu",1E3)})})},wallpaper:function(){a("#desktop")},map_init:function(){initExtent=new OpenLayers.Bounds("-20037508.34","-20037508.34","20037508.34","20037508.34");var b=new OpenLayers.Style;b.addRules([new OpenLayers.Rule({symbolizer:{Point:{pointRadius:4,graphicName:"square",fillColor:"white",fillOpacity:1,strokeWidth:1,
strokeOpacity:1,strokeColor:"#333333"},Line:{strokeWidth:3,strokeOpacity:1,strokeColor:"#800080"},Polygon:{fill:null,strokeWidth:3,strokeOpacity:1,strokeColor:"#800080"}}})]);var l=new OpenLayers.StyleMap({"default":b});EMD.map=new OpenLayers.Map("desktop",{div:"desktop",projection:new OpenLayers.Projection("EPSG:900913"),displayProjection:new OpenLayers.Projection("EPSG:5186"),units:"m",numZoomLevels:22,maxResolution:"auto",allOverlays:!0,maxExtent:initExtent,theme:EMD.context_root+"/css/theme/ygpa/style.css"});
var g=new EMD.gis.OpenLayersVworld("\ubc30\uacbd\uc9c0\ub3c4",{isBaseLayer:!0,displayInLayerSwitcher:!1,maxExtent:initExtent,type:"png",numZoomLevels:19,zoomOffset:3,baseurl:EMD.map_base_url,projection:new OpenLayers.Projection("EPSG:900913")});OpenLayers.Util.getParameters(c.location.href);$DEBUG&&(b={url:"http://map.vworld.kr/js/wfs.do?APIKEY="+EMD.vworldKey+"&domain="+EMD.serverUrl,params:{request:"GetFeature",service:"wfs",version:"1.1.0",typeName:"LP_PA_CBND_BUBUN",srsName:"EPSG:900913"},format:new OpenLayers.Format.GML({geometryName:"AG_GEOM"})},
EMD.lotareaProtocol=new OpenLayers.Protocol.HTTP(b),EMD.lotarea=new OpenLayers.Layer.Vector("\uc9c0\ubc88",{minScale:5E3,strategies:[new OpenLayers.Strategy.BBOX({ratio:1})],projection:new OpenLayers.Projection("EPSG:900913"),protocol:EMD.lotareaProtocol,styleMap:new OpenLayers.StyleMap({"default":{strokeColor:"#000000",strokeOpacity:1,strokeWidth:1,fillColor:"#FBFF9A",fillOpacity:0.5,pointRadius:6,pointerEvents:"visiblePainted",label:"${JIBUN}",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",
fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"white",labelOutlineWidth:3},select:{strokeColor:"#00FF00",strokeOpacity:1,strokeWidth:3,fillColor:"#E92FFF",fillOpacity:1,pointRadius:6,pointerEvents:"visiblePainted",label:"${JIBUN}",fontColor:"white",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"black",labelOutlineWidth:3}})}),EMD.lotarea.events.register("featuresadded",
null,function(a){if(EMD.startLogLotarea)for(var b=new OpenLayers.Projection("EPSG:900913"),k=0;k<a.features.length;k++){var l=a.features[k].geometry.clone().transform(b,EMD.map.getProjection()),l=new OpenLayers.Feature.Vector(l,a.features[k].attributes);l.state=OpenLayers.State.INSERT;EMD.lotareaStackCnt++;EMD.protocols.landCode.read({filter:new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PNU",value:l.attributes.PNU}),data:{feature:l},callback:function(a){EMD.lotareaStackCnt--;
if(a.error)return 0;if(a.features.length==d||0===a.features.length){var b=new OpenLayers.Feature;b.geometry=a.data.feature.geometry.clone();b.attributes=a.data.feature.attributes;EMD.protocols.landCode.create(b);b.state=OpenLayers.State.INSERT;var k=a.data.feature.geometry;b.geometry=k.transform(EMD.lotarea.projection,EMD.userLayer.landCode.projection);EMD.lotareaFeatures[EMD.lotareaFeatures.length]=b;b=new OpenLayers.Feature;b.geometry=k.transform(EMD.lotarea.projection,EMD.map.getProjection());
b.attributes=a.data.feature.attributes;EMD.userLayer.landCode.addFeatures([b]);EMD.userLayer.landCode.redraw()}0==EMD.lotareaStackCnt&&alert("stack cleared. "+EMD.lotareaFeatures.length+" count lotarea saved.")}}).data={feature:l}}}),EMD.lotarea.events.register("beforefeatureselected",null,function(a){EMD.selectControl.unselectAll();null!=EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),EMD.popup.lotAreaInfo.destroy(),EMD.popup.lotAreaInfo=null)}),EMD.lotarea.events.register("featureselected",
null,function(b){var k=b.feature;EMD.gis.getBupjungDongNm(b.feature.attributes.PNU.substring(0,10),{feature:k},function(b){null!=b.feature&&null!=b.feature.geometry||alert("\uc120\ud0dd\ub41c \uc9c0\ubc88\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.");var d=b.resultList[0].name,l="<h2 class='infoClass'>\uc9c0\ubc88 \uc815\ubcf4</h2><div style='font-size:.9em'><br>\uc8fc\uc18c : "+d+" "+b.feature.attributes.JIBUN;EMD.user.hasAuth("ROLE_ADMIN,ROLE_ASSET_MNGT")&&(l+="<br /><br /><button id='addLotcodeToAsset' data-role='frmwrkButton' data-id='"+
b.feature.id+"' >\uc790\uc0b0\uc73c\ub85c \ub4f1\ub85d</button>");l+="</div>";b=new OpenLayers.Popup.FramedCloud("popup",b.feature.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,150),l,null,!0);null!=EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),EMD.popup.lotAreaInfo.destroy());EMD.popup.lotAreaInfo=b;EMD.map.addPopup(b);a("#addLotcodeToAsset").button({icons:{primary:"ui-icon-plus"},text:!0}).click({feature:k},function(a){var b=new OpenLayers.Projection("EPSG:5186"),
b=a.data.feature.geometry.clone().transform(a.data.feature.layer.projection,b),k={PRT_CD:"",ASSETS_CD:"",ASSETS_SCD:"",ASSETS_NM:d,AR:"",BJD_CODE:""},k=a.data.feature.attributes;a=new OpenLayers.Feature.Vector(b,k);EMD.layers.gisAssetsCd.addFeatures(a);EMD.layers.gisAssetsCd.redraw();EMD.protocols.gisAssetsCd.create(a);EMD.protocols.gisAssetsCd.commit([a],{callback:function(a){if(a.error)return-1}})})})}),EMD.lotarea.events.register("featureunselected",null,function(a){null!=EMD.popup.lotAreaInfo&&
(EMD.map.removePopup(EMD.popup.lotAreaInfo),EMD.popup.lotAreaInfo.destroy(),EMD.popup.lotAreaInfo=null)}));EMD.userLayer.custLand=new OpenLayers.Layer.Vector("\uc9c0\ub3c4",{minScale:9E4,displayInLayerSwitcher:!1,strategies:[new OpenLayers.Strategy.BBOX({ratio:1})],projection:new OpenLayers.Projection("EPSG:5186"),protocol:new OpenLayers.Protocol.WFS({version:"1.1.0",service:"WFS",url:EMD.gis_engine_url,featureNS:"http://geogate.g-inno.com/dataserver/datahouse",featurePrefix:"datahouse",featureType:"YGPA_LAND",
srsName:"EPSG:5186",geometryName:"G2_SPATIAL"}),styleMap:new OpenLayers.StyleMap({"default":{strokeWidth:0,fillColor:"#F5F1EF",fillOpacity:1}})});EMD.userLayer.wharfNm=new OpenLayers.Layer.Vector("\ubd80\ub450\uba85",{minScale:9E4,displayInLayerSwitcher:!1,strategies:[new OpenLayers.Strategy.BBOX({ratio:1})],projection:new OpenLayers.Projection("EPSG:5186"),protocol:new OpenLayers.Protocol.WFS({version:"1.1.0",service:"WFS",url:EMD.gis_engine_url,featureNS:"http://geogate.g-inno.com/dataserver/datahouse",
featurePrefix:"datahouse",featureType:"WHARF_NM",srsName:"EPSG:5186",geometryName:"G2_SPATIAL"}),styleMap:new OpenLayers.StyleMap({"default":{strokeColor:"#00FF00",strokeOpacity:1,strokeWidth:3,fillColor:"#FF5500",fillOpacity:0.5,label:"${TEXT}",fontColor:"blue",fontSize:"12px",fontFamily:"Nanum Gothic",fontWeight:"bold",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3}})});EMD.userLayer.fcltyNm=new OpenLayers.Layer.Vector("\uc2dc\uc124\uba85",{minScale:1E4,displayInLayerSwitcher:!1,
strategies:[new OpenLayers.Strategy.BBOX({ratio:1})],projection:new OpenLayers.Projection("EPSG:5186"),protocol:new OpenLayers.Protocol.WFS({version:"1.1.0",service:"WFS",url:EMD.gis_engine_url,featureNS:"http://geogate.g-inno.com/dataserver/datahouse",featurePrefix:"datahouse",featureType:"FCLTY_NM",srsName:"EPSG:5186",geometryName:"G2_SPATIAL"}),styleMap:new OpenLayers.StyleMap({"default":{strokeColor:"#00FF00",strokeOpacity:1,strokeWidth:3,fillColor:"#FF5500",fillOpacity:0.5,label:"${Text}",fontColor:"white",
fontSize:"12px",fontFamily:"Nanum Gothic",fontWeight:"bold",labelAlign:"cm",labelOutlineColor:"black",labelOutlineWidth:3}})});EMD.protocols.landCode=new OpenLayers.Protocol.WFS({version:"1.1.0",service:"WFS",url:EMD.gis_engine_url,featureNS:"http://geogate.g-inno.com/dataserver/datahouse",featurePrefix:"datahouse",featureType:"LP_PA_CBND_BUBUN_A",srsName:"EPSG:5186",geometryName:"G2_SPATIAL"});EMD.protocols.gisAssetsCd=new OpenLayers.Protocol.WFS({version:"1.1.0",service:"WFS",url:EMD.gis_engine_url,
featureNS:"http://geogate.g-inno.com/dataserver/datahouse",featurePrefix:"datahouse",featureType:"GIS_ASSETS_CD_E",srsName:"EPSG:5186",geometryName:"G2_SPATIAL"});EMD.protocols.locArea=new OpenLayers.Protocol.WFS({version:"1.1.0",service:"WFS",url:EMD.gis_engine_url,featureNS:"http://geogate.g-inno.com/dataserver/datahouse",featurePrefix:"datahouse",featureType:"LOC_AREA_E",srsName:"EPSG:5186",geometryName:"G2_SPATIAL"});EMD.protocols.assetsRent=new OpenLayers.Protocol.WFS({version:"1.1.0",service:"WFS",
url:EMD.gis_engine_url,featureNS:"http://geogate.g-inno.com/dataserver/datahouse",featurePrefix:"datahouse",featureType:"ASSETS_RENT_F_A",srsName:"EPSG:5186",geometryName:"G2_SPATIAL"});EMD.protocols.assetsRentDetail=new OpenLayers.Protocol.WFS({version:"1.1.0",service:"WFS",url:EMD.gis_engine_url,featureNS:"http://geogate.g-inno.com/dataserver/datahouse",featurePrefix:"datahouse",featureType:"ASSETS_RENT_DETAIL_F",srsName:"EPSG:5186",geometryName:"G2_SPATIAL"});EMD.protocols.gisPrtFcltyCd=new OpenLayers.Protocol.WFS.v1_1_0({version:"1.1.0",
service:"WFS",url:EMD.gis_engine_url,featureNS:"http://geogate.g-inno.com/dataserver/datahouse",featurePrefix:"datahouse",featureType:"FCLTY_E",srsName:"EPSG:5186",geometryName:"G2_SPATIAL"});EMD.saveStrategy=new OpenLayers.Strategy.Save({auto:!0});EMD.userStyle.assetCdStyle["default"]={"default":{strokeColor:"#000000",strokeOpacity:1,strokeWidth:1,fillColor:"#303294",fillOpacity:0.5,pointRadius:6,pointerEvents:"visiblePainted",label:"${ASSETS_NM}",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",
fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"white",labelOutlineWidth:3},select:{strokeColor:"#00FF00",strokeOpacity:1,strokeWidth:3,fillColor:"#303294",fillOpacity:1,pointRadius:6,pointerEvents:"visiblePainted",label:"${ASSETS_NM}",fontColor:"white",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"black",labelOutlineWidth:3},modify:{strokeColor:"#ff0000",fillColor:"#ff0000",
strokeOpacity:1,strokeWidth:2,pointRadius:3,graphicName:"cross"}};EMD.userStyle.assetCdStyle.evlDtls={"default":{strokeColor:"#000000",strokeOpacity:1,strokeWidth:1,fillColor:"#73D7CF",fillOpacity:0.8,pointRadius:6,pointerEvents:"visiblePainted",label:"\uc790\uc0b0\uba85:${ASSETS_NM}\n\uc790\ubcf8\uc801\uc9c0\ucd9c\uae08\uc561:${assetBuyAmt}\n\uc794\uc874\uae08\uc561:${curAmt}",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",
labelYOffset:"2px",labelOutlineColor:"white",labelOutlineWidth:3},select:{strokeColor:"#76750A",strokeOpacity:1,strokeWidth:3,fillColor:"#8D1594",fillOpacity:1,pointRadius:6,pointerEvents:"visiblePainted",label:"\uc790\uc0b0\uba85:${ASSETS_NM}\n\uc790\ubcf8\uc801\uc9c0\ucd9c\uae08\uc561:${assetBuyAmt}\n\uc794\uc874\uae08\uc561:${curAmt}",fontColor:"white",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"black",
labelOutlineWidth:3}};EMD.userLayer.landCode=new OpenLayers.Layer.Vector("\uc9c0\ubc88",{minScale:9E3,strategies:[new OpenLayers.Strategy.BBOX({ratio:1})],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.landCode,styleMap:new OpenLayers.StyleMap({"default":{strokeColor:"#000000",strokeOpacity:1,strokeWidth:1,fillColor:"#FBFF9A",fillOpacity:0.5,pointRadius:6,pointerEvents:"visiblePainted",label:"[${JIBUN}]",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",
fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"white",labelOutlineWidth:3},select:{strokeColor:"#00FF00",strokeOpacity:1,strokeWidth:3,fillColor:"#E92FFF",fillOpacity:1,pointRadius:6,pointerEvents:"visiblePainted",label:"!${JIBUN}",fontColor:"white",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"black",labelOutlineWidth:3}})});EMD.protocols.landCode.layer=EMD.userLayer.landCode;
EMD.userLayer.landCode.events.register("beforefeatureselected",null,function(a){EMD.selectControl.unselectAll();null!=EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),EMD.popup.lotAreaInfo.destroy(),EMD.popup.lotAreaInfo=null)});EMD.userLayer.landCode.events.register("featureselected",null,function(b){var k=b.feature;EMD.gis.getBupjungDongNm(b.feature.attributes.PNU.substring(0,10),{feature:k},function(b){null!=b.feature&&null!=b.feature.geometry||alert("\uc120\ud0dd\ub41c \uc9c0\ubc88\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.");
var l="<h2 class='infoClass'>\uc9c0\ubc88 \uc815\ubcf4</h2><div style='font-size:.9em'><br>\uc8fc\uc18c : "+b.resultList[0].name+" "+b.feature.attributes.JIBUN;EMD.user.hasAuth("ROLE_ADMIN,ROLE_ASSET_MNGT")&&(l+="<br /><br /><button id='addLotcodeToAsset' data-role='frmwrkButton' data-id='"+b.feature.id+"' >\uc790\uc0b0\uc73c\ub85c \ub4f1\ub85d</button>");l+="</div>";b=new OpenLayers.Popup.FramedCloud("popup",b.feature.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,150),l,null,!0);null!=
EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),EMD.popup.lotAreaInfo.destroy());EMD.popup.lotAreaInfo=b;EMD.map.addPopup(b);a("#addLotcodeToAsset").button({icons:{primary:"ui-icon-plus"},text:!0}).click({feature:k},function(b){var k=new OpenLayers.Projection("EPSG:900913"),l=new OpenLayers.Projection("EPSG:5186"),c=b.data.feature.geometry.clone(),k=c.transform(k,l);b=new OpenLayers.Feature.Vector(k,{PRT_CD:"",ASSETS_CD:"",ASSETS_SCD:"",ASSETS_NM:"\ubbf8\uc815\uc758",AR:"",BJD_CODE:b.data.feature.attributes.PNU});
EMD.protocols.gisAssetsCd.create(b);b.state=OpenLayers.State.INSERT;EMD.protocols.gisAssetsCd.commit([b],{callback:function(b){if(b.error)return-1;var k=new OpenLayers.Projection("EPSG:5186");EMD.selectControl.unselectAll();b.reqFeatures.length!=d?a.each(b.reqFeatures,function(){var a=this.geometry;this.state="";this.geometry=a.transform(k,EMD.map.getProjection())}):(b.reqFeatures.geometry=c.transform(k,EMD.map.getProjection()),b.reqFeatures.state="");EMD.userLayer.gisAssetsCd.addFeatures(b.reqFeatures);
EMD.userLayer.gisAssetsCd.redraw()}})})})});EMD.userLayer.landCode.events.register("featureunselected",null,function(a){null!=EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),EMD.popup.lotAreaInfo.destroy(),EMD.popup.lotAreaInfo=null)});EMD.userLayer.locArea=new OpenLayers.Layer.Vector("\uc704\uce58",{minScale:81E3,minScale:3E3,strategies:[new OpenLayers.Strategy.Fixed],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.locArea,displayInLayerSwitcher:!1,styleMap:new OpenLayers.StyleMap({"default":{strokeColor:"#FFFFFF",
strokeOpacity:1,strokeWidth:1,fillColor:"#45CEC9",fillOpacity:0.5,pointRadius:6,pointerEvents:"visiblePainted",label:"[${LOC_NM}]",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"white",labelOutlineWidth:3},select:{strokeColor:"#000000",strokeOpacity:1,strokeWidth:3,fillColor:"#E92FFF",fillOpacity:1,pointRadius:6,pointerEvents:"visiblePainted",label:"!${LOC_NM}",fontColor:"white",fontSize:"12px",
fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"black",labelOutlineWidth:3}},{extendDefault:!1})});EMD.protocols.locArea.layer=EMD.userLayer.locArea;EMD.userLayer.locArea.events.register("featureselected",null,function(a){});EMD.userLayer.locArea.events.register("featureunselected",null,function(a){});EMD.userLayer.gisAssetsCd=new OpenLayers.Layer.Vector("\uc790\uc0b0\uc815\ubcf4",{minScale:1E4,strategies:[new OpenLayers.Strategy.Fixed,
EMD.saveStrategy],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.gisAssetsCd,styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetCdStyle["default"],{extendDefault:!1})});EMD.protocols.gisAssetsCd.layer=EMD.userLayer.gisAssetsCd;EMD.userLayer.gisAssetsCd.events.register("featuresadded",null,function(a){});EMD.userLayer.gisAssetsCd.events.register("featureselected",null,function(a){EMD.gis.openPopup(a.feature,"/maps/assets/gamAssetCdInfo.do",[{name:"gisAssetsPrtAtCode",value:a.feature.attributes.PRT_CD},
{name:"gisAssetsCd",value:a.feature.attributes.ASSETS_CD},{name:"gisAssetsSubCd",value:a.feature.attributes.ASSETS_SCD},{name:"bjdCode",value:a.feature.attributes.BJD_CODE},{name:"ar",value:a.feature.attributes.AR}])});EMD.userLayer.gisAssetsCd.events.register("featureunselected",null,function(a){a=a.feature;null!=a.popup&&(EMD.map.removePopup(a.popup),a.popup.destroy(),a.popup=null)});var h=new OpenLayers.Rule({filter:new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"FCLTY_SE",
value:"A"}),symbolizer:{Point:{pointRadius:10,externalGraphic:EMD.context_root+"/images/egovframework/ygpa/gam/maps/map_icon/icon_${FCLTY_CD}.png",graphicWidth:32,graphicHeight:37,fillColor:"red",fillOpacity:1,strokeWidth:1,strokeOpacity:1,strokeColor:"#333333",label:"${FCLTY_NM}",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"16px",labelOutlineColor:"white",labelOutlineWidth:3},Line:{strokeWidth:3,strokeOpacity:1,
strokeColor:"#800080",label:"${FCLTY_NM}",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"16px",labelOutlineColor:"white",labelOutlineWidth:3},Polygon:{fillColor:"#45CEC9",fillOpacity:0.5,strokeWidth:1,strokeOpacity:1,strokeColor:"#800080",label:"${FCLTY_NM}",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"16px",labelOutlineColor:"white",
labelOutlineWidth:3}}}),p=new OpenLayers.Rule({filter:new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"FCLTY_SE",value:"M"}),symbolizer:{Point:{pointRadius:10,externalGraphic:EMD.context_root+"/images/egovframework/ygpa/gam/maps/map_icon/icon_${FCLTY_CD}.png",graphicWidth:32,graphicHeight:37,fillColor:"red",fillOpacity:1,strokeWidth:1,strokeOpacity:1,strokeColor:"#333333",label:"${FCLTY_NM}",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",
fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"16px",labelOutlineColor:"white",labelOutlineWidth:3},Line:{strokeWidth:3,strokeOpacity:1,strokeColor:"#800080",label:"${FCLTY_NM}",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"16px",labelOutlineColor:"white",labelOutlineWidth:3},Polygon:{fillColor:"#45CEC9",fillOpacity:0.5,strokeWidth:3,strokeOpacity:1,strokeColor:"#800080",label:"${FCLTY_NM}",
fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"16px",labelOutlineColor:"white",labelOutlineWidth:3}}}),m=new OpenLayers.Rule({filter:new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"FCLTY_SE",value:"E"}),symbolizer:{Point:{strokeColor:"#333333",strokeOpacity:1,strokeWidth:1,fillColor:"red",fillOpacity:1,pointRadius:10,externalGraphic:EMD.context_root+"/images/egovframework/ygpa/gam/maps/map_icon/icon_${FCLTY_CD}.png",
graphicWidth:32,graphicHeight:37,graphicXOffset:-16,graphicYOffset:-37,label:"${FCLTY_NM}",fontColor:"blue",fontSize:"12px",fontFamily:"Nanum Gothic",fontWeight:"thin",labelAlign:"ct",labelXOffset:0,labelYOffset:-3,labelOutlineColor:"white",labelOutlineWidth:3},Line:{strokeWidth:3,strokeOpacity:1,strokeColor:"#800080",label:"${FCLTY_NM}",fontColor:"black",fontSize:"12px",fontFamily:"Nanum Gothic",fontWeight:"thin",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"16px",labelOutlineColor:"white",labelOutlineWidth:3},
Polygon:{fillColor:"#45CEC9",fillOpacity:0.5,strokeWidth:3,strokeOpacity:1,strokeColor:"#800080",label:"${FCLTY_NM}",fontColor:"black",fontSize:"12px",fontFamily:"Nanum Gothic",fontWeight:"thin",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"16px",labelOutlineColor:"white",labelOutlineWidth:3}}}),q=new OpenLayers.Rule({filter:new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"FCLTY_SE",
value:"E"}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"FCLTY_CD",value:"E6"})]}),symbolizer:{Point:{pointRadius:10,externalGraphic:EMD.context_root+"/images/egovframework/ygpa/gam/maps/map_icon/icon_${FCLTY_CD}.png",graphicWidth:32,graphicHeight:37,graphicXOffset:-16,graphicYOffset:-37,fillColor:"red",fillOpacity:1,strokeWidth:1,strokeOpacity:1,strokeColor:"#333333",label:"${FCLTY_NM}",fontColor:"green",fontSize:"12px",fontFamily:"Nanum Gothic",fontWeight:"thin",
labelAlign:"cb",labelAlign:"ct",labelXOffset:0,labelYOffset:-3,labelOutlineColor:"white",labelOutlineWidth:3},Line:{strokeWidth:3,strokeOpacity:1,strokeColor:"#800080",label:"${FCLTY_NM}",fontColor:"green",fontSize:"12px",fontFamily:"Nanum Gothic",fontWeight:"thin",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"16px",labelOutlineColor:"white",labelOutlineWidth:3},Polygon:{fillColor:"#45CEC9",fillOpacity:0.5,strokeWidth:3,strokeOpacity:1,strokeColor:"#800080",label:"${FCLTY_NM}",fontColor:"green",
fontSize:"12px",fontFamily:"Nanum Gothic",fontWeight:"thin",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"16px",labelOutlineColor:"white",labelOutlineWidth:3}}});new OpenLayers.Rule({filter:new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"FCLTY_SE",value:"E"}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"FCLTY_CD",value:"E3"})]}),symbolizer:{Point:{pointRadius:10,
externalGraphic:EMD.context_root+"/images/egovframework/ygpa/gam/maps/map_icon/icon_E3.png",graphicWidth:32,graphicHeight:37,graphicXOffset:-16,graphicYOffset:-37,fillColor:"red",fillOpacity:1,strokeWidth:1,strokeOpacity:1,strokeColor:"#333333",label:"${FCLTY_NM}",fontColor:"green",fontSize:"12px",fontFamily:"Nanum Gothic",fontWeight:"thin",labelAlign:"cb",labelAlign:"cm",labelXOffset:0,labelYOffset:-3,labelOutlineColor:"white",labelOutlineWidth:3},Line:{pointRadius:10,externalGraphic:EMD.context_root+
"/images/egovframework/ygpa/gam/maps/map_icon/icon_E3.png",graphicWidth:32,graphicHeight:37,graphicXOffset:-16,graphicYOffset:-37,fillColor:"red",fillOpacity:1,strokeWidth:3,strokeOpacity:1,strokeColor:"#333333",strokeLinecap:"round",strokeDashstyle:"dashdot",label:"${FCLTY_NM}",fontColor:"black",fontSize:"14px",fontFamily:"Nanum Gothic",fontWeight:"bold",labelAlign:"cb",labelAlign:"cm",labelXOffset:0,labelYOffset:-3,labelOutlineColor:"white",labelOutlineWidth:3},Polygon:{fillColor:"#45CEC9",fillOpacity:0.5,
strokeWidth:3,strokeOpacity:1,strokeColor:"#800080",label:"${FCLTY_NM}",fontColor:"green",fontSize:"12px",fontFamily:"Nanum Gothic",fontWeight:"thin",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"16px",labelOutlineColor:"white",labelOutlineWidth:3}}});var b=new OpenLayers.Rule({filter:new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"FCLTY_SE",value:"C"}),symbolizer:{Point:{pointRadius:10,externalGraphic:EMD.context_root+"/images/egovframework/ygpa/gam/maps/map_icon/icon_${FCLTY_CD}.png",
graphicWidth:32,graphicHeight:37,fillColor:"red",fillOpacity:1,strokeWidth:1,strokeOpacity:1,strokeColor:"#333333"},Line:{strokeWidth:3,strokeOpacity:1,strokeColor:"#800080"},Polygon:{fillColor:"#45CEC9",fillOpacity:0.5,strokeWidth:3,strokeOpacity:1,strokeColor:"#800080"}}}),r=new OpenLayers.Rule({filter:new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"FCLTY_SE",value:"I"}),symbolizer:{Point:{pointRadius:10,externalGraphic:EMD.context_root+"/images/egovframework/ygpa/gam/maps/map_icon/icon_${FCLTY_CD}.png",
graphicWidth:32,graphicHeight:37,fillColor:"red",fillOpacity:1,strokeWidth:1,strokeOpacity:1,strokeColor:"#333333"},Line:{strokeWidth:3,strokeOpacity:1,strokeColor:"#800080"},Polygon:{fillColor:"#45CEC9",fillOpacity:0.5,strokeWidth:3,strokeOpacity:1,strokeColor:"#800080"}}}),t=new OpenLayers.Rule({filter:new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"FCLTY_SE",value:"E"}),symbolizer:{Point:{pointRadius:10,externalGraphic:EMD.context_root+"/images/egovframework/ygpa/gam/maps/map_icon/icon_${FCLTY_CD}.png",
graphicWidth:32,graphicHeight:37,fillColor:"red",fillOpacity:1,strokeWidth:1,strokeOpacity:1,strokeColor:"#333333"},Line:{strokeWidth:3,strokeOpacity:1,strokeColor:"#800080"},Polygon:{fillColor:"#45CEC9",fillOpacity:0.5,strokeWidth:1,strokeOpacity:1,strokeColor:"#800080"}}});(new OpenLayers.Style).addRules([t]);t=new OpenLayers.Strategy.Filter({filter:new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"FCLTY_SE",value:"A"})});t.deactivate();var u=new OpenLayers.Style;
u.addRules([h]);EMD.userLayer.gisArchFclty=new OpenLayers.Layer.Vector("\uac74\ucd95 \uc2dc\uc124 \uc815\ubcf4",{minScale:9E3,strategies:[t,new OpenLayers.Strategy.Fixed],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.gisPrtFcltyCd,styleMap:new OpenLayers.StyleMap({"default":u})});EMD.userLayer.gisArchFclty.events.register("featuresadded",null,function(a){});EMD.userLayer.gisArchFclty.events.register("beforefeatureselected",null,function(a){EMD.selectControl.unselectAll();
null!=EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),EMD.popup.lotAreaInfo.destroy(),EMD.popup.lotAreaInfo=null)});EMD.userLayer.gisArchFclty.events.register("featureselected",null,function(a){EMD.gis.openPopup(a.feature,"/maps/assets/gamArchFcltyInfo.do",[{name:"gisAssetsPrtAtCode",value:a.feature.attributes.PRT_CD},{name:"gisAssetsCd",value:a.feature.attributes.ASSETS_CD},{name:"gisAssetsSubCd",value:a.feature.attributes.ASSETS_SCD},{name:"gisPrtFcltyCd",value:a.feature.attributes.FCLTY_CD},
{name:"gisPrtFcltySeq",value:a.feature.attributes.FCLTY_SEQ},{name:"gisPrtFcltySe",value:a.feature.attributes.FCLTY_SE}])});EMD.userLayer.gisArchFclty.events.register("featureunselected",null,function(a){a=a.feature;null!=a.popup&&(EMD.map.removePopup(a.popup),a.popup.destroy(),a.popup=null)});h=new OpenLayers.Strategy.Filter({filter:new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"FCLTY_SE",value:"M"})});h.deactivate();gisMechFcltyStyle=new OpenLayers.Style;
gisMechFcltyStyle.addRules([p]);EMD.userLayer.gisMechFclty=new OpenLayers.Layer.Vector("\uae30\uacc4 \uc2dc\uc124 \uc815\ubcf4",{minScale:9E3,strategies:[h,new OpenLayers.Strategy.Fixed],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.gisPrtFcltyCd,styleMap:new OpenLayers.StyleMap({"default":gisMechFcltyStyle})});EMD.userLayer.gisMechFclty.events.register("featuresadded",null,function(a){});EMD.userLayer.gisMechFclty.events.register("beforefeatureselected",null,function(a){EMD.selectControl.unselectAll();
null!=EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),EMD.popup.lotAreaInfo.destroy(),EMD.popup.lotAreaInfo=null)});EMD.userLayer.gisMechFclty.events.register("featureselected",null,function(a){EMD.gis.openPopup(a.feature,"/maps/assets/gamPrtFcltyCdInfo.do",[{name:"gisAssetsPrtAtCode",value:a.feature.attributes.PRT_AT_CD},{name:"gisAssetsCd",value:a.feature.attributes.ASSETS_CD},{name:"gisAssetsSubCd",value:a.feature.attributes.ASSETS_SCD},{name:"gisFcltyCd",value:a.feature.attributes.FCLTY_CD},
{name:"gisFcltySubCd",value:a.feature.attributes.FCLTY_SCD},{name:"gisFcltySe",value:a.feature.attributes.FCLTY_SE}])});EMD.userLayer.gisMechFclty.events.register("featureunselected",null,function(a){a=a.feature;null!=a.popup&&(EMD.map.removePopup(a.popup),a.popup.destroy(),a.popup=null)});p=new OpenLayers.Strategy.Filter({filter:new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"FCLTY_SE",value:"A"})});p.deactivate();h=new OpenLayers.Style;h.addRules([r]);EMD.userLayer.gisITFclty=
new OpenLayers.Layer.Vector("\uc815\ubcf4\ud1b5\uc2e0 \uc2dc\uc124 \uc815\ubcf4",{minScale:9E3,strategies:[p,new OpenLayers.Strategy.Fixed],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.gisPrtFcltyCd,styleMap:new OpenLayers.StyleMap({"default":h})});EMD.userLayer.gisITFclty.events.register("featuresadded",null,function(a){});EMD.userLayer.gisITFclty.events.register("beforefeatureselected",null,function(a){EMD.selectControl.unselectAll();null!=EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),
EMD.popup.lotAreaInfo.destroy(),EMD.popup.lotAreaInfo=null)});EMD.userLayer.gisITFclty.events.register("featureselected",null,function(a){EMD.gis.openPopup(a.feature,"/maps/assets/gamPrtFcltyCdInfo.do",[{name:"gisAssetsPrtAtCode",value:a.feature.attributes.PRT_AT_CD},{name:"gisAssetsCd",value:a.feature.attributes.ASSETS_CD},{name:"gisAssetsSubCd",value:a.feature.attributes.ASSETS_SCD},{name:"gisFcltyCd",value:a.feature.attributes.FCLTY_CD},{name:"gisFcltySubCd",value:a.feature.attributes.FCLTY_SCD},
{name:"gisFcltySe",value:a.feature.attributes.FCLTY_SE}])});EMD.userLayer.gisITFclty.events.register("featureunselected",null,function(a){a=a.feature;null!=a.popup&&(EMD.map.removePopup(a.popup),a.popup.destroy(),a.popup=null)});r=new OpenLayers.Strategy.Filter({filter:new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"FCLTY_SE",value:"E"})});r.deactivate();p=new OpenLayers.Style;p.addRules([m,q]);EMD.userLayer.gisElecFclty=new OpenLayers.Layer.Vector("\uc804\uae30 \uc2dc\uc124 \uc815\ubcf4",
{minScale:9E3,strategies:[r,new OpenLayers.Strategy.Fixed],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.gisPrtFcltyCd,styleMap:new OpenLayers.StyleMap({"default":p})});EMD.userLayer.gisElecFclty.events.register("featuresadded",null,function(a){});EMD.userLayer.gisElecFclty.events.register("beforefeatureselected",null,function(a){EMD.selectControl.unselectAll();null!=EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),EMD.popup.lotAreaInfo.destroy(),EMD.popup.lotAreaInfo=
null)});EMD.userLayer.gisElecFclty.events.register("featureselected",null,function(a){EMD.gis.openPopup(a.feature,"/maps/assets/gamPrtFcltyCdInfo.do",[{name:"gisAssetsPrtAtCode",value:a.feature.attributes.PRT_AT_CD},{name:"gisAssetsCd",value:a.feature.attributes.ASSETS_CD},{name:"gisAssetsSubCd",value:a.feature.attributes.ASSETS_SCD},{name:"gisFcltyCd",value:a.feature.attributes.FCLTY_CD},{name:"gisFcltySubCd",value:a.feature.attributes.FCLTY_SCD},{name:"gisFcltySe",value:a.feature.attributes.FCLTY_SE}])});
EMD.userLayer.gisElecFclty.events.register("featureunselected",null,function(a){a=a.feature;null!=a.popup&&(EMD.map.removePopup(a.popup),a.popup.destroy(),a.popup=null)});m=new OpenLayers.Strategy.Filter({filter:new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"FCLTY_SE",value:"C"})});m.deactivate();q=new OpenLayers.Style;q.addRules([b]);EMD.userLayer.gisCivilFclty=new OpenLayers.Layer.Vector("\ud1a0\ubaa9 \uc2dc\uc124 \uc815\ubcf4",{minScale:9E3,strategies:[m,
new OpenLayers.Strategy.Fixed],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.gisPrtFcltyCd,styleMap:new OpenLayers.StyleMap({"default":q})});EMD.userLayer.gisCivilFclty.events.register("featuresadded",null,function(a){});EMD.userLayer.gisCivilFclty.events.register("beforefeatureselected",null,function(a){EMD.selectControl.unselectAll();null!=EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),EMD.popup.lotAreaInfo.destroy(),EMD.popup.lotAreaInfo=null)});EMD.userLayer.gisCivilFclty.events.register("featureselected",
null,function(a){EMD.gis.openPopup(a.feature,"/maps/assets/gamPrtFcltyCdInfo.do",[{name:"gisAssetsPrtAtCode",value:a.feature.attributes.PRT_AT_CD},{name:"gisAssetsCd",value:a.feature.attributes.ASSETS_CD},{name:"gisAssetsSubCd",value:a.feature.attributes.ASSETS_SCD},{name:"gisFcltyCd",value:a.feature.attributes.FCLTY_CD},{name:"gisFcltySubCd",value:a.feature.attributes.FCLTY_SCD},{name:"gisFcltySe",value:a.feature.attributes.FCLTY_SE}])});EMD.userLayer.gisCivilFclty.events.register("featureunselected",
null,function(a){a=a.feature;null!=a.popup&&(EMD.map.removePopup(a.popup),a.popup.destroy(),a.popup=null)});EMD.userStyle.assetRentStyle["default"]={"default":{strokeColor:"#000000",strokeOpacity:1,strokeWidth:1,fillColor:"#6EBDA8",fillOpacity:0.5,pointRadius:6,pointerEvents:"visiblePainted",label:"\uad00\ub9ac\ubc88\ud638: ${MNG_YEAR}-${MNG_NO}-${MNG_CNT}\n${USAGE_PD_FROM}~${USAGE_PD_TO}",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",
labelYOffset:"2px",labelOutlineColor:"white",labelOutlineWidth:3},select:{strokeColor:"#00FF00",strokeOpacity:1,strokeWidth:3,fillColor:"#D5DD03",fillOpacity:1,pointRadius:6,pointerEvents:"visiblePainted",label:"\uad00\ub9ac\ubc88\ud638: ${MNG_YEAR}-${MNG_NO}-${MNG_CNT}\n${USAGE_PD_FROM}~${USAGE_PD_TO}",fontColor:"white",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"black",labelOutlineWidth:3}};EMD.userStyle.assetsRentDetailStyle["default"]=
{"default":{strokeColor:"#000000",strokeOpacity:1,strokeWidth:1,fillColor:"#6EBDA8",fillOpacity:0.5,pointRadius:6,pointerEvents:"visiblePainted",fontColor:"black",fontSize:"12px",fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"white",labelOutlineWidth:3},select:{strokeColor:"#00FF00",strokeOpacity:1,strokeWidth:3,fillColor:"#D5DD03",fillOpacity:1,pointRadius:6,pointerEvents:"visiblePainted",fontColor:"white",fontSize:"12px",
fontFamily:"Courier New, monospace",fontWeight:"bold",labelAlign:"cm",labelXOffset:"2px",labelYOffset:"2px",labelOutlineColor:"black",labelOutlineWidth:3}};EMD.strategies.assetsRent=new OpenLayers.Strategy.Refresh;EMD.userLayer.assetsRent=new OpenLayers.Layer.Vector("\uc784\ub300\uc815\ubcf4",{minScale:1E4,strategies:[EMD.strategies.assetsRent,EMD.saveStrategy],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.assetsRent,displayInLayerSwitcher:!1,styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetRentStyle["default"])});
EMD.protocols.assetsRent.layer=EMD.userLayer.assetsRent;EMD.userLayer.assetsRent.events.register("featuresadded",null,function(a){});EMD.userLayer.assetsRent.events.register("featureselected",null,function(b){var k=b.feature;a.post(EMD.context_root+"/maps/assets/gamAssetCdInfo.do",[{name:"gisAssetsPrtAtCode",value:b.feature.attributes.PRT_CD},{name:"gisAssetsCd",value:b.feature.attributes.ASSETS_CD},{name:"gisAssetsSubCd",value:b.feature.attributes.ASSETS_SCD}]).done(function(b){b=new OpenLayers.Popup.FramedCloud("popup",
k.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,150),b,null,!0);k.popup=b;EMD.map.addPopup(b);a("button[data-role='assetMngt']",b.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click(function(b){EMD.util.create_window(a(this).text(),"/code/assets/gamAssetCodeMngt.do",null,{action:"prtFcltyInqire",gisPrtAtCode:a(this).data("assets-prt-at-code"),gisAssetsCd:a(this).data("assets-cd"),gisAssetsSubCd:a(this).data("assets-sub-cd")})});a("button[data-role='assetInqire']",b.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(b){EMD.util.create_window(a(this).text(),
"/code/assets/gamAssetCodeList.do",null,{action:"prtFcltyInqire",gisPrtAtCode:a(this).data("assets-prt-at-code"),gisAssetsCd:a(this).data("assets-cd"),gisAssetsSubCd:a(this).data("assets-sub-cd")})});a("button[data-role='modifyFeature']",b.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click({feature:k},function(b){EMD.util.create_window(a(this).text(),"/code/assets/gamAssetCodeMngt.do",null,{action:"modifyFeature",gisPrtAtCode:a(this).data("assets-prt-at-code"),gisAssetsCd:a(this).data("assets-cd"),
gisAssetsSubCd:a(this).data("assets-sub-cd"),feature:b.data.feature})});a("button[data-role='removeFeature']",b.contentDiv).button({icons:{primary:"ui-icon-trash"}}).click({feature:k},function(a){EMD.map.removePopup(a.data.feature.popup);a.data.feature.state=OpenLayers.State.DELETE;EMD.userLayer.gisAssetsCd.removeFeatures([a.data.feature]);EMD.saveStrategy.save()});b.updateSize()})});EMD.userLayer.assetsRent.events.register("featureunselected",null,function(a){a=a.feature;null!=a.popup&&(EMD.map.removePopup(a.popup),
a.popup.destroy(),a.popup=null)});EMD.userLayer.assetsRentDetail=new OpenLayers.Layer.Vector("\uc2dc\uc124\uc784\ub300\uc0c1\uc138",{minScale:2E4,strategies:[EMD.strategies.assetsRent,EMD.saveStrategy],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.assetsRentDetail,displayInLayerSwitcher:!1,styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetsRentDetailStyle["default"])});EMD.protocols.assetsRentDetail.layer=EMD.userLayer.assetsRentDetail;EMD.userLayer.assetsRentDetail.events.register("featuresadded",
null,function(a){});EMD.userLayer.assetsRentDetail.events.register("featureselected",null,function(b){EMD.gis.openPopup(b.feature,"/maps/assets/gamMNGInfo.do",[{name:"prtAtCode",value:b.feature.attributes.PRT_AT_CD},{name:"mngYear",value:b.feature.attributes.MNG_YEAR},{name:"mngNo",value:b.feature.attributes.MNG_NO},{name:"mngCnt",value:b.feature.attributes.MNG_CNT}],function(b){b=b.popup;a("button[data-role='assetMngt']",b.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click(function(b){EMD.util.create_window(a(this).text(),
"/code/assets/gamAssetCodeMngt.do",null,{action:"prtFcltyInqire",gisPrtAtCode:a(this).data("assets-prt-at-code"),gisAssetsCd:a(this).data("assets-cd"),gisAssetsSubCd:a(this).data("assets-sub-cd")})});a("button[data-role='assetInqire']",b.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(b){EMD.util.create_window(a(this).text(),"/code/assets/gamAssetCodeList.do",null,{action:"prtFcltyInqire",gisPrtAtCode:a(this).data("assets-prt-at-code"),gisAssetsCd:a(this).data("assets-cd"),
gisAssetsSubCd:a(this).data("assets-sub-cd")})});b.updateSize()})});EMD.userLayer.assetsRentDetail.events.register("featureunselected",null,function(a){a=a.feature;null!=a.popup&&(EMD.map.removePopup(a.popup),a.popup.destroy(),a.popup=null)});EMD.strategies.assetStats=new OpenLayers.Strategy.Refresh;b=new OpenLayers.Style({fillColor:"${getColor}",label:"${getLabel}"},{context:{getColor:function(a){return EMD.gis.getStatsColor(a)},getLabel:function(a){return EMD.gis.getStatsLabel(a)}},labelOutlineColor:"white",
labelOutlineWidth:3});EMD.userLayer.assetStats=new OpenLayers.Layer.Vector("\ud1b5\uacc4\uc815\ubcf4",{minScale:72E3,strategies:[EMD.strategies.assetStats],projection:new OpenLayers.Projection("EPSG:5186"),styleMap:new OpenLayers.StyleMap(b)});EMD.strategies.assetStats.activate();EMD.userLayer.assetStats.events.register("featureselected",null,function(a){EMD.gis.openPopup(a.feature,"/maps/assets/gamAssetCdInfo.do",EMD.util.objectToArray(a.feature.attributes),function(a){a.popup.updateSize()})});EMD.userLayer.assetStats.events.register("featureunselected",
null,function(a){a=a.feature;null!=a.popup&&(EMD.map.removePopup(a.popup),a.popup.destroy(),a.popup=null)});EMD.strategies.assetRentStats=new OpenLayers.Strategy.Filter;EMD.userLayer.assetRentStats=new OpenLayers.Layer.Vector("\uc784\ub300\ud604\ud669",{minScale:1E4,strategies:[new OpenLayers.Strategy.BBOX,EMD.strategies.assetRentStats],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.assetsRentDetail,styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetRentStyle["default"])});
EMD.strategies.assetRentStats.deactivate();EMD.userLayer.assetRentStats.events.register("featuresadded",null,function(a){});EMD.userLayer.assetRentStats.events.register("featureselected",null,function(b){EMD.gis.openPopup(b.feature,"/maps/assets/gamAssetRentInfo.do",[{name:"prtAtCode",value:b.feature.attributes.PRT_AT_CD},{name:"mngYear",value:b.feature.attributes.MNG_YEAR},{name:"mngNo",value:b.feature.attributes.MNG_NO},{name:"mngCnt",value:b.feature.attributes.MNG_CNT}],function(b){b=b.popup;a("button[data-role='assetRentMngt']",
b.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click(function(b){EMD.util.create_window(a(this).text(),"/code/assets/gamAssetRentMngt.do",null,{action:"assetRentMngt",prtAtCode:a(this).data("prt-at-code"),mngYear:a(this).data("mng-year"),mngNo:a(this).data("mng-no"),mngCnt:a(this).data("mng-cnt")})});a("button[data-role='assetRentInqire']",b.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(b){EMD.util.create_window(a(this).text(),"/code/assets/gamAssetRentInqire.do",
null,{action:"assetRentInqire",prtAtCode:a(this).data("prt-at-code"),mngYear:a(this).data("mng-year"),mngNo:a(this).data("mng-no"),mngCnt:a(this).data("mng-cnt")})});b.updateSize()})});EMD.userLayer.assetRentStats.events.register("featureunselected",null,function(a){a=a.feature;null!=a.popup&&(EMD.map.removePopup(a.popup),a.popup.destroy(),a.popup=null)});EMD.strategies.gnrlRentStats=new OpenLayers.Strategy.Filter;EMD.strategies.gnrlRentStats.deactivate();EMD.userLayer.gnrlRentStats=new OpenLayers.Layer.Vector("\uc77c\ubc18\ubd80\ub450 \uc784\ub300\ud604\ud669",
{minScale:1E4,strategies:[EMD.strategies.gnrlRentStats],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.assetsRent,styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetRentStyle["default"])});EMD.userLayer.gnrlRentStats.events.register("featuresadded",null,function(a){});EMD.userLayer.gnrlRentStats.events.register("featureselected",null,function(b){EMD.gis.openPopup(b.feature,"/oper/gnrl/gamPrtFcltyRentMngt.do",[{name:"prtAtCode",value:b.feature.attributes.PRT_AT_CD},{name:"mngYear",
value:b.feature.attributes.MNG_YEAR},{name:"mngNo",value:b.feature.attributes.MNG_NO},{name:"mngCnt",value:b.feature.attributes.MNG_CNT}],function(b){a("button[data-role='assetRentMngt']",popup.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click(function(b){EMD.util.create_window(a(this).text(),"/code/assets/gamAssetRentMngt.do",null,{action:"assetRentMngt",prtAtCode:a(this).data("prt-at-code"),mngYear:a(this).data("mng-year"),mngNo:a(this).data("mng-no"),mngCnt:a(this).data("mng-cnt")})});
a("button[data-role='assetRentInqire']",popup.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(b){EMD.util.create_window(a(this).text(),"/code/assets/gamAssetRentInqire.do",null,{action:"assetRentInqire",prtAtCode:a(this).data("prt-at-code"),mngYear:a(this).data("mng-year"),mngNo:a(this).data("mng-no"),mngCnt:a(this).data("mng-cnt")})});popup.updateSize()})});EMD.userLayer.gnrlRentStats.events.register("featureunselected",null,function(a){a=a.feature;null!=a.popup&&(EMD.map.removePopup(a.popup),
a.popup.destroy(),a.popup=null)});EMD.strategies.cntrRentStats=new OpenLayers.Strategy.Filter;EMD.strategies.cntrRentStats.deactivate();EMD.userLayer.cntrRentStats=new OpenLayers.Layer.Vector("\ucee8\ud14c\uc774\ub108\ubd80\ub450 \uc784\ub300\ud604\ud669",{minScale:1E4,strategies:[EMD.strategies.cntrRentStats],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.assetsRent,styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetRentStyle["default"])});EMD.userLayer.cntrRentStats.events.register("featuresadded",
null,function(a){});EMD.userLayer.cntrRentStats.events.register("featureselected",null,function(b){var k=b.feature;a.post(EMD.context_root+"/oper/gnrl/gamPrtFcltyRentMngt.do",[{name:"prtAtCode",value:b.feature.attributes.PRT_AT_CD},{name:"mngYear",value:b.feature.attributes.MNG_YEAR},{name:"mngNo",value:b.feature.attributes.MNG_NO},{name:"mngCnt",value:b.feature.attributes.MNG_CNT}]).done(function(b){b=new OpenLayers.Popup.FramedCloud("popup",k.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,
150),b,null,!0);k.popup=b;EMD.map.addPopup(b);a("button[data-role='assetRentMngt']",b.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click(function(b){EMD.util.create_window(a(this).text(),"/code/assets/gamAssetRentMngt.do",null,{action:"assetRentMngt",prtAtCode:a(this).data("prt-at-code"),mngYear:a(this).data("mng-year"),mngNo:a(this).data("mng-no"),mngCnt:a(this).data("mng-cnt")})});a("button[data-role='assetRentInqire']",b.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(b){EMD.util.create_window(a(this).text(),
"/code/assets/gamAssetRentInqire.do",null,{action:"assetRentInqire",prtAtCode:a(this).data("prt-at-code"),mngYear:a(this).data("mng-year"),mngNo:a(this).data("mng-no"),mngCnt:a(this).data("mng-cnt")})});b.updateSize()})});EMD.userLayer.cntrRentStats.events.register("featureunselected",null,function(a){a=a.feature;null!=a.popup&&(EMD.map.removePopup(a.popup),a.popup.destroy(),a.popup=null)});EMD.strategies.htldRentStats=new OpenLayers.Strategy.Filter;EMD.strategies.htldRentStats.deactivate();EMD.userLayer.htldRentStats=
new OpenLayers.Layer.Vector("\ubc30\ud6c4\ub2e8\uc9c0 \uc784\ub300\ud604\ud669",{minScale:1E4,strategies:[EMD.strategies.htldRentStats],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.assetsRent,styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetRentStyle["default"])});EMD.userLayer.htldRentStats.events.register("featuresadded",null,function(a){});EMD.userLayer.htldRentStats.events.register("featureselected",null,function(b){var k=b.feature;a.post(EMD.context_root+"/oper/gnrl/gamPrtFcltyRentMngt.do",
[{name:"prtAtCode",value:b.feature.attributes.PRT_AT_CD},{name:"mngYear",value:b.feature.attributes.MNG_YEAR},{name:"mngNo",value:b.feature.attributes.MNG_NO},{name:"mngCnt",value:b.feature.attributes.MNG_CNT}]).done(function(b){b=new OpenLayers.Popup.FramedCloud("popup",k.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,150),b,null,!0);k.popup=b;EMD.map.addPopup(b);a("button[data-role='assetRentMngt']",b.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click(function(b){EMD.util.create_window(a(this).text(),
"/code/assets/gamAssetRentMngt.do",null,{action:"assetRentMngt",prtAtCode:a(this).data("prt-at-code"),mngYear:a(this).data("mng-year"),mngNo:a(this).data("mng-no"),mngCnt:a(this).data("mng-cnt")})});a("button[data-role='assetRentInqire']",b.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(b){EMD.util.create_window(a(this).text(),"/code/assets/gamAssetRentInqire.do",null,{action:"assetRentInqire",prtAtCode:a(this).data("prt-at-code"),mngYear:a(this).data("mng-year"),mngNo:a(this).data("mng-no"),
mngCnt:a(this).data("mng-cnt")})});b.updateSize()})});EMD.userLayer.htldRentStats.events.register("featureunselected",null,function(a){a=a.feature;null!=a.popup&&(EMD.map.removePopup(a.popup),a.popup.destroy(),a.popup=null)});EMD.strategies.ccntRentStats=new OpenLayers.Strategy.Filter;EMD.strategies.ccntRentStats.deactivate();EMD.userLayer.ccntRentStats=new OpenLayers.Layer.Vector("\uacf5\ucee8\uc7a5\uce58\uc7a5 \uc784\ub300\ud604\ud669",{minScale:1E4,strategies:[EMD.strategies.ccntRentStats],projection:new OpenLayers.Projection("EPSG:5186"),
protocol:EMD.protocols.assetsRent,styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetRentStyle["default"])});EMD.userLayer.ccntRentStats.events.register("featuresadded",null,function(a){});EMD.userLayer.ccntRentStats.events.register("featureselected",null,function(b){var k=b.feature;a.post(EMD.context_root+"/oper/gnrl/gamPrtFcltyRentMngt.do",[{name:"prtAtCode",value:b.feature.attributes.PRT_AT_CD},{name:"mngYear",value:b.feature.attributes.MNG_YEAR},{name:"mngNo",value:b.feature.attributes.MNG_NO},
{name:"mngCnt",value:b.feature.attributes.MNG_CNT}]).done(function(b){b=new OpenLayers.Popup.FramedCloud("popup",k.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,150),b,null,!0);k.popup=b;EMD.map.addPopup(b);a("button[data-role='assetRentMngt']",b.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click(function(b){EMD.util.create_window(a(this).text(),"/code/assets/gamAssetRentMngt.do",null,{action:"assetRentMngt",prtAtCode:a(this).data("prt-at-code"),mngYear:a(this).data("mng-year"),
mngNo:a(this).data("mng-no"),mngCnt:a(this).data("mng-cnt")})});a("button[data-role='assetRentInqire']",b.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(b){EMD.util.create_window(a(this).text(),"/code/assets/gamAssetRentInqire.do",null,{action:"assetRentInqire",prtAtCode:a(this).data("prt-at-code"),mngYear:a(this).data("mng-year"),mngNo:a(this).data("mng-no"),mngCnt:a(this).data("mng-cnt")})});b.updateSize()})});EMD.userLayer.ccntRentStats.events.register("featureunselected",
null,function(a){a=a.feature;null!=a.popup&&(EMD.map.removePopup(a.popup),a.popup.destroy(),a.popup=null)});EMD.strategies.trnpRentStats=new OpenLayers.Strategy.Filter;EMD.strategies.trnpRentStats.deactivate();EMD.userLayer.trnpRentStats=new OpenLayers.Layer.Vector("\ucca0\uc1a1\uc7a5 \uc784\ub300\ud604\ud669",{minScale:1E4,strategies:[EMD.strategies.trnpRentStats],projection:new OpenLayers.Projection("EPSG:5186"),protocol:EMD.protocols.assetsRent,styleMap:new OpenLayers.StyleMap(EMD.userStyle.assetRentStyle["default"])});
EMD.userLayer.trnpRentStats.events.register("featuresadded",null,function(a){});EMD.userLayer.trnpRentStats.events.register("featureselected",null,function(b){var k=b.feature;a.post(EMD.context_root+"/oper/gnrl/gamPrtFcltyRentMngt.do",[{name:"prtAtCode",value:b.feature.attributes.PRT_AT_CD},{name:"mngYear",value:b.feature.attributes.MNG_YEAR},{name:"mngNo",value:b.feature.attributes.MNG_NO},{name:"mngCnt",value:b.feature.attributes.MNG_CNT}]).done(function(b){b=new OpenLayers.Popup.FramedCloud("popup",
k.geometry.bounds.getCenterLonLat(),new OpenLayers.Size(250,150),b,null,!0);k.popup=b;EMD.map.addPopup(b);a("button[data-role='assetRentMngt']",b.contentDiv).button({icons:{primary:"ui-icon-wrench"}}).click(function(b){EMD.util.create_window(a(this).text(),"/code/assets/gamAssetRentMngt.do",null,{action:"assetRentMngt",prtAtCode:a(this).data("prt-at-code"),mngYear:a(this).data("mng-year"),mngNo:a(this).data("mng-no"),mngCnt:a(this).data("mng-cnt")})});a("button[data-role='assetRentInqire']",b.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(b){EMD.util.create_window(a(this).text(),
"/code/assets/gamAssetRentInqire.do",null,{action:"assetRentInqire",prtAtCode:a(this).data("prt-at-code"),mngYear:a(this).data("mng-year"),mngNo:a(this).data("mng-no"),mngCnt:a(this).data("mng-cnt")})});b.updateSize()})});EMD.userLayer.trnpRentStats.events.register("featureunselected",null,function(a){a=a.feature;null!=a.popup&&(EMD.map.removePopup(a.popup),a.popup.destroy(),a.popup=null)});EMD.userLayer.fcltyConstMarker=new OpenLayers.Layer.Vector("\uac74\ucd95 \uc2dc\uc124",{minScale:5E3});EMD.userLayer.fcltyConstMarker.events.register("featureselected",
null,function(b){a.ajax({url:EMD.context_root+"/maps/fclty/gamFcltyInfo.do",type:"POST",dataType:"json",global:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"gisAssetsPrtAtCode",value:b.feature.attributes.gisAssetsPrtAtCode},{name:"gisAssetsCd",value:b.feature.attributes.gisAssetsCd},{name:"gisAssetsSubCd",value:b.feature.attributes.gisAssetsSubCd},{name:"gisPrtFcltyCd",value:b.feature.attributes.gisPrtFcltyCd},{name:"gisPrtFcltySeq",value:b.feature.attributes.gisPrtFcltySeq},
{name:"prtFcltySe",value:b.feature.attributes.prtFcltySe}]}).done(function(b){if(0==b.resultCode){var k="<div class='prtFcltyInfo'><h2>\uac74\ucd95\uc2dc\uc124\uc815\ubcf4</h2><table class='prtFcltyInfo'><tbody>";b=b.result;null==b&&alert("\uc120\ud0dd\ud55c \uc2dc\uc124\uc758 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");k+="<tr><th>\uc790\uc0b0\ucf54\ub4dc</th><td>"+b.gisAssetsCd+"-"+b.gisAssetsSubCd+"</td></tr>";k+="<tr><th>\uc2dc\uc124\ucf54\ub4dc</th><td>"+b.gisPrtFcltyCd+"-"+b.gisPrtFcltySeq+
"</td></tr>";null!=b.prtFcltyNm&&(k+="<tr><th>\uc2dc\uc124\uba85</th><td>"+b.prtFcltyNm+"</td></tr>");null!=b.gisAssetsLocplc&&(k+="<tr><th>\uc18c\uc7ac\uc9c0</th><td>"+b.gisAssetsLocplc+" "+(b.gisAssetsLnm+(null!=b.gisAssetsLnmSub&&0<b.gisAssetsLnmSub.length?"-"+b.gisAssetsLnmSub:""))+"</td></tr>");null!=b.filenmPhysicl&&(k+="<tr><th>\uc2dc\uc124\uc0ac\uc9c4</th><td><img src='"+EMD.context_root+"/cmm/getPfImage.do?physicalFileNm="+b.filenmPhysicl+"' style='width:300px;' /></td></tr>");k+="<tr><td colSpan='2' style='align: right;'>";
EMD.popupMenu.fcltyConstPopMngt!=d&&(k+="<td><button id='btnPrtfcltyMngt' data-role='frmwrkButton' data-assets-prt-at-code='"+b.gisAssetsPrtAtCode+"' data-assets-cd='"+b.gisAssetsCd+"' data-assets-sub-cd='"+b.gisAssetsSubCd+"' data-prt-fclty-cd='"+b.gisPrtFcltyCd+"' data-prt-fclty-seq='"+b.gisPrtFcltySeq+"' data-prt-fclty-se='"+b.prtFcltySe+"' >\uc2dc\uc124\uad00\ub9ac</button></td>");EMD.popupMenu.fcltyConstPopInqire!=d&&(k+="<td><button id='btnPrtfcltyInqire' data-role='frmwrkButton' data-assets-prt-at-code='"+
b.gisAssetsPrtAtCode+"' data-assets-cd='"+b.gisAssetsCd+"' data-assets-sub-cd='"+b.gisAssetsSubCd+"' data-prt-fclty-cd='"+b.gisPrtFcltyCd+"' data-prt-fclty-seq='"+b.gisPrtFcltySeq+"' data-prt-fclty-se='"+b.prtFcltySe+"' >\uc2dc\uc124\uc870\ud68c</button></td>");k+="</tr></tbody></table>";null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null);if((null==b.loCrdnt||null==b.laCrdnt)&&null!=b.lat&&null!=b.lng){var l=new OpenLayers.LonLat(b.lng,b.lat),c=
new OpenLayers.Projection("EPSG:4326"),l=l.transform(c,new OpenLayers.Projection("EPSG:900913"));b.loCrdnt=l.lon;b.laCrdnt=l.lat}EMD.popup.prtFcltyInfo=new OpenLayers.Popup.FramedCloud("\uac74\ucd95\uc2dc\uc124\uc815\ubcf4",new OpenLayers.LonLat(b.loCrdnt,b.laCrdnt),new OpenLayers.Size(250,150),k,null,!0);EMD.map.addPopup(EMD.popup.prtFcltyInfo);a("#btnPrtfcltyMngt").button({icons:{primary:"ui-icon-wrench"},text:!0}).click(function(b){b="";b=EMD.popupMenu.fcltyConstPopMngt;EMD.util.create_window("\uac74\ucd95 \uc2dc\uc124 \uad00\ub9ac",
b,null,{action:"prtFcltyMngt",gisPrtAtCode:a(this).data("assets-prt-at-code"),gisAssetsCd:a(this).data("assets-cd"),gisAssetsSubCd:a(this).data("assets-sub-cd"),gisPrtFcltyCd:a(this).data("prt-fclty-cd"),gisPrtFcltySeq:a(this).data("prt-fclty-seq"),gisPrtFcltySe:a(this).data("prt-fclty-se")})});a("#btnPrtfcltyInqire").button({icons:{primary:"ui-icon-folder-open"},text:!0}).click(function(b){b="";b=EMD.popupMenu.fcltyConstPopInqire;EMD.util.create_window("\uac74\ucd95 \uc2dc\uc124 \uc870\ud68c",b,
null,{action:"prtFcltyMngt",gisPrtAtCode:a(this).data("assets-prt-at-code"),gisAssetsCd:a(this).data("assets-cd"),gisAssetsSubCd:a(this).data("assets-sub-cd"),gisPrtFcltyCd:a(this).data("prt-fclty-cd"),gisPrtFcltySeq:a(this).data("prt-fclty-seq"),gisPrtFcltySe:a(this).data("prt-fclty-se")})});EMD.popup.prtFcltyInfo.updateSize();a(".prtFcltyInfo td > img").load(function(b){a("h2",EMD.popup.prtFcltyInfo.contentDiv);a("table.prtFcltyInfo",EMD.popup.prtFcltyInfo.contentDiv);EMD.popup.prtFcltyInfo.updateSize()})}})});
EMD.userLayer.fcltyConstMarker.events.register("featureunselected",null,function(a){null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null)});EMD.userLayer.fcltySocMarker=new OpenLayers.Layer.Vector("\ud1a0\ubaa9 \uc2dc\uc124",{minScale:5E3});EMD.userLayer.fcltySocMarker.events.register("featureselected",null,function(b){a.ajax({url:EMD.context_root+"/maps/fclty/gamFcltyInfo.do",type:"POST",dataType:"json",global:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
data:[{name:"gisAssetsPrtAtCode",value:b.feature.attributes.gisAssetsPrtAtCode},{name:"gisAssetsCd",value:b.feature.attributes.gisAssetsCd},{name:"gisAssetsSubCd",value:b.feature.attributes.gisAssetsSubCd},{name:"gisPrtFcltyCd",value:b.feature.attributes.gisPrtFcltyCd},{name:"gisPrtFcltySeq",value:b.feature.attributes.gisPrtFcltySeq},{name:"prtFcltySe",value:b.feature.attributes.prtFcltySe}]}).done(function(b){if(0==b.resultCode){var k="<div class='prtFcltyInfo'><h2>\ud1a0\ubaa9\uc2dc\uc124\uc815\ubcf4</h2><table class='prtFcltyInfo'><tbody>";
b=b.result;null==b&&alert("\uc120\ud0dd\ud55c \uc2dc\uc124\uc758 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");k+="<tr><th>\uc790\uc0b0\ucf54\ub4dc</th><td>"+b.gisAssetsCd+"-"+b.gisAssetsSubCd+"</td></tr>";k+="<tr><th>\uc2dc\uc124\ucf54\ub4dc</th><td>"+b.gisPrtFcltyCd+"-"+b.gisPrtFcltySeq+"</td></tr>";null!=b.prtFcltyNm&&(k+="<tr><th>\uc2dc\uc124\uba85</th><td>"+b.prtFcltyNm+"</td></tr>");null!=b.gisAssetsLocplc&&(k+="<tr><th>\uc18c\uc7ac\uc9c0</th><td>"+b.gisAssetsLocplc+" "+(b.gisAssetsLnm+(null!=
b.gisAssetsLnmSub&&0<b.gisAssetsLnmSub.length)?"-"+b.gisAssetsLnmSub:"")+"</td></tr>");null!=b.filenmPhysicl&&(k+="<tr><th>\uc2dc\uc124\uc0ac\uc9c4</th><td><img src='"+EMD.context_root+"/cmm/getPfImage.do?physicalFileNm="+b.filenmPhysicl+"' style='width:300px;' /></td></tr>");k+="<tr><td colSpan='2' style='align: right;'>";EMD.popupMenu.fcltySocPopMngt!=d&&(k+="<td><button id='btnPrtfcltyMngt' data-role='frmwrkButton' data-assets-prt-at-code='"+b.gisAssetsPrtAtCode+"' data-assets-cd='"+b.gisAssetsCd+
"' data-assets-sub-cd='"+b.gisAssetsSubCd+"' data-prt-fclty-cd='"+b.gisPrtFcltyCd+"' data-prt-fclty-seq='"+b.gisPrtFcltySeq+"' data-prt-fclty-se='"+b.prtFcltySe+"' >\uc2dc\uc124\uad00\ub9ac</button></td>");EMD.popupMenu.fcltySocPopInqire!=d&&(k+="<td><button id='btnPrtfcltyInqire' data-role='frmwrkButton' data-assets-prt-at-code='"+b.gisAssetsPrtAtCode+"' data-assets-cd='"+b.gisAssetsCd+"' data-assets-sub-cd='"+b.gisAssetsSubCd+"' data-prt-fclty-cd='"+b.gisPrtFcltyCd+"' data-prt-fclty-seq='"+b.gisPrtFcltySeq+
"' data-prt-fclty-se='"+b.prtFcltySe+"' >\uc2dc\uc124\uc870\ud68c</button></td>");k+="</tr></tbody></table>";null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null);if((null==b.loCrdnt||null==b.laCrdnt)&&null!=b.lat&&null!=b.lng){var l=new OpenLayers.LonLat(b.lng,b.lat),c=new OpenLayers.Projection("EPSG:4326"),l=l.transform(c,new OpenLayers.Projection("EPSG:900913"));b.loCrdnt=l.lon;b.laCrdnt=l.lat}EMD.popup.prtFcltyInfo=new OpenLayers.Popup.FramedCloud("\ud1a0\ubaa9\uc2dc\uc124\uc815\ubcf4",
new OpenLayers.LonLat(b.loCrdnt,b.laCrdnt),new OpenLayers.Size(250,150),k,null,!0);EMD.map.addPopup(EMD.popup.prtFcltyInfo);a("#btnPrtfcltyMngt").button({icons:{primary:"ui-icon-wrench"},text:!0}).click(function(b){b="";b=EMD.popupMenu.fcltyConstPopMngt;EMD.util.create_window("\ud1a0\ubaa9 \uc2dc\uc124 \uad00\ub9ac",b,null,{action:"prtFcltyMngt",gisPrtAtCode:a(this).data("assets-prt-at-code"),gisAssetsCd:a(this).data("assets-cd"),gisAssetsSubCd:a(this).data("assets-sub-cd"),gisPrtFcltyCd:a(this).data("prt-fclty-cd"),
gisPrtFcltySeq:a(this).data("prt-fclty-seq"),gisPrtFcltySe:a(this).data("prt-fclty-se")})});a("#btnPrtfcltyInqire").button({icons:{primary:"ui-icon-folder-open"},text:!0}).click(function(b){b="";b=EMD.popupMenu.fcltyConstPopInqire;EMD.util.create_window("\uac74\ucd95 \uc2dc\uc124 \uc870\ud68c",b,null,{action:"prtFcltyMngt",gisPrtAtCode:a(this).data("assets-prt-at-code"),gisAssetsCd:a(this).data("assets-cd"),gisAssetsSubCd:a(this).data("assets-sub-cd"),gisPrtFcltyCd:a(this).data("prt-fclty-cd"),gisPrtFcltySeq:a(this).data("prt-fclty-seq"),
gisPrtFcltySe:a(this).data("prt-fclty-se")})});EMD.popup.prtFcltyInfo.updateSize();a(".prtFcltyInfo td > img").load(function(b){a("h2",EMD.popup.prtFcltyInfo.contentDiv);a("table.prtFcltyInfo",EMD.popup.prtFcltyInfo.contentDiv);EMD.popup.prtFcltyInfo.updateSize()})}})});EMD.userLayer.fcltySocMarker.events.register("featureunselected",null,function(a){null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null)});EMD.userLayer.fcltyMechMarker=new OpenLayers.Layer.Vector("\uae30\uacc4 \uc2dc\uc124",
{minScale:5E3});EMD.userLayer.fcltyMechMarker.events.register("featureselected",null,function(b){a.ajax({url:EMD.context_root+"/maps/fclty/gamFcltyInfo.do",type:"POST",dataType:"json",global:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"gisAssetsPrtAtCode",value:b.feature.attributes.gisAssetsPrtAtCode},{name:"gisAssetsCd",value:b.feature.attributes.gisAssetsCd},{name:"gisAssetsSubCd",value:b.feature.attributes.gisAssetsSubCd},{name:"gisPrtFcltyCd",value:b.feature.attributes.gisPrtFcltyCd},
{name:"gisPrtFcltySeq",value:b.feature.attributes.gisPrtFcltySeq},{name:"prtFcltySe",value:b.feature.attributes.prtFcltySe}]}).done(function(b){if(0==b.resultCode){var k="<div class='prtFcltyInfo'><h2>\uae30\uacc4\uc2dc\uc124\uc815\ubcf4</h2><table class='prtFcltyInfo'><tbody>";b=b.result;null==b&&alert("\uc120\ud0dd\ud55c \uc2dc\uc124\uc758 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");k+="<tr><th>\uc790\uc0b0\ucf54\ub4dc</th><td>"+b.gisAssetsCd+"-"+b.gisAssetsSubCd+"</td></tr>";k+="<tr><th>\uc2dc\uc124\ucf54\ub4dc</th><td>"+
b.gisPrtFcltyCd+"-"+b.gisPrtFcltySeq+"</td></tr>";null!=b.prtFcltyNm&&(k+="<tr><th>\uc2dc\uc124\uba85</th><td>"+b.prtFcltyNm+"</td></tr>");null!=b.gisAssetsLocplc&&(k+="<tr><th>\uc18c\uc7ac\uc9c0</th><td>"+b.gisAssetsLocplc+" "+(b.gisAssetsLnm+(null!=b.gisAssetsLnmSub&&0<b.gisAssetsLnmSub.length)?"-"+b.gisAssetsLnmSub:"")+"</td></tr>");null!=b.filenmPhysicl&&(k+="<tr><th>\uc2dc\uc124\uc0ac\uc9c4</th><td><img src='"+EMD.context_root+"/cmm/getPfImage.do?physicalFileNm="+b.filenmPhysicl+"' style='width:300px;' /></td></tr>");
k+="<tr><td colSpan='2' style='align: right;'>";EMD.popupMenu.fcltyMechPopMngt!=d&&(k+="<td><button id='btnPrtfcltyMngt' data-role='frmwrkButton' data-assets-prt-at-code='"+b.gisAssetsPrtAtCode+"' data-assets-cd='"+b.gisAssetsCd+"' data-assets-sub-cd='"+b.gisAssetsSubCd+"' data-prt-fclty-cd='"+b.gisPrtFcltyCd+"' data-prt-fclty-seq='"+b.gisPrtFcltySeq+"' data-prt-fclty-se='"+b.prtFcltySe+"' >\uc2dc\uc124\uad00\ub9ac</button></td>");EMD.popupMenu.fcltyMechPopInqire!=d&&(k+="<td><button id='btnPrtfcltyInqire' data-role='frmwrkButton' data-assets-prt-at-code='"+
b.gisAssetsPrtAtCode+"' data-assets-cd='"+b.gisAssetsCd+"' data-assets-sub-cd='"+b.gisAssetsSubCd+"' data-prt-fclty-cd='"+b.gisPrtFcltyCd+"' data-prt-fclty-seq='"+b.gisPrtFcltySeq+"' data-prt-fclty-se='"+b.prtFcltySe+"' >\uc2dc\uc124\uc870\ud68c</button></td>");k+="</tr></tbody></table>";null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null);if((null==b.loCrdnt||null==b.laCrdnt)&&null!=b.lat&&null!=b.lng){var l=new OpenLayers.LonLat(b.lng,b.lat),c=
new OpenLayers.Projection("EPSG:4326"),l=l.transform(c,new OpenLayers.Projection("EPSG:900913"));b.loCrdnt=l.lon;b.laCrdnt=l.lat}EMD.popup.prtFcltyInfo=new OpenLayers.Popup.FramedCloud("\uae30\uacc4\uc2dc\uc124\uc815\ubcf4",new OpenLayers.LonLat(b.loCrdnt,b.laCrdnt),new OpenLayers.Size(250,150),k,null,!0);EMD.map.addPopup(EMD.popup.prtFcltyInfo);a("#btnPrtfcltyMngt").button({icons:{primary:"ui-icon-wrench"},text:!0}).click(function(b){b="";b=EMD.popupMenu.fcltyMechPopMngt;EMD.util.create_window("\uae30\uacc4 \uc2dc\uc124 \uad00\ub9ac",
b,null,{action:"prtFcltyMngt",gisPrtAtCode:a(this).data("assets-prt-at-code"),gisAssetsCd:a(this).data("assets-cd"),gisAssetsSubCd:a(this).data("assets-sub-cd"),gisPrtFcltyCd:a(this).data("prt-fclty-cd"),gisPrtFcltySeq:a(this).data("prt-fclty-seq"),gisPrtFcltySe:a(this).data("prt-fclty-se")})});a("#btnPrtfcltyInqire").button({icons:{primary:"ui-icon-folder-open"},text:!0}).click(function(b){b="";b=EMD.popupMenu.fcltyMechPopInqire;EMD.util.create_window("\uae30\uacc4 \uc2dc\uc124 \uc870\ud68c",b,null,
{action:"prtFcltyMngt",gisPrtAtCode:a(this).data("assets-prt-at-code"),gisAssetsCd:a(this).data("assets-cd"),gisAssetsSubCd:a(this).data("assets-sub-cd"),gisPrtFcltyCd:a(this).data("prt-fclty-cd"),gisPrtFcltySeq:a(this).data("prt-fclty-seq"),gisPrtFcltySe:a(this).data("prt-fclty-se")})});EMD.popup.prtFcltyInfo.updateSize();a(".prtFcltyInfo td > img").load(function(b){a("h2",EMD.popup.prtFcltyInfo.contentDiv);a("table.prtFcltyInfo",EMD.popup.prtFcltyInfo.contentDiv);EMD.popup.prtFcltyInfo.updateSize()})}})});
EMD.userLayer.fcltyMechMarker.events.register("featureunselected",null,function(a){null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null)});EMD.userLayer.fcltyInfoTeleMarker=new OpenLayers.Layer.Vector("\uc815\ubcf4\ud1b5\uc2e0 \uc2dc\uc124",{minScale:5E3});EMD.userLayer.fcltyInfoTeleMarker.events.register("featureselected",null,function(b){a.ajax({url:EMD.context_root+"/maps/fclty/gamFcltyInfo.do",type:"POST",dataType:"json",global:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
data:[{name:"gisAssetsPrtAtCode",value:b.feature.attributes.gisAssetsPrtAtCode},{name:"gisAssetsCd",value:b.feature.attributes.gisAssetsCd},{name:"gisAssetsSubCd",value:b.feature.attributes.gisAssetsSubCd},{name:"gisPrtFcltyCd",value:b.feature.attributes.gisPrtFcltyCd},{name:"gisPrtFcltySeq",value:b.feature.attributes.gisPrtFcltySeq},{name:"prtFcltySe",value:b.feature.attributes.prtFcltySe}]}).done(function(b){if(0==b.resultCode){var k="<div class='prtFcltyInfo'><h2>\uc815\ubcf4\ud1b5\uc2e0\uc2dc\uc124\uc815\ubcf4</h2><table class='prtFcltyInfo'><tbody>";
b=b.result;null==b&&alert("\uc120\ud0dd\ud55c \uc2dc\uc124\uc758 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");k+="<tr><th>\uc790\uc0b0\ucf54\ub4dc</th><td>"+b.gisAssetsCd+"-"+b.gisAssetsSubCd+"</td></tr>";k+="<tr><th>\uc2dc\uc124\ucf54\ub4dc</th><td>"+b.gisPrtFcltyCd+"-"+b.gisPrtFcltySeq+"</td></tr>";null!=b.prtFcltyNm&&(k+="<tr><th>\uc2dc\uc124\uba85</th><td>"+b.prtFcltyNm+"</td></tr>");null!=b.gisAssetsLocplc&&(k+="<tr><th>\uc18c\uc7ac\uc9c0</th><td>"+b.gisAssetsLocplc+" "+(b.gisAssetsLnm+(null!=
b.gisAssetsLnmSub&&0<b.gisAssetsLnmSub.length)?"-"+b.gisAssetsLnmSub:"")+"</td></tr>");null!=b.filenmPhysicl&&(k+="<tr><th>\uc2dc\uc124\uc0ac\uc9c4</th><td><img src='"+EMD.context_root+"/cmm/getPfImage.do?physicalFileNm="+b.filenmPhysicl+"' style='width:300px;' /></td></tr>");k+="<tr><td colSpan='2' style='align: right;'>";EMD.popupMenu.fcltyInfoTechPopMngt!=d&&(k+="<td><button id='btnPrtfcltyMngt' data-role='frmwrkButton' data-assets-prt-at-code='"+b.gisAssetsPrtAtCode+"' data-assets-cd='"+b.gisAssetsCd+
"' data-assets-sub-cd='"+b.gisAssetsSubCd+"' data-prt-fclty-cd='"+b.gisPrtFcltyCd+"' data-prt-fclty-seq='"+b.gisPrtFcltySeq+"' data-prt-fclty-se='"+b.prtFcltySe+"' >\uc2dc\uc124\uad00\ub9ac</button></td>");EMD.popupMenu.fcltyInfoTechPopInqire!=d&&(k+="<td><button id='btnPrtfcltyInqire' data-role='frmwrkButton' data-assets-prt-at-code='"+b.gisAssetsPrtAtCode+"' data-assets-cd='"+b.gisAssetsCd+"' data-assets-sub-cd='"+b.gisAssetsSubCd+"' data-prt-fclty-cd='"+b.gisPrtFcltyCd+"' data-prt-fclty-seq='"+
b.gisPrtFcltySeq+"' data-prt-fclty-se='"+b.prtFcltySe+"' >\uc2dc\uc124\uc870\ud68c</button></td>");k+="</tr></tbody></table>";null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null);if((null==b.loCrdnt||null==b.laCrdnt)&&null!=b.lat&&null!=b.lng){var l=new OpenLayers.LonLat(b.lng,b.lat),c=new OpenLayers.Projection("EPSG:4326"),l=l.transform(c,new OpenLayers.Projection("EPSG:900913"));b.loCrdnt=l.lon;b.laCrdnt=l.lat}EMD.popup.prtFcltyInfo=new OpenLayers.Popup.FramedCloud("\uc815\ubcf4\ud1b5\uc2e0\uc2dc\uc124\uc815\ubcf4",
new OpenLayers.LonLat(b.loCrdnt,b.laCrdnt),new OpenLayers.Size(250,150),k,null,!0);EMD.map.addPopup(EMD.popup.prtFcltyInfo);a("#btnPrtfcltyMngt").button({icons:{primary:"ui-icon-wrench"},text:!0}).click(function(b){b="";b=EMD.popupMenu.fcltyInfoTechPopMngt;EMD.util.create_window("\uc815\ubcf4\ud1b5\uc2e0 \uc2dc\uc124 \uad00\ub9ac",b,null,{action:"prtFcltyMngt",gisPrtAtCode:a(this).data("assets-prt-at-code"),gisAssetsCd:a(this).data("assets-cd"),gisAssetsSubCd:a(this).data("assets-sub-cd"),gisPrtFcltyCd:a(this).data("prt-fclty-cd"),
gisPrtFcltySeq:a(this).data("prt-fclty-seq"),gisPrtFcltySe:a(this).data("prt-fclty-se")})});a("#btnPrtfcltyInqire").button({icons:{primary:"ui-icon-folder-open"},text:!0}).click(function(b){b="";b=EMD.popupMenu.fcltyInfoTechPopInqire;EMD.util.create_window("\uc815\ubcf4\ud1b5\uc2e0 \uc2dc\uc124 \uc870\ud68c",b,null,{action:"prtFcltyMngt",gisPrtAtCode:a(this).data("assets-prt-at-code"),gisAssetsCd:a(this).data("assets-cd"),gisAssetsSubCd:a(this).data("assets-sub-cd"),gisPrtFcltyCd:a(this).data("prt-fclty-cd"),
gisPrtFcltySeq:a(this).data("prt-fclty-seq"),gisPrtFcltySe:a(this).data("prt-fclty-se")})});EMD.popup.prtFcltyInfo.updateSize();a(".prtFcltyInfo td > img").load(function(b){a("h2",EMD.popup.prtFcltyInfo.contentDiv);a("table.prtFcltyInfo",EMD.popup.prtFcltyInfo.contentDiv);EMD.popup.prtFcltyInfo.updateSize()})}})});EMD.userLayer.fcltyInfoTeleMarker.events.register("featureunselected",null,function(a){null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=
null)});EMD.userLayer.fcltyElecPowerMarker=new OpenLayers.Layer.Vector("\uc804\uae30 \uc2dc\uc124",{minScale:5E3});EMD.userLayer.fcltyElecPowerMarker.events.register("featureselected",null,function(b){a.ajax({url:EMD.context_root+"/maps/fclty/gamFcltyInfo.do",type:"POST",dataType:"json",global:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"gisAssetsPrtAtCode",value:b.feature.attributes.gisAssetsPrtAtCode},{name:"gisAssetsCd",value:b.feature.attributes.gisAssetsCd},
{name:"gisAssetsSubCd",value:b.feature.attributes.gisAssetsSubCd},{name:"gisPrtFcltyCd",value:b.feature.attributes.gisPrtFcltyCd},{name:"gisPrtFcltySeq",value:b.feature.attributes.gisPrtFcltySeq},{name:"prtFcltySe",value:b.feature.attributes.prtFcltySe}]}).done(function(b){if(0==b.resultCode){var k="<div class='prtFcltyInfo'><h2>\uc804\uae30\uc2dc\uc124\uc815\ubcf4</h2><table class='prtFcltyInfo'><tbody>";b=b.result;null==b&&alert("\uc120\ud0dd\ud55c \uc2dc\uc124\uc758 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");
k+="<tr><th>\uc790\uc0b0\ucf54\ub4dc</th><td>"+b.gisAssetsCd+"-"+b.gisAssetsSubCd+"</td></tr>";k+="<tr><th>\uc2dc\uc124\ucf54\ub4dc</th><td>"+b.gisPrtFcltyCd+"-"+b.gisPrtFcltySeq+"</td></tr>";null!=b.prtFcltyNm&&(k+="<tr><th>\uc2dc\uc124\uba85</th><td>"+b.prtFcltyNm+"</td></tr>");null!=b.gisAssetsLocplc&&(k+="<tr><th>\uc18c\uc7ac\uc9c0</th><td>"+b.gisAssetsLocplc+" "+(b.gisAssetsLnm+(null!=b.gisAssetsLnmSub&&0<b.gisAssetsLnmSub.length)?"-"+b.gisAssetsLnmSub:"")+"</td></tr>");null!=b.filenmPhysicl&&
(k+="<tr><th>\uc2dc\uc124\uc0ac\uc9c4</th><td><img src='"+EMD.context_root+"/cmm/getPfImage.do?physicalFileNm="+b.filenmPhysicl+"' style='width:300px;' /></td></tr>");k+="<tr><td colSpan='2' style='align: right;'>";EMD.popupMenu.fcltyElecPopMngt!=d&&(k+="<td><button id='btnPrtfcltyMngt' data-role='frmwrkButton' data-assets-prt-at-code='"+b.gisAssetsPrtAtCode+"' data-assets-cd='"+b.gisAssetsCd+"' data-assets-sub-cd='"+b.gisAssetsSubCd+"' data-prt-fclty-cd='"+b.gisPrtFcltyCd+"' data-prt-fclty-seq='"+
b.gisPrtFcltySeq+"' data-prt-fclty-se='"+b.prtFcltySe+"' >\uc2dc\uc124\uad00\ub9ac</button></td>");EMD.popupMenu.fcltyElecPopInqire!=d&&(k+="<td><button id='btnPrtfcltyInqire' data-role='frmwrkButton' data-assets-prt-at-code='"+b.gisAssetsPrtAtCode+"' data-assets-cd='"+b.gisAssetsCd+"' data-assets-sub-cd='"+b.gisAssetsSubCd+"' data-prt-fclty-cd='"+b.gisPrtFcltyCd+"' data-prt-fclty-seq='"+b.gisPrtFcltySeq+"' data-prt-fclty-se='"+b.prtFcltySe+"' >\uc2dc\uc124\uc870\ud68c</button></td>");k+="</tr></tbody></table>";
null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null);if((null==b.loCrdnt||null==b.laCrdnt)&&null!=b.lat&&null!=b.lng){var l=new OpenLayers.LonLat(b.lng,b.lat),c=new OpenLayers.Projection("EPSG:4326"),l=l.transform(c,new OpenLayers.Projection("EPSG:900913"));b.loCrdnt=l.lon;b.laCrdnt=l.lat}EMD.popup.prtFcltyInfo=new OpenLayers.Popup.FramedCloud("\uc815\ubcf4\ud1b5\uc2e0\uc2dc\uc124\uc815\ubcf4",new OpenLayers.LonLat(b.loCrdnt,b.laCrdnt),new OpenLayers.Size(250,
150),k,null,!0);EMD.map.addPopup(EMD.popup.prtFcltyInfo);a("#btnPrtfcltyMngt").button({icons:{primary:"ui-icon-wrench"},text:!0}).click(function(b){b="";b=EMD.popupMenu.fcltyElecPopMngt;EMD.util.create_window("\uc804\uae30 \uc2dc\uc124 \uad00\ub9ac",b,null,{action:"prtFcltyMngt",gisPrtAtCode:a(this).data("assets-prt-at-code"),gisAssetsCd:a(this).data("assets-cd"),gisAssetsSubCd:a(this).data("assets-sub-cd"),gisPrtFcltyCd:a(this).data("prt-fclty-cd"),gisPrtFcltySeq:a(this).data("prt-fclty-seq"),gisPrtFcltySe:a(this).data("prt-fclty-se")})});
a("#btnPrtfcltyInqire").button({icons:{primary:"ui-icon-folder-open"},text:!0}).click(function(b){b="";b=EMD.popupMenu.fcltyElecPopInqire;EMD.util.create_window("\uc804\uae30 \uc2dc\uc124 \uc870\ud68c",b,null,{action:"prtFcltyMngt",gisPrtAtCode:a(this).data("assets-prt-at-code"),gisAssetsCd:a(this).data("assets-cd"),gisAssetsSubCd:a(this).data("assets-sub-cd"),gisPrtFcltyCd:a(this).data("prt-fclty-cd"),gisPrtFcltySeq:a(this).data("prt-fclty-seq"),gisPrtFcltySe:a(this).data("prt-fclty-se")})});EMD.popup.prtFcltyInfo.updateSize();
a(".prtFcltyInfo td > img").load(function(b){a("h2",EMD.popup.prtFcltyInfo.contentDiv);a("table.prtFcltyInfo",EMD.popup.prtFcltyInfo.contentDiv);EMD.popup.prtFcltyInfo.updateSize()})}})});EMD.userLayer.fcltyElecPowerMarker.events.register("featureunselected",null,function(a){null!=EMD.popup.prtFcltyInfo&&(EMD.map.removePopup(EMD.popup.prtFcltyInfo),EMD.popup.prtFcltyInfo=null)});EMD.selectControl=$DEBUG?new OpenLayers.Control.SelectFeature([EMD.lotarea,EMD.userLayer.gisAssetsCd,EMD.userLayer.gisPrtFcltyCd,
EMD.userLayer.locArea,EMD.userLayer.assetStats,EMD.userLayer.fcltyConstMarker,EMD.userLayer.fcltySocMarker,EMD.userLayer.fcltyMechMarker,EMD.userLayer.fcltyInfoTeleMarker,EMD.userLayer.fcltyElecPowerMarker],{clickout:!0,toggle:!0,multiple:!0,hover:!1,multipleKey:"shiftKey"}):new OpenLayers.Control.SelectFeature([EMD.userLayer.landCode,EMD.userLayer.gisAssetsCd,EMD.userLayer.gisArchFclty,EMD.userLayer.gisCivilFclty,EMD.userLayer.gisMechFclty,EMD.userLayer.gisElecFclty,EMD.userLayer.gisITFclty,EMD.userLayer.locArea,
EMD.userLayer.assetStats,EMD.userLayer.fcltyConstMarker,EMD.userLayer.fcltySocMarker,EMD.userLayer.fcltyMechMarker,EMD.userLayer.fcltyInfoTeleMarker,EMD.userLayer.fcltyElecPowerMarker],{clickout:!0,toggle:!0,multiple:!0,hover:!1,multipleKey:"shiftKey"});EMD.selectControl.handlers.feature.stopDown=!1;EMD.info=new OpenLayers.Control.WMSGetFeatureInfo({url:"http://demo.opengeo.org/geoserver/wms",title:"\ud56d\ub9cc\uc2dc\uc124 \uc18d\uc131",queryVisible:!0,eventListeners:{getfeatureinfo:function(a){map.addPopup(new OpenLayers.Popup.FramedCloud("\ud56d\ub9cc\uc2dc\uc124 \uc18d\uc131",
map.getLonLatFromPixel(a.xy),new OpenLayers.Size(250,150),a.text,null,!0))}}});EMD.wfs=new OpenLayers.Layer.Vector("Edit Features",{projection:new OpenLayers.Projection("EPSG:5186"),displayInLayerSwitcher:!1});EMD.controls.measureDist=new OpenLayers.Control.Button({title:"\uac70\ub9ac\uce21\uc815",trigger:function(){var a=EMD.measureControls,b;for(b in a)"measureDist"==a[b].id?a[b].active?a[b].deactivate():a[b].activate():a[b].deactivate()},type:OpenLayers.Control.TYPE_TOGGLE,displayClass:"olControlMeasureDist",
eventListeners:{activate:function(){var a=EMD.measureControls,b;for(b in a)"measureDist"==a[b].id&&a[b].activate();EMD.controls.measureArea.deactivate()},deactivate:function(){var a=EMD.measureControls,b;for(b in a)"measureDist"==a[b].id&&a[b].deactivate()}}});EMD.controls.measureArea=new OpenLayers.Control.Button({title:"\uba74\uc801\uce21\uc815",trigger:function(){var a=EMD.measureControls,b;for(b in a)"measureArea"==a[b].id?a[b].active?a[b].deactivate():a[b].activate():a[b].deactivate()},type:OpenLayers.Control.TYPE_TOGGLE,
displayClass:"olControlMeasureArea",eventListeners:{activate:function(){var a=EMD.measureControls,b;for(b in a)"measureArea"==a[b].id&&a[b].activate();EMD.controls.measureDist.deactivate()},deactivate:function(){var a=EMD.measureControls,b;for(b in a)"measureArea"==a[b].id&&a[b].deactivate()}}});EMD.measureControls=[new OpenLayers.Control.DynamicMeasure(OpenLayers.Handler.PathMeasureCustom,{id:"measureDist",persist:!0,handlerOptions:{layerOptions:{styleMap:l}}}),new OpenLayers.Control.DynamicMeasure(OpenLayers.Handler.PolygonMeasureCustom,
{id:"measureArea",persist:!0,handlerOptions:{layerOptions:{styleMap:l}}})];EMD.measurePanel=new OpenLayers.Control.Panel({displayClass:"mapMeasureToolBar"});EMD.measurePanel.addControls([EMD.controls.measureArea,EMD.controls.measureDist]);EMD.wfs.setVisibility(!0);EMD.userLayer.custLand.setVisibility(!0);EMD.userLayer.wharfNm.setVisibility(!0);EMD.userLayer.fcltyNm.setVisibility(!0);EMD.userLayer.landCode.setVisibility(!1);EMD.userLayer.gisAssetsCd.setVisibility(!0);EMD.userLayer.gisArchFclty.setVisibility(!0);
EMD.userLayer.gisCivilFclty.setVisibility(!0);EMD.userLayer.gisMechFclty.setVisibility(!0);EMD.userLayer.gisElecFclty.setVisibility(!0);EMD.userLayer.gisITFclty.setVisibility(!0);EMD.userLayer.locArea.setVisibility(!0);EMD.userLayer.assetStats.setVisibility(!0);EMD.userLayer.fcltyConstMarker.setVisibility(!0);EMD.userLayer.fcltySocMarker.setVisibility(!0);EMD.userLayer.fcltyMechMarker.setVisibility(!0);EMD.userLayer.fcltyInfoTeleMarker.setVisibility(!0);EMD.userLayer.fcltyElecPowerMarker.setVisibility(!0);
$DEBUG?(EMD.lotarea.setVisibility(!0),EMD.map.addLayers([g,EMD.userLayer.custLand,EMD.userLayer.wharfNm,EMD.userLayer.fcltyNm,EMD.lotarea,EMD.userLayer.landCode,EMD.userLayer.gisAssetsCd,EMD.userLayer.gisArchFclty,EMD.userLayer.gisCivilFclty,EMD.userLayer.gisMechFclty,EMD.userLayer.gisElecFclty,EMD.userLayer.gisITFclty,EMD.userLayer.locArea,EMD.userLayer.assetStats,EMD.userLayer.assetsRentDetail,EMD.wfs,EMD.userLayer.fcltyConstMarker,EMD.userLayer.fcltySocMarker,EMD.userLayer.fcltyMechMarker,EMD.userLayer.fcltyInfoTeleMarker,
EMD.userLayer.fcltyElecPowerMarker])):(l=[g,EMD.userLayer.custLand,EMD.userLayer.wharfNm,EMD.userLayer.fcltyNm,EMD.userLayer.landCode,EMD.userLayer.gisAssetsCd,EMD.userLayer.gisArchFclty,EMD.userLayer.gisCivilFclty,EMD.userLayer.gisMechFclty,EMD.userLayer.gisElecFclty,EMD.userLayer.gisITFclty,EMD.userLayer.assetStats,EMD.wfs,EMD.userLayer.assetsRent,EMD.userLayer.assetsRentDetail],EMD.layerDisplay.assetRentStats!=d&&(l[l.length]=EMD.userLayer.assetRentStats),EMD.layerDisplay.gnrlRentStats!=d&&(l[l.length]=
EMD.userLayer.gnrlRentStats),EMD.layerDisplay.cntrRentStats!=d&&(l[l.length]=EMD.userLayer.cntrRentStats),EMD.layerDisplay.htldRentStats!=d&&(l[l.length]=EMD.userLayer.htldRentStats),EMD.layerDisplay.ccntRentStats!=d&&(l[l.length]=EMD.userLayer.ccntRentStats),EMD.layerDisplay.trnpRentStats!=d&&(l[l.length]=EMD.userLayer.trnpRentStats),EMD.map.addLayers(l));l=new OpenLayers.Control.LayerSwitcher;EMD.map.addControls([EMD.selectControl,l,new OpenLayers.Control.MousePosition({prefix:"\uc9c0\ub3c4 \uc88c\ud45c : ",
separator:" | ",numDigits:6,displayProjection:new OpenLayers.Projection("EPSG:5186")}),new OpenLayers.Control.Scale,EMD.measurePanel]);EMD.map.addControls(EMD.measureControls);EMD.selectControl.activate();l.dataLbl.innerText="\ub808\uc774\uc5b4 \ubaa9\ub85d";EMD.measurePanel.activate();EMD.map.events.register("mousedown",EMD.map,function(a){});EMD.map.events.register("mousemove",EMD.map,function(a){});EMD.map.events.register("mouseup",EMD.map,function(a){EMD.util.clear_active()});l=new OpenLayers.LonLat(14211246,
4145825);EMD.map.setCenter(l,13);!1==$DEBUG&&a.ajax({url:EMD.context_root+"/maps/fclty/gamFcltyList.do",type:"POST",dataType:"json",global:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[]}).done(function(b){0==b.resultCode&&(a.each(b.resultList,function(){EMD.gis.drawPrtFclty(this)}),EMD.userLayer.fcltyConstMarker.redraw(),EMD.userLayer.fcltySocMarker.redraw(),EMD.userLayer.fcltyMechMarker.redraw(),EMD.userLayer.fcltyInfoTeleMarker.redraw(),EMD.userLayer.fcltyElecPowerMarker.redraw())})},
ui_init:function(){},fileupload_init:function(){a("#fileupload").fileupload({url:EMD.context_root+"/upload/genericMulti.do",autoUpload:!0});a("#fileupload").fileupload("option","redirect",c.location.href.replace(/\/[^\/]*$/,"/cors/result.html?%s"));a("#pfPhotoupload").fileupload({url:EMD.context_root+"/upload/pfUploadMulti.do",autoUpload:!0});a("#pfPhotoupload").fileupload("option","redirect",c.location.href.replace(/\/[^\/]*$/,"/cors/result.html?%s"));a("#xlsfileupload").fileupload({autoUpload:!0});
a("#xlsfileupload").fileupload("option","redirect",c.location.href.replace(/\/[^\/]*$/,"/cors/result.html?%s"))},loadCompleteWindow:function(){var a,l=[],d=b.cookie.split(";");for(a=0;a<d.length;a++){for(var c=d[a];" "==c.charAt(0);)c=c.substring(1);-1!=c.indexOf("ygpa_popup_c")&&(l[l.length]=c.substring(14,c.length).split(";")[0])}for(d=0;d<EMD.loadAtStartWindow.length;d++){if(0!=l.length){for(a=0;a<l.length&&l[a]!=EMD.loadAtStartWindow[d].url;a++);if(a!=l.length)continue}EMD.util.create_window(EMD.loadAtStartWindow[d].menuNm,
EMD.loadAtStartWindow[d].url,null,{action:"loadStart"})}}},closeWindow:function(b){var l="#"+b.attr("id").replace("window","dock");a("#"+b.attr("id")).hide("scale",{percent:0},800,function(){a(this).remove()});a(l).hide("fast");a(l).remove()},gis:{openPopup:function(b,l,d,c){a.ajax({type:"POST",url:EMD.context_root+l,data:d,dataType:"html",feature:b,popupFunction:c,success:function(b,k,l){k="__framePopup_"+EMD.mapPopupId++;l=new OpenLayers.Popup.FramedCloud("popup",this.feature.geometry.bounds.getCenterLonLat(),
new OpenLayers.Size(250,150),"<div id='"+k+"'></div>",null,!0);EMD.map.addPopup(l);b=a.parseHTML(b,null,!0);a("#"+k).append(b);this.feature.popup=l;null!=popupInfoModule&&(a("#"+k)[0].module=popupInfoModule,EMD.util.modify_window(popupInfoModule,k),popupInfoModule.setModuleId(k),popupInfoModule.setPopup(l),popupInfoModule.setFeature(this.feature),popupInfoModule.loadComplete(),l.updateSize());null!=this.popupFunction&&this.popupFunction(this.feature);l.updateSize()}})},closeAllPopup:function(a){a=
EMD.gis.getUserLayer(a);for(var b=0;b<len;b++)(feature=a.features[b])&&null!=feature.popup&&EMD.map.removePopup(feature.popup)},storeLayer:function(a){var b=EMD.gis.getLayerProtocol(a),d=new OpenLayers.Projection("EPSG:5186"),c=EMD.map.getProjection(),g;for(g in a.features){var h=a.features[g];if(h.state==OpenLayers.State.INSERT||h.state==OpenLayers.State.UPDATE)h.geometry=h.geometry.transform(c,d)}b.commit(a.features,{callback:function(a){if(a.error)return-1;EMD.selectControl.unselectAll();a.layer.redraw()}}).layer=
a},refreshLayer:function(b){EMD.gis.getLayerProtocol(b).read(b.features,{layer:b,callback:function(b){if(b.error)return-1;var k=new OpenLayers.Projection("EPSG:5186");EMD.selectControl.unselectAll();a.each(b.reqFeatures,function(){this.geometry=this.geometry.transform(k,EMD.map.getProjection())});this.layer.addFeatures(b.reqFeatures);this.layer.redraw()}})},getLotcode:function(a,b,d,c){a=EMD.gis.getUserLayer(a);new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"pnu",value:b}),new OpenLayers.Filter.Spatial({type:OpenLayers.Filter.Spatial.BBOX,property:"BBOX",value:new OpenLayers.Bounds(14132415,4494156,14132417,4494158)})]});b={url:"http://apis.vworld.kr/2ddata/cadastral/data?apiKey="+EMD.vworldKey+"&domain="+EMD.serverUrl,params:{request:"GetFeature",service:"wfs",version:"1.1.0",typeName:"LP_PA_CBND_BUBUN",srsName:"EPSG:5186",filter:"pnu:=:"+b},format:new OpenLayers.Format.GML({geometryName:"AG_GEOM"})};b=(new OpenLayers.Protocol.HTTP(b)).read({callback:function(a){if(a.error)return this.done_func(null),
-1;a.doneFunc(a.features,a.opt)}});b.layer=a;b.doneFunc=d;b.opt=c},getStatsColor:function(a){return"#ee6666"},getStatsLabel:function(a){return a.PRT_FCLTY_NM},_getIndexBaseURL:function(a){var b=this.map.getResolution(),d=Math.round((a.left-this.maxExtent.left)/(b*this.tileSize.w));a=Math.round((this.maxExtent.top-a.top)/(b*this.tileSize.h));var b=this.map.getZoom(),c=Math.pow(2,b);return 0>a||a>=c?vworldUrlsExt.blankimage:this.url+b+"/"+(d%c+c)%c+"/"+a+"."+this.type},_adjustWindow:null,_initGisAdjust:function(){_adjustWindow=
a(".window_stack");EMD.util.window_hide_all();EMD.selectControl.deactivate();EMD.popup.prtFcltyInfo&&EMD.map.removePopup(EMD.popup.prtFcltyInfo)},_closeGisAdjust:function(){EMD.selectControl.activate();EMD.util.window_show(_adjustWindow)},modifyFeature:null,saveFeatures:function(){EMD.saveStrategy.save()},addPrtFcltyMarkerClick:OpenLayers.Class(OpenLayers.Control,{defaultHandlerOptions:{single:!0,"double":!1,pixelTolerance:0,stopSingle:!1,stopDouble:!1},initialize:function(a){this.handlerOptions=
OpenLayers.Util.extend({},this.defaultHandlerOptions);OpenLayers.Control.prototype.initialize.apply(this,arguments);this.handler=new OpenLayers.Handler.Click(this,{click:this.trigger},this.handlerOptions)},trigger:function(a){a=EMD.map.getLonLatFromPixel(a.xy);EMD.map_value.fclty.laCrdnt=a.lat;EMD.map_value.fclty.loCrdnt=a.lon;EMD.map_state=null;EMD.gis.removePrtFclty(EMD.map_value.fclty);EMD.gis.drawPrtFclty(EMD.map_value.fclty);EMD.userLayer.fcltyConstMarker.redraw();EMD.userLayer.fcltySocMarker.redraw();
EMD.userLayer.fcltyMechMarker.redraw();EMD.userLayer.fcltyInfoTeleMarker.redraw();EMD.userLayer.fcltyElecPowerMarker.redraw();EMD.gis._markerClick.deactivate();EMD.map.removeControl(EMD.gis._markerClick);EMD.gis._closeGisAdjust();null!=EMD.map_callback&&EMD.map_callback(EMD.map_value.fclty)}}),_markerClick:null,addPrtFcltyMarker:function(a,b){EMD.map_state="addPrtFcltyMarker";EMD.map_value={fclty:a};EMD.map_callback=b;EMD.gis._initGisAdjust();EMD.gis._markerClick=new EMD.gis.addPrtFcltyMarkerClick;
EMD.map.addControl(EMD.gis._markerClick);EMD.gis._markerClick.activate()},removePrtFclty:function(a){var b=null;switch(a.prtFcltySe){case "C":b=EMD.userLayer.fcltyConstMarker.getFeatureBy("_fcltyObjCode",a.gisAssetsPrtAtCode+":"+a.gisAssetsCd+":"+a.gisAssetsSubCd+":"+a.prtFcltySe+":"+a.gisPrtFcltyCd+":"+a.gisPrtFcltySeq);EMD.userLayer.fcltyConstMarker.removeFeatures(b);break;case "M":b=EMD.userLayer.fcltyMechMarker.getFeatureBy("_fcltyObjCode",a.gisAssetsPrtAtCode+":"+a.gisAssetsCd+":"+a.gisAssetsSubCd+
":"+a.prtFcltySe+":"+a.gisPrtFcltyCd+":"+a.gisPrtFcltySeq);EMD.userLayer.fcltyMechMarker.removeFeatures(b);break;case "E":b=EMD.userLayer.fcltyInfoTeleMarker.getFeatureBy("_fcltyObjCode",a.gisAssetsPrtAtCode+":"+a.gisAssetsCd+":"+a.gisAssetsSubCd+":"+a.prtFcltySe+":"+a.gisPrtFcltyCd+":"+a.gisPrtFcltySeq);EMD.userLayer.fcltyInfoTeleMarker.removeFeatures(b);break;case "S":b=EMD.userLayer.fcltySocMarker.getFeatureBy("_fcltyObjCode",a.gisAssetsPrtAtCode+":"+a.gisAssetsCd+":"+a.gisAssetsSubCd+":"+a.prtFcltySe+
":"+a.gisPrtFcltyCd+":"+a.gisPrtFcltySeq);EMD.userLayer.fcltySocMarker.removeFeatures(b);break;case "P":b=EMD.userLayer.fcltyElecPowerMarker.getFeatureBy("_fcltyObjCode",a.gisAssetsPrtAtCode+":"+a.gisAssetsCd+":"+a.gisAssetsSubCd+":"+a.prtFcltySe+":"+a.gisPrtFcltyCd+":"+a.gisPrtFcltySeq),EMD.userLayer.fcltyElecPowerMarker.removeFeatures(b)}EMD.gis._markerClick.deactivate()},removeFeatures:function(b,l,c){l=EMD.gis.getUserLayer(l);EMD.selectControl.unselectAll();a.each(c,function(){this.popup!=d&&
EMD.map.removePopup(this.popup);this.state=OpenLayers.State.DELETE});resp=EMD.gis.getLayerProtocol(l).commit(c,{callback:function(a){if(a.error)return console.log("error"),-1;a.layer.removeFeatures(a.reqFeatures);alert("\uc601\uc5ed\uc774 \uc0ad\uc81c \ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}});resp.module=b;resp.layer=l},drawPrtFclty:function(a){var b;switch(a.gisPrtFcltyCd){case "55":b=EMD.context_root+"/images/egovframework/ygpa/gam/maps/map_icon/dam.png";break;default:b=EMD.context_root+"/images/egovframework/ygpa/gam/maps/map_icon/photo.png"}if((null==
a.loCrdnt||null==a.laCrdnt)&&null!=a.lat&&null!=a.lng){var d=new OpenLayers.LonLat(a.lng,a.lat),c=new OpenLayers.Projection("EPSG:4326"),d=d.transform(c,new OpenLayers.Projection("EPSG:900913"));a.loCrdnt=d.lon;a.laCrdnt=d.lat}b=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(a.loCrdnt,a.laCrdnt),{gisAssetsPrtAtCode:a.gisAssetsPrtAtCode,gisAssetsCd:a.gisAssetsCd,gisAssetsSubCd:a.gisAssetsSubCd,gisPrtFcltyCd:a.gisPrtFcltyCd,gisPrtFcltySeq:a.gisPrtFcltySeq,prtFcltySe:a.prtFcltySe,fcltyNm:a.prtFcltyNm},
{externalGraphic:b,graphicHeight:37,graphicWidth:32,graphicXOffset:-18,graphicYOffset:-37,labelOutlineColor:"white",labelOutlineWidth:3,label:a.prtFcltyNm});b._fcltyObjCode=a.gisAssetsPrtAtCode+":"+a.gisAssetsCd+":"+a.gisAssetsSubCd+":"+a.prtFcltySe+":"+a.gisPrtFcltyCd+":"+a.gisPrtFcltySeq;switch(a.prtFcltySe){case "C":EMD.userLayer.fcltyConstMarker.addFeatures(b);break;case "M":EMD.userLayer.fcltyMechMarker.addFeatures(b);break;case "E":EMD.userLayer.fcltyInfoTeleMarker.addFeatures(b);break;case "S":EMD.userLayer.fcltySocMarker.addFeatures(b);
break;case "P":EMD.userLayer.fcltyElecPowerMarker.addFeatures(b)}},_getLayerFilter:function(a,b){var c=null;a==EMD.userLayer.gisAssetsCd?c=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_CD",value:b.gisAssetsPrtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_CD",value:b.gisAssetsCd}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"ASSETS_SCD",value:b.gisAssetsSubCd})]}):a==EMD.userLayer.assetsRent&&(c=b.assetsUsageSeq==d?new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_AT_CD",value:b.prtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_YEAR",value:b.mngYear}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_NO",
value:b.mngNo}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_CNT",value:b.mngCnt})]}):new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_AT_CD",value:b.prtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_YEAR",value:b.mngYear}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"MNG_NO",value:b.mngNo}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_CNT",value:b.mngCnt}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_USAGE_SEQ",value:b.assetsUsageSeq})]}));return c},_getLayerprotocol:function(a){var b=null;a==EMD.userLayer.gisAssetsCd?b=EMD.protocols.gisAssetsCd:a==EMD.userLayer.assetsRent?b=EMD.protocols.assetsRent:a==EMD.userLayer.assetsRentDetail&&(b=EMD.protocols.assetsRentDetail);
return b},_findFeatures:function(a,b){for(var d=[],c=0;c<a.features.length;c++)if((feature=a.features[c])&&feature.attributes&&EMD.gis.compareLayerObject(a,feature,b)){d.push(feature);break}return d},findFeatureData:function(b,l,c,g){b=EMD.gis.getUserLayer(l);if(null!=b){l=EMD.gis._getLayerFilter(c);var h=EMD.gis._getLayerprotocol(b),m=null==zoomToExtent?!1:zoomToExtent,q=refresh==d?!1:refresh;g!=d?(g.zoomToExtent=null==g.zoomToExtent?!1:zoomToExtent,g.refresh=g.refresh==d?!1:refresh):g={zoomTo:!0,
refreshData:!0};if(0==EMD.gis._findFeatures(b,c).length||q)h.read({filter:l,_callback:g.callback,opt:g,callback:function(b){if(b.error)return console.log("find error"),0;if(0<b.features.length){var k,l=new OpenLayers.Projection("EPSG:5186");b.features.length!=d?a.each(b.features,function(){this.geometry=this.geometry.transform(l,EMD.map.getProjection())}):this.geometry=b.features.geometry.transform(l,EMD.map.getProjection());if(this.opt.zoomTo){k=b.features[0].geometry.getBounds().clone();for(var c=
1;c<b.features.length;c++)k.extend(b.features[c].geometry.getBounds());EMD.map.zoomToExtent(k)}}}});else if(m){ext=resp.features[0].geometry.getBounds().clone();for(c=1;c<resp.features.length;c++)ext.extend(resp.features[c].geometry.getBounds());EMD.map.zoomToExtent(ext)}}},selectFeatureData:function(b,l,c,g,h){var m=EMD.gis.getUserLayer(l);if(null!=m){b=EMD.gis._getLayerFilter(c);l=EMD.gis._getLayerprotocol(m);var q=null==g?!1:g;g=h==d?!1:h;if(0==EMD.gis._findFeatures(m,c).length||g)l.read({filter:b,
callback:function(b){if(b.error)return 0;if(0<b.features.length){var k,d=new OpenLayers.Projection("EPSG:5186");a.each(b.features,function(){this.geometry=this.geometry.transform(d,EMD.map.getProjection())});m.removeAllFeatures();m.addFeatures(b.features);m.redraw();if(q){k=b.features[0].geometry.getBounds().clone();for(var l=1;l<b.features.length;l++)k.extend(b.features[l].geometry.getBounds());EMD.map.zoomToExtent(k)}}}});else if(q){ext=resp.features[0].geometry.getBounds().clone();for(c=1;c<resp.features.length;c++)ext.extend(resp.features[c].geometry.getBounds());
EMD.map.zoomToExtent(ext)}}},selectRentFeature:function(b){null!=b&&(b.assetsUsageSeq==d?protocol.read({filter:filter,callback:function(b){if(b.error)return 0;if(0<b.features.length){var k,d=new OpenLayers.Projection("EPSG:5186");a.each(b.features,function(){this.geometry=this.geometry.transform(d,EMD.map.getProjection())});EMD.userLayer.assetsRentDetail.removeAllFeatures();EMD.userLayer.assetsRentDetail.addFeatures(b.features);EMD.userLayer.assetsRentDetail.redraw();k=b.features[0].geometry.getBounds().clone();
for(var c=1;c<b.features.length;c++)k.extend(b.features[c].geometry.getBounds());EMD.map.zoomToExtent(k)}}}):EMD.strategies.assetsRentDetail.setFilter(new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_AT_CD",value:b.prtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_YEAR",value:b.mngYear}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"MNG_NO",value:b.mngNo}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_CNT",value:b.mngCnt}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_USAGE_SEQ",value:b.assetsUsageSeq})]})))},assetRentStatsRedraw:function(){EMD.layerDisplay.assetRentStats!=d&&EMD.strategies.assetRentStats.setFilter(new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"PRT_AT_CD",value:"622"}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_YEAR",value:"2014"})]}))},gnrlRentStatsRedraw:function(){var a=new Date;EMD.layerDisplay.gnrlRentStats!=d&&EMD.strategies.gnrlRentStats.setFilter(new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"QUAY_GROUP_CD",value:"P"}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LESS_THAN,
property:"GR_USAGE_PD_FROM",value:a}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO,property:"GR_USAGE_PD_TO",value:a}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRMISN_YN",value:"Y"})]}))},cntrRentStatsRedraw:function(){var a=new Date;EMD.layerDisplay.cntrRentStats!=d&&EMD.strategies.cntrRentStats.setFilter(new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"QUAY_GROUP_CD",value:"P"}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LESS_THAN,property:"GR_USAGE_PD_FROM",value:a}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO,property:"GR_USAGE_PD_TO",value:new Date}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRMISN_YN",value:"Y"})]}))},htldRentStatsRedraw:function(){var a=new Date;EMD.layerDisplay.htldRentStats!=d&&EMD.strategies.htldRentStats.setFilter(new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,
filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"QUAY_GROUP_CD",value:"H"}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LESS_THAN,property:"GR_USAGE_PD_FROM",value:a}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO,property:"GR_USAGE_PD_TO",value:a}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRMISN_YN",value:"Y"})]}))},ccntRentStatsRedraw:function(){var a=
new Date;EMD.layerDisplay.ccntRentStats!=d&&EMD.strategies.ccntRentStats.setFilter(new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"QUAY_GROUP_CD",value:"E"}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LESS_THAN,property:"GR_USAGE_PD_FROM",value:a}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO,property:"GR_USAGE_PD_TO",
value:a}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRMISN_YN",value:"Y"})]}))},trnpRentStatsRedraw:function(){var a=new Date;EMD.layerDisplay.trnpRentStats!=d&&EMD.strategies.trnpRentStats.setFilter(new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"QUAY_GROUP_CD",value:"T"}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.LESS_THAN,
property:"GR_USAGE_PD_FROM",value:a}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.GREATER_THAN_OR_EQUAL_TO,property:"GR_USAGE_PD_TO",value:a}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRMISN_YN",value:"Y"})]}))},goLocation:function(a,b){var d=new OpenLayers.LonLat(b,a);EMD.map.setCenter(d)},goLocation4326:function(a,b){var d=new OpenLayers.LonLat(b,a),c=new OpenLayers.Projection("EPSG:4326"),d=d.transform(c,new OpenLayers.Projection("EPSG:900913"));
EMD.map.setCenter(d,18)},selectPrtFclty:function(a){var b=null;switch(a.prtFcltySe){case "C":b=EMD.userLayer.fcltyConstMarker.getFeatureBy("_fcltyObjCode",a.gisAssetsPrtAtCode+":"+a.gisAssetsCd+":"+a.gisAssetsSubCd+":"+a.prtFcltySe+":"+a.gisPrtFcltyCd+":"+a.gisPrtFcltySeq);break;case "M":b=EMD.userLayer.fcltyMechMarker.getFeatureBy("_fcltyObjCode",a.gisAssetsPrtAtCode+":"+a.gisAssetsCd+":"+a.gisAssetsSubCd+":"+a.prtFcltySe+":"+a.gisPrtFcltyCd+":"+a.gisPrtFcltySeq);break;case "E":b=EMD.userLayer.fcltyInfoTeleMarker.getFeatureBy("_fcltyObjCode",
a.gisAssetsPrtAtCode+":"+a.gisAssetsCd+":"+a.gisAssetsSubCd+":"+a.prtFcltySe+":"+a.gisPrtFcltyCd+":"+a.gisPrtFcltySeq);break;case "S":b=EMD.userLayer.fcltySocMarker.getFeatureBy("_fcltyObjCode",a.gisAssetsPrtAtCode+":"+a.gisAssetsCd+":"+a.gisAssetsSubCd+":"+a.prtFcltySe+":"+a.gisPrtFcltyCd+":"+a.gisPrtFcltySeq);break;case "P":b=EMD.userLayer.fcltyElecPowerMarker.getFeatureBy("_fcltyObjCode",a.gisAssetsPrtAtCode+":"+a.gisAssetsCd+":"+a.gisAssetsSubCd+":"+a.prtFcltySe+":"+a.gisPrtFcltyCd+":"+a.gisPrtFcltySeq)}null==
b?alert("\uc120\ud0dd\ub41c \uc2dc\uc124\uc758 \uc815\uc758\ub41c \uc704\uce58\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):EMD.selectControl.select(b)},setScale:function(a){EMD.map.setScale(a)},showGisAssetCd:function(a){a=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_CD",value:a.gisAssetsPrtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_CD",
value:a.gisAssetsCd}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_SCD",value:a.gisAssetsSubCd})]});EMD.protocols.gisAssetsCd.read({filter:a,callback:function(a){if(a.error)return-1}})},selectAssetCdFeature:function(a,b,d,c){a=null;switch(prtFclty.prtFcltySe){case "C":a=EMD.userLayer.fcltyConstMarker.getFeatureBy("_fcltyObjCode",prtFclty.gisAssetsPrtAtCode+":"+prtFclty.gisAssetsCd+":"+prtFclty.gisAssetsSubCd+":"+prtFclty.prtFcltySe+":"+prtFclty.gisPrtFcltyCd+
":"+prtFclty.gisPrtFcltySeq);break;case "M":a=EMD.userLayer.fcltyMechMarker.getFeatureBy("_fcltyObjCode",prtFclty.gisAssetsPrtAtCode+":"+prtFclty.gisAssetsCd+":"+prtFclty.gisAssetsSubCd+":"+prtFclty.prtFcltySe+":"+prtFclty.gisPrtFcltyCd+":"+prtFclty.gisPrtFcltySeq);break;case "E":a=EMD.userLayer.fcltyInfoTeleMarker.getFeatureBy("_fcltyObjCode",prtFclty.gisAssetsPrtAtCode+":"+prtFclty.gisAssetsCd+":"+prtFclty.gisAssetsSubCd+":"+prtFclty.prtFcltySe+":"+prtFclty.gisPrtFcltyCd+":"+prtFclty.gisPrtFcltySeq);
break;case "S":a=EMD.userLayer.fcltySocMarker.getFeatureBy("_fcltyObjCode",prtFclty.gisAssetsPrtAtCode+":"+prtFclty.gisAssetsCd+":"+prtFclty.gisAssetsSubCd+":"+prtFclty.prtFcltySe+":"+prtFclty.gisPrtFcltyCd+":"+prtFclty.gisPrtFcltySeq);break;case "P":a=EMD.userLayer.fcltyElecPowerMarker.getFeatureBy("_fcltyObjCode",prtFclty.gisAssetsPrtAtCode+":"+prtFclty.gisAssetsCd+":"+prtFclty.gisAssetsSubCd+":"+prtFclty.prtFcltySe+":"+prtFclty.gisPrtFcltyCd+":"+prtFclty.gisPrtFcltySeq)}null==a?alert("\uc120\ud0dd\ub41c \uc2dc\uc124\uc758 \uc815\uc758\ub41c \uc704\uce58\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):
EMD.selectControl.select(a)},removeAssetCdFeature:function(a){a=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_CD",value:a.gisAssetsPrtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_CD",value:a.gisAssetsCd}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_SCD",value:a.gisAssetsSubCd})]});
EMD.protocols.gisAssetsCd["delete"]({filter:a});EMD.protocols.gisAssetsCd.commit()},modifyAssetCdFeature:function(b,d){var c=new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_CD",value:b.gisAssetsPrtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_CD",value:b.gisAssetsCd}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"ASSETS_SCD",value:b.gisAssetsSubCd})]});EMD.protocols.gisAssetsCd.read({filter:c,callback:function(c){if(c.error)return 0;0<c.features.length?(c.features[0].geometry=d.geometry.clone(),c.features[0].state=OpenLayers.State.UPDATE,EMD.protocols.gisAssetsCd.commit(c.features,{callback:function(b){if(b.error)return-1;var d=new OpenLayers.Projection("EPSG:5186");EMD.selectControl.unselectAll();a.each(b.reqFeatures,function(){this.geometry=this.geometry.transform(d,EMD.map.getProjection())});
EMD.userLayer.gisAssetsCd.addFeatures(b.reqFeatures);EMD.userLayer.gisAssetsCd.redraw()}})):(c=new OpenLayers.Feature,c.state=OpenLayers.State.INSERT,c.geometry=d.geometry.clone(),c.attributes={PRT_CD:b.gisAssetsPrtAtCode,ASSETS_CD:b.gisAssetsCd,ASSETS_SCD:b.gisAssetsSubCd,ASSETS_NM:b.gisAssetsNm,BJD_CODE:EMD.gis.makeBJDCode(b.gisAssetsLocplc,b.gisAssetsLnm,b.gisAssetsLnmSub)},c=new OpenLayers.Feature,c.geometry=d.geometry.clone(),c.attributes={PRT_CD:b.gisAssetsPrtAtCode,ASSETS_CD:b.gisAssetsCd,
ASSETS_SCD:b.gisAssetsSubCd,ASSETS_NM:b.gisAssetsNm,LOCPLC:b.gisAssetsLocplc,GIS_ASSETS_LNM:b.gisAssetsLnm,GIS_ASSETS_LNM_SUB:b.gisAssetsLnmSub},EMD.protocols.gisAssetsCd.create(c),c.state=OpenLayers.State.INSERT,EMD.protocols.gisAssetsCd.commit([c],{callback:function(b){if(b.error)return-1;EMD.selectControl.unselectAll();var d=new OpenLayers.Projection("EPSG:5186");a.each(b.reqFeatures,function(){this.geometry=this.geometry.transform(d,EMD.map.getProjection())});EMD.userLayer.gisAssetsCd.addFeatures(b.reqFeatures);
EMD.userLayer.gisAssetsCd.redraw()}}))}})},findLotCode:function(a,b,d,c,g,h){a=a+(c?"2":"1")+EMD.util.leftPad(1*b,"0",4)+EMD.util.leftPad(1*(d||0),"0",4);console.log('pnu:"'+a+'"');a=new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PNU",value:a});EMD.protocols.landCode.read({filter:a,callback:function(a,b){if(a.error)return a.userdata.func(null,"error"),-1;a.userdata.func(a.features,a.userdata.attr)}}).userdata={attr:g,func:h}},modifyAssetCdFeatureByBJDCode:function(a){a=
new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_CD",value:a.gisAssetsPrtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_CD",value:a.gisAssetsCd}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_SCD",value:a.gisAssetsSubCd})]});EMD.lotareaProtocol.read({filter:a,callback:function(a){if(a.error)return-1}});
EMD.protocols.gisAssetsCd.update(features,{filter:new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_CD",value:gisAssetsPrtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_CD",value:gisAssetsCd}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_SCD",value:gisAssetsSubCd})]}),callback:function(a){if(a.error)return-1}})},
getBupjungDongNm:function(b,d,c){null!=c&&a.ajax({url:EMD.context_root+"/cmmn/selectBupJungDongCodeNm.do",type:"POST",userData:{callBack:c,data:d},dataType:"json",global:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"cmd",value:b}],success:function(b){null!=b.resultCode&&0!=b.resultCode?1==b.resultCode&&(alert(b.resultMsg),location.reload()):(b=a.extend(b,this.userData.data),null!=this.userData.callBack&&this.userData.callBack(b))},error:function(a,b,d){}})},removeFeature:function(a,
b){var d=EMD.gis.getUserLayer(a),c,g;len=d.features.length;var h=[];EMD.selectControl.unselectAll();for(c=0;c<len;c++)(g=d.features[c])&&g.attributes&&EMD.gis.compareLayerObject(d,g,b)&&h.push(g);for(c=0;c<h.length;c++)g=h[c],g.state=OpenLayers.State.DELETE,d.removeFeature(g)},loadMapDataFlexGrid:function(a,b,d,c,g){},loadMapDataCode:function(a,b,d,c){},clearMap:function(a,b){var d=EMD.gis.getUserLayer(b);EMD.gis.closeAllPopup(b);d.removeAllFeatures()},showStatusMapView:function(a,b,c,g,h,m,q,r,t){c=
a.$("#"+c).flexGetData();b=EMD.gis.getUserLayer(b);var u=EMD.userLayer.assetStats,y=null,w=0,z=[];len=b.features.length;u.removeAllFeatures();switch(g){case "user":EMD.gis.getStatsColor=a[r];EMD.gis.getStatsLabel=a[t];break;case "rate":EMD.gis.getStatsColor=function(a){return a.attributes!=d?EMD.util.hsv2rgb(Math.floor(a.attributes.value/100*120/100),1,1):"#FFFFFF"};EMD.gis.getStatsLabel=function(a){return a.attributes==d||a.attributes.label==d?"":a.attributes.label};break;default:for(EMD.gis.getStatsColor=
function(a){if(a.attributes!=d){var b=a.attributes.value||0;a=a.attributes["max-value"]||0;b=0!=a?Math.round(b/a*100):0;return EMD.util.hsv2rgb(Math.floor(120*b/100),1,1)}return"#FFFFFF"},EMD.gis.getStatsLabel=function(a){return a.attributes==d||a.attributes.label==d?"":a.attributes.label},r=0;r<c.length;r++)t=c[r][h],"string"==typeof t&&(t=1*t.replace(/,/g,"")),t>w&&(w=t)}for(t=0;t<len;t++)if((feature=b.features[t])&&feature.attributes)for(r=0;r<c.length;r++){var v=c[r];if(EMD.gis.compareLayerObject(b,
feature,v)){var A=feature.clone();A.attributes.value=v[h];"rate"!=g&&(A.attributes["max-value"]=w);A.attributes.label=m!=d?v[m]:v.gisAssetsNm;z[z.length]=A;A=new OpenLayers.Geometry.Point(feature.bounds.left,feature.bounds.bottom);v=OpenLayers.Projection.transform(A,b.projection,EMD.map.projection);A=new OpenLayers.Geometry.Point(feature.bounds.right,feature.bounds.top);A=OpenLayers.Projection.transform(A,b.projection,EMD.map.projection);null==y&&(y=new OpenLayers.Bounds);y.extend(v);y.extend(A)}}0<
z.length?(u.addFeatures(z),u.drawFeature(z),EMD.map.zoomToExtent(y),u.events.remove("featureselected"),u.events.register("featureselected",{module:a,selectFeature:q},function(b){if(null!=this.selectFeature&&"function"==typeof a[q])a[q](b);else EMD.gis.openPopup(b.feature,"/maps/assets/gamAssetCdInfo.do",EMD.util.objectToArray(b.feature.attributes))}),u.events.remove("featureunselected"),u.events.register("featureunselected",null,function(a){a=a.feature;null!=a.popup&&(EMD.map.removePopup(a.popup),
a.popup.destroy(),a.popup=null)})):alert("\uc870\ud68c\ub41c \uc601\uc5ed\uc774 \uc874\uc7ac \ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")},_showFeatureData:function(b,c,g){var h=EMD.gis.getUserLayer(c),p,m;len=h.features.length;var q=null,r=[];if(g.length!=d&&0==g.length||"object"!=typeof g)alert("\ud56d\ubaa9\uc744 \uc120\ud0dd \ud558\uc2ed\uc2dc\uc694.");else{for(var t=1;t;){if(g.length!=d)for(p=0;p<len;p++){if((m=h.features[p])&&m.attributes)for(var u=0;u<g.length;u++)if(EMD.gis.compareLayerObject(h,
m,g[u])&&(r.push(m),EMD.selectControl.select(m),null!=m.bounds)){var y=new OpenLayers.Geometry.Point(m.bounds.left,m.bounds.bottom),w=OpenLayers.Projection.transform(y,h.projection,EMD.map.projection),y=new OpenLayers.Geometry.Point(m.bounds.right,m.bounds.top),y=OpenLayers.Projection.transform(y,h.projection,EMD.map.projection);null==q&&(q=new OpenLayers.Bounds(w.x,w.y,y.x,y.y));q.extend(w);q.extend(y)}}else for(p=0;p<len;p++)(m=h.features[p])&&m.attributes&&EMD.gis.compareLayerObject(h,m,g)&&(r.push(m),
EMD.selectControl.select(m),null!=m.bounds&&(y=new OpenLayers.Geometry.Point(m.bounds.left,m.bounds.bottom),w=OpenLayers.Projection.transform(y,h.projection,EMD.map.projection),y=new OpenLayers.Geometry.Point(m.bounds.right,m.bounds.top),y=OpenLayers.Projection.transform(y,h.projection,EMD.map.projection),null==q&&(q=new OpenLayers.Bounds(w.x,w.y,y.x,y.y)),q.extend(w),q.extend(y)));if(0==r.length){if("assetsRent"==c){a.ajax({url:EMD.context_root+"/maps/selectMapsAssetRentList.do",type:"POST",module:b,
dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:g,success:function(a){EMD.gis._showFeatureData(b,"assetsRentDetail",a.resultList)}});return}"assetsRentDetail"==c?(c="gisAssetsCd",h=EMD.gis.getUserLayer(c),len=h.features.length):t=0}else t=0,EMD.map.zoomToExtent(q)}0==r.length?alert("\uc704\uce58 \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):EMD.selectControl.unselectAll()}},showMapDataFlexGrid:function(a,b,d,c,g){d=a.$("#"+d).selectedRows();EMD.gis._showFeatureData(a,
b,d)},showMapDataCode:function(a,b,d){EMD.gis._showFeatureData(a,b,a[d])},editLayer:function(a,b,d){b=EMD.gis.getUserLayer(b);if(null==b)alert("\ud3b8\uc9d1 \ud560 \uc218 \uc5c6\ub294 \uc9c0\ub3c4 \ub808\uc774\uc5b4 \uc785\ub2c8\ub2e4.");else{EMD._currentEditLayer=b;EMD.editControls={addPoint:new OpenLayers.Control.DrawFeature(b,OpenLayers.Handler.Point,{featureAdded:function(a){console.log("add point");EMD.gis.storeLayerObject(this.layer,a,null);this.layer.addFeatures([a]);this.layer.redraw()}}),
addLine:new OpenLayers.Control.DrawFeature(b,OpenLayers.Handler.Path,{featureAdded:function(a){console.log("add line");EMD.gis.storeLayerObject(this.layer,a,null);this.layer.addFeatures([a])}}),addFeature:new OpenLayers.Control.DynamicMeasure(OpenLayers.Handler.Polygon,{drawingLayer:b,handlerOptions:{holeModifier:"altKey"},featureAdded:function(a){console.log("add feature");EMD.gis.storeLayerObject(this.drawingLayer,a,null);this.drawingLayer.addFeatures([a])}}),editFeature:new OpenLayers.Control.ModifyFeature(b,
{vertexRenderIntent:"modify",virtualStyle:{strokeColor:"#00ff00",fillColor:"#00ff00",strokeOpacity:1,strokeWidth:2,pointRadius:5,graphicName:"triangle"},mode:OpenLayers.Control.ModifyFeature.RESHAPE,handlerOptions:{holeModifier:"altKey"}}),delFeature:new DeleteFeature(b,{title:"\uc0ad\uc81c"})};for(var c in EMD.editControls)EMD.map.addControl(EMD.editControls[c]);c=new OpenLayers.Control.Button({title:"\uc810 \ucd94\uac00",displayClass:"olControlEditAddPoint",type:OpenLayers.Control.TYPE_TOGGLE,eventListeners:{activate:function(){for(var a in EMD.editControls){var b=
EMD.editControls[a];"addPoint"==a?b.activate():b.deactivate()}},deactivate:function(){for(var a in EMD.editControls)EMD.editControls[a].deactivate()}}});var g=new OpenLayers.Control.Button({title:"\uc120 \ucd94\uac00",displayClass:"olControlEditAddLine",type:OpenLayers.Control.TYPE_TOGGLE,eventListeners:{activate:function(){for(var a in EMD.editControls){var b=EMD.editControls[a];"addLine"==a?b.activate():b.deactivate()}},deactivate:function(){for(var a in EMD.editControls)EMD.editControls[a].deactivate()}}}),
h=new OpenLayers.Control.Button({title:"\ucd94\uac00",displayClass:"olControlEditAdd",type:OpenLayers.Control.TYPE_TOGGLE,eventListeners:{activate:function(){for(var a in EMD.editControls){var b=EMD.editControls[a];"addFeature"==a?b.activate():b.deactivate()}},deactivate:function(){for(var a in EMD.editControls)EMD.editControls[a].deactivate()}}}),q=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1",displayClass:"olControlEditEdit",type:OpenLayers.Control.TYPE_TOGGLE,eventListeners:{activate:function(){for(var a in EMD.editControls){var b=
EMD.editControls[a];"editFeature"==a?b.activate():b.deactivate()}},deactivate:function(){for(var a in EMD.editControls)EMD.editControls[a].deactivate()}}}),r=new OpenLayers.Control.Button({title:"\uc0ad\uc81c",displayClass:"olControlEditDelete",type:OpenLayers.Control.TYPE_TOGGLE,eventListeners:{activate:function(){for(var a in EMD.editControls){var b=EMD.editControls[a];"delFeature"==a?b.activate():b.deactivate()}},deactivate:function(){for(var a in EMD.editControls)EMD.editControls[a].deactivate()}}});
EMD.save=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1 \uc644\ub8cc",module:a,retfunc:d,layer:b,trigger:function(){EMD.panel.deactivate();EMD.map.removeControl(EMD.panel);for(var b in EMD.editControls)EMD.editControls[b].deactivate();EMD.selectControl.activate();EMD.gis.storeLayer(EMD._currentEditLayer);a.showWindow()},displayClass:"olControlEditDone"});EMD.cancel=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1 \ucde8\uc18c",trigger:function(){EMD.panel.deactivate();EMD.map.removeControl(EMD.panel);
for(var b in EMD.editControls)EMD.editControls[b].deactivate();EMD.selectControl.activate();EMD.gis.refreshLayer(EMD._currentEditLayer);a.showWindow()},displayClass:"olControlEditCancel"});null!=EMD.panel&&EMD.panel.deactivate();EMD.panel=new OpenLayers.Control.Panel({displayClass:"mapEditToolBar"});EMD.selectControl.deactivate();EMD.panel.addControls([c,g,h,q,r,EMD.save,EMD.cancel]);EMD.map.addControl(EMD.panel);EMD.panel.activate()}},addFeatureCode:function(a,b,c,g){var h=EMD.gis.getUserLayer(b),
m=a[c],q;len=h.features.length;var r=[];if(m!=d&&EMD.gis.checkLayerObject(h,m))if(EMD.selectControl.unselectAll(),EMD.util.window_hide_all(),m._feature==d){for(g=0;g<len;g++)if((q=h.features[g])&&q.attributes&&EMD.gis.compareLayerObject(h,q,m)){r.push(q);break}if(0!=r.length){var t=[],m=r[0].geometry.getBounds().clone();t[t.length]=r[0].clone();for(g=1;g<r.length;g++)m.extend(r[g].geometry.getBounds()),t[t.length]=r[g].clone();EMD.map.zoomToExtent(m)}EMD.editControls={addFeature:new OpenLayers.Control.DynamicMeasure(OpenLayers.Handler.Polygon,
{drawingLayer:EMD.wfs,handlerOptions:{holeModifier:"altKey"}}),editFeature:new OpenLayers.Control.ModifyFeature(EMD.wfs,{mode:OpenLayers.Control.ModifyFeature.RESHAPE,handlerOptions:{holeModifier:"altKey"}}),delFeature:new DeleteFeature(EMD.wfs,{title:"\uc0ad\uc81c"})};for(var u in EMD.editControls)EMD.map.addControl(EMD.editControls[u]);u=new OpenLayers.Control.Button({title:"\ucd94\uac00",displayClass:"olControlEditAdd",type:OpenLayers.Control.TYPE_TOGGLE,eventListeners:{activate:function(){for(var a in EMD.editControls){var b=
EMD.editControls[a];"addFeature"==a?b.activate():b.deactivate()}},deactivate:function(){for(var a in EMD.editControls)EMD.editControls[a].deactivate()}}});g=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1",displayClass:"olControlEditEdit",type:OpenLayers.Control.TYPE_TOGGLE,eventListeners:{activate:function(){for(var a in EMD.editControls){var b=EMD.editControls[a];"editFeature"==a?b.activate():b.deactivate()}},deactivate:function(){for(var a in EMD.editControls)EMD.editControls[a].deactivate()}}});
r=new OpenLayers.Control.Button({title:"\uc0ad\uc81c",displayClass:"olControlEditDelete",type:OpenLayers.Control.TYPE_TOGGLE,eventListeners:{activate:function(){for(var a in EMD.editControls){var b=EMD.editControls[a];"delFeature"==a?b.activate():b.deactivate()}},deactivate:function(){for(var a in EMD.editControls)EMD.editControls[a].deactivate()}}});EMD.save=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1 \uc644\ub8cc",trigger:function(){EMD.panel.deactivate();EMD.map.removeControl(EMD.panel);
for(var b in EMD.editControls)EMD.editControls[b].deactivate();if(1<EMD.wfs.features.length){b=[];for(var d=0;d<EMD.wfs.features.length;d++)b[d]=EMD.wfs.features[d].geometry.clone();b=new OpenLayers.Geometry.MultiPolygon(b)}else b=new OpenLayers.Geometry.Polygon(EMD.wfs.features[0].geometry.clone());f=new OpenLayers.Feature.Vector(b);f.attributes=t[0].attributes;f.state=OpenLayers.State.UPDATE;h.addFeatures([f]);EMD.selectControl.activate();a.showWindow()},displayClass:"olControlEditDone"});EMD.cancel=
new OpenLayers.Control.Button({title:"\ud3b8\uc9d1 \ucde8\uc18c",trigger:function(){EMD.panel.deactivate();EMD.map.removeControl(EMD.panel);for(var d in EMD.editControls)EMD.editControls[d].deactivate();EMD.gis.selectFeatureData(a,b,a[c],!0,!0);EMD.selectControl.activate();a.showWindow()},displayClass:"olControlEditCancel"});null!=EMD.panel&&EMD.panel.deactivate();EMD.panel=new OpenLayers.Control.Panel({displayClass:"mapEditToolBar"});EMD.selectControl.deactivate();EMD.panel.addControls([u,g,r,EMD.save,
EMD.cancel]);EMD.map.addControl(EMD.panel);EMD.panel.activate()}else EMD.modifyFeature=new OpenLayers.Control.ModifyFeature(h,{mode:OpenLayers.Control.ModifyFeature.RESHAPE,handlerOptions:{holeModifier:"altKey"},afterfeaturemodified:function(b){h.addFeatures(b);h.redraw();a[c]._feature=b;EMD.modifyFeature.deactivate();a.showWindow()}}),EMD.map.addControl(EMD.modifyFeature),EMD.modifyFeature.activate(),EMD.modifyFeature.selectFeature(m._feature),u=new OpenLayers.Control.Button({title:"\ucd94\uac00",
trigger:function(){EMD.panel.deactivate();EMD.modifyFeature.deactivate();EMD.map.removeControl(EMD.panel);h.addFeatures(EMD.wfs.features);EMD.saveStrategy.save();a.showWindow()},displayClass:"olControlEditAdd"}),g=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1",trigger:function(){EMD.panel.deactivate();EMD.modifyFeature.deactivate();EMD.map.removeControl(EMD.panel);h.addFeatures(EMD.wfs.features);EMD.saveStrategy.save();a.showWindow()},displayClass:"olControlEditEdit"}),r=new OpenLayers.Control.Button({title:"\uc0ad\uc81c",
trigger:function(){EMD.panel.deactivate();EMD.modifyFeature.deactivate();EMD.map.removeControl(EMD.panel);h.addFeatures(EMD.wfs.features);EMD.saveStrategy.save();a.showWindow()},displayClass:"olControlEditDel"}),EMD.save=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1 \uc644\ub8cc",trigger:function(){EMD.panel.deactivate();EMD.modifyFeature.deactivate();EMD.map.removeControl(EMD.panel);h.addFeatures(EMD.wfs.features);EMD.saveStrategy.save();a.showWindow()},displayClass:"olControlEditDone"}),EMD.cancel=
new OpenLayers.Control.Button({title:"\ud3b8\uc9d1 \ucde8\uc18c",trigger:function(){EMD.panel.deactivate();EMD.modifyFeature.deactivate();EMD.map.removeControl(EMD.panel);EMD.gis.selectFeatureData(a,b,a[c],!0,!0);a.showWindow()},displayClass:"olControlEditCancel"}),null!=EMD.panel&&EMD.panel.deactivate(),EMD.panel=new OpenLayers.Control.Panel({displayClass:"mapEditToolBar"}),EMD.panel.addControls([u,g,r,EMD.save,EMD.cancel]);else alert("\uc18d\uc131\uc774 \uc815\uc758 \ub418\uc9c0 \uc54a\uc544 \ud3b8\uc9d1\uc774 \uac00\ub2a5\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.")},
removeFeatureCode:function(a,b,d){b=EMD.gis.getUserLayer(b);a=a[d];var c;len=b.features.length;var g=[];EMD.selectControl.unselectAll();for(d=0;d<len;d++)if((c=b.features[d])&&c.attributes&&EMD.gis.compareLayerObject(b,c,a)){g.push(c);break}if(0==g.length)return!1;if(0<g.length){for(d=0;d<g.length;d++)g[d].state!=OpenLayers.State.INSERT&&(g[d].state=OpenLayers.State.DELETE),b.removeFeatures(g),EMD.saveStrategy.save();b.redraw()}return!0},modifyFeatureAttr:function(a,b,d,c){},setFeatureCode:function(b,
c,g,h){b=EMD.gis.getUserLayer(c);c=EMD.gis.getLayerProtocol(c);EMD.gis.storeLayerObject(b,h,g);b.redraw();var p=h.geometry.clone();h.geometry=p.transform(EMD.map.getProjection(),new OpenLayers.Projection("EPSG:5186"));h.state=OpenLayers.State.UPDATE;c.update(h);c.commit([h],{layer:b,callback:function(b){if(b.error)return-1;var c=new OpenLayers.Projection("EPSG:5186");EMD.selectControl.unselectAll();if(b.reqFeatures.length!=d){a.each(b.reqFeatures,function(){var a=this.geometry;this.state="";this.geometry=
a.transform(c,EMD.map.getProjection())});var k=b.reqFeatures[0].layer;k.removeFeatures(b.reqFeatures);k.addFeatures(b.reqFeatures);k.redraw()}else b.reqFeatures.geometry=p.transform(c,EMD.map.getProjection()),b.reqFeatures.state=""}})},modifyFeatureCode:function(a,b,d,c){a=EMD.gis.getUserLayer(b);var g,h;len=a.features.length;b=[];for(g=0;g<len;g++)if((h=a.features[g])&&h.attributes&&EMD.gis.compareLayerObject(a,h,d)){b.push(h);break}0==b.length?(g=c.geometry,c.geometry=g.transform(c.layer.projection,
EMD.map.getProjection()),EMD.gis.storeLayerObject(a,c,d),c.state=OpenLayers.State.INSERT,a.addFeatures([c]),a.redraw(),EMD.protocols.gisAssetsCd.create(c),EMD.protocols.gisAssetsCd.commit(),EMD.saveStrategy.save()):0<b.length&&(g=c.geometry,b[0].geometry=g.transform(c.layer.projection,EMD.map.getProjection()),b[0].state=OpenLayers.State.UPDATE,a.addFeatures(b),a.drawFeature(b),a.redraw(),EMD.protocols.gisAssetsCd.update(b,{filter:new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"PRT_CD",value:b[0].gisAssetsPrtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_CD",value:b[0].gisAssetsCd}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_SCD",value:b[0].gisAssetsSubCd})]}),callback:function(a){if(a.error)return-1}}),EMD.saveStrategy.save())},changeFeatureAttribute:function(a,b,d,c){a=EMD.gis.getUserLayer(b);var g;len=a.features.length;var h=!1;for(b=0;b<len;b++)(g=a.features[b])&&
g.attributes&&EMD.gis.compareLayerObject(a,g,d)&&(EMD.gis.storeLayerObject(a,g,c),a.drawFeature(g),EMD.gis.storeLayerObject(a,g,c),h=!0);h&&EMD.saveStrategy.save()},addFeatureFlexGrid:function(a,b,d,c,g){var h=a.$("#"+d).selectedRows(),q=EMD.gis.getUserLayer(b);len=q.features.length;b=[];if(0==h.length)alert("\ud56d\ubaa9\uc744 \uc120\ud0dd \ud558\uc2ed\uc2dc\uc694.");else{EMD.selectControl.unselectAll();for(a=0;a<len;a++)if((d=q.features[a])&&d.attributes)for(c=0;c<h.length;c++)EMD.gis.compareLayerObject(q,
d,h[c])&&b.push(d);EMD.util.window_hide_all();if(0==b.length)EMD.map.addControl(new OpenLayers.Control.DrawFeature(EMD.userLayer.gisAssetsCd,OpenLayers.Handler.Polygon,{handlerOptions:{holeModifier:"altKey"},featureAdded:function(a){EMD.gis.storeLayerObject(q,a,h[0]);EMD.userLayer.gisAssetsCd.addFeatures([a]);EMD.saveStrategy.save()}}));else{d=b[0].geometry.getBounds().clone();for(a=1;a<b.length;a++)d.extend(b[a].geometry.getBounds());EMD.map.zoomToExtent(d);EMD.modifyFeature=new OpenLayers.Control.ModifyFeature(EMD.userLayer.gisAssetsCd,
{handlerOptions:{holeModifier:"altKey"},featureAdded:function(a){EMD.gis.storeLayerObject(q,a,h[0]);EMD.userLayer.gisAssetsCd.addFeatures(e.feature);EMD.saveStrategy.save()}});EMD.map.addControl(modifyFeature);modifyFeature.selectFeature(b[0])}}},removeFeatureFlexGrid:function(a,b,d,c,g){a=a.$("#"+d).selectedRows();b=EMD.gis.getUserLayer(b);len=b.features.length;g=[];if(0==a.length)alert("\ud56d\ubaa9\uc744 \uc120\ud0dd \ud558\uc2ed\uc2dc\uc694.");else{for(d=0;d<len;d++)if((c=b.features[d])&&c.attributes)for(var h=
0;h<a.length;h++)EMD.gis.compareLayerObject(b,c,a[h])&&g.push(c);if(0==g.length)return!1;b.removeFeatures(e.feature);EMD.saveStrategy.save();return!0}},readFeature:function(a,b,d,c){if(EMD.gis.getUserLayer(b)==EMD.userLayer.assetsRent)var g=EMD.protocols.assetsRent.read({filter:new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_AT_CD",value:d.prtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"MNG_YEAR",value:d.mngYear}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_NO",value:d.mngNo}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_CNT",value:d.mngCnt})]}),callback:c(response)});g.data={obj:d};return g},selectAssetCdToAssetRentDetailFeature:function(a,b,d){var c;c=EMD.userLayer.gisAssetsCd;var g,h;len=c.features.length;for(g=0;g<len;g++)if((h=c.features[g])&&h.attributes&&EMD.gis.compareLayerObject(c,
h,b)){c=new OpenLayers.Feature;c.geometry=h.geometry.clone();c.attributes={};EMD.gis.storeLayerObject(EMD.userLayer.assetsRentDetail,c,b);EMD.protocols.assetsRentDetail.update(c);c.state=OpenLayers.State.UPDATE;EMD.userLayer.assetsRentDetail.addFeatures([c]);EMD.userLayer.assetsRentDetail.drawFeature(c);d(a,c);return}c=new OpenLayers.Feature;h=new OpenLayers.Geometry.Polygon;c.geometry=new OpenLayers.Feature.Vector(h);c.attributes={};EMD.gis.storeLayerObject(EMD.userLayer.assetsRentDetail,c,b);EMD.protocols.assetsRentDetail.update(c);
c.state=OpenLayers.State.UPDATE;EMD.userLayer.assetsRentDetail.addFeatures([c]);EMD.userLayer.assetsRentDetail.drawFeature(c);d(a,c)},selectAssetRentDetail:function(a,b){EMD.protocols.assetsRentDetail.read({filter:new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_AT_CD",value:a.prtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_YEAR",
value:a.mngYear}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_NO",value:a.mngNo}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_CNT",value:a.mngCnt}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_USAGE_SEQ",value:a.assetsUsageSeq})]}),callback:function(a){a.features==d||0==a.features.length?alert("\uc815\uc758\ub41c GIS \uc601\uc5ed\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."):
a.data.src=a.features[0].clone()}}).data={obj:a,src:b}},modifyAssetRentDetailFeature:function(a,b,c,g){c.geometry.components==d||0==c.geometry.components.length?(alert("\uc704\uce58\ub97c \ud074\ub9ad\ud558\uc5ec \uc601\uc5ed\uc744 \uc9c0\uc815\ud569\ub2c8\ub2e4."),EMD.draw=new OpenLayers.Control.DrawFeature(EMD.userLayer.assetsRentDetail,OpenLayers.Handler.PathMeasureCustom,{title:"\ucd94\uac00",displayClass:"olControlDrawFeaturePolygon",multi:!0}),EMD.save=new OpenLayers.Control.Button({title:"\uc800\uc7a5",
trigger:function(){EMD.panel.removeControl(EMD.save);g(a,EMD.draw.feature);EMD.draw.deactivate()},displayClass:"olControlSaveFeatures"}),EMD.cancel=new OpenLayers.Control.Button({title:"\ucde8\uc18c",trigger:function(){EMD.panel.removeControl(EMD.save);EMD.map.addControl(EMD.draw);EMD.draw.deactivate();g(a,null)},displayClass:"olControlSaveFeatures"}),EMD.map.addControl(EMD.draw),EMD.draw.activate(),EMD.panel.addControls([EMD.save,EMD.cancel])):(EMD.edit=new OpenLayers.Control.ModifyFeature(EMD.userLayer.assetsRentDetail,
{title:"\uc218\uc815",displayClass:"olControlModifyFeature"}),EMD.edit.selectFeature(c),EMD.edit.mode=OpenLayers.Control.ModifyFeature.RESHAPE,EMD.edit.createVertices=!0,EMD.save=new OpenLayers.Control.Button({title:"\uc800\uc7a5",trigger:function(){EMD.panel.removeControls(EMD.save);g(EMD.edit.feature)},displayClass:"olControlSaveFeatures"}),EMD.selectControl.handlers.feature.stopDown=!0,EMD.selectControl.unselectAll(),EMD.selectControl.deactivate(),EMD.map.addControl(EMD.edit),EMD.edit.activate(),
EMD.panel.addControls([EMD.save]))},updateAssetRentDetailFeature:function(a,b){EMD.selectControl.unselectAll();EMD.protocols.gisAssetsCd.read({filter:new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_AT_CD",value:a.prtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_YEAR",value:a.mngYear}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,
property:"MNG_NO",value:a.mngNo}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_CNT",value:a.mngCnt}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"ASSETS_USAGE_SEQ",value:a.assetsUsageSeq})]}),callback:function(a){a.features==d||0==a.features.length?alert("GIS \uc601\uc5ed\uc774 \uc800\uc7a5\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."):(a.data.src=a.features[0].clone(),a.data.src.state=OpenLayers.State.UPDATE,
EMD.protocols.assetsRentDetail.update(a.data.src))}}).data={obj:a,src:b}},setAssetRentFeature:function(a,b,d,c){var g=EMD.gis.getUserLayer(b);EMD.selectControl.unselectAll();EMD.protocols.assetsRent.read({filter:new OpenLayers.Filter.Logical({type:OpenLayers.Filter.Logical.AND,filters:[new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"PRT_AT_CD",value:d.prtAtCode}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_YEAR",
value:d.mngYear}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_NO",value:d.mngNo}),new OpenLayers.Filter.Comparison({type:OpenLayers.Filter.Comparison.EQUAL_TO,property:"MNG_CNT",value:d.mngCnt})]}),callback:function(a){a=foundFeatures[0].geometry.getBounds().clone();for(var b=1;b<foundFeatures.length;b++)a.extend(foundFeatures[b].geometry.getBounds());EMD.map.zoomToExtent(a);EMD.modifyFeature=new OpenLayers.Control.ModifyFeature(EMD.userLayer.gisAssetsCd,
{handlerOptions:{holeModifier:"altKey"},featureAdded:function(a){EMD.gis.storeLayerObject(g,a,row[0]);EMD.userLayer.gisAssetsCd.addFeatures(e.feature);EMD.saveStrategy.save()}});EMD.map.addControl(modifyFeature);modifyFeature.selectFeature(foundFeatures[0])}}).data={obj:d,src:c};for(a=0;a<len;a++)(b=g.features[a])&&b.attributes&&EMD.gis.compareLayerObject(g,b,destFeature)&&(b.geometry=b.geometry.transform(gisAssetsCdProjection,EMD.map.getProjection()),EMD.userLayer.gisAssetsCd.addFeatures(b),EMD.saveStrategy.save(),
foundFeatures.push(c));EMD.util.window_hide_all();if(0==foundFeatures.length)EMD.map.addControl(new OpenLayers.Control.DrawFeature(EMD.userLayer.gisAssetsCd,OpenLayers.Handler.Polygon,{handlerOptions:{holeModifier:"altKey"},featureAdded:function(a){EMD.gis.storeLayerObject(g,a,row[0]);EMD.userLayer.gisAssetsCd.addFeatures([a]);EMD.saveStrategy.save()}}));else{c=foundFeatures[0].geometry.getBounds().clone();for(a=1;a<foundFeatures.length;a++)c.extend(foundFeatures[a].geometry.getBounds());EMD.map.zoomToExtent(c);
EMD.modifyFeature=new OpenLayers.Control.ModifyFeature(EMD.userLayer.gisAssetsCd,{handlerOptions:{holeModifier:"altKey"},featureAdded:function(a){EMD.gis.storeLayerObject(g,a,row[0]);EMD.userLayer.gisAssetsCd.addFeatures(e.feature);EMD.saveStrategy.save()}});EMD.map.addControl(modifyFeature);modifyFeature.selectFeature(foundFeatures[0])}},appendFeature:function(a,b,d,c){var g=a.$("#"+grid).selectedRows(),h=EMD.gis.getUserLayer(b),q;len=h.features.length;b=[];if(0==g.length)alert("\ud56d\ubaa9\uc744 \uc120\ud0dd \ud558\uc2ed\uc2dc\uc694.");
else{EMD.selectControl.unselectAll();for(a=0;a<len;a++)(q=h.features[a])&&q.attributes&&EMD.gis.compareLayerObject(h,q,d)&&(q.geometry=q.geometry.transform(gisAssetsCdProjection,EMD.map.getProjection()),EMD.userLayer.gisAssetsCd.addFeatures(q),EMD.saveStrategy.save(),b.push(c));EMD.util.window_hide_all();if(0==b.length)EMD.map.addControl(new OpenLayers.Control.DrawFeature(EMD.userLayer.gisAssetsCd,OpenLayers.Handler.Polygon,{handlerOptions:{holeModifier:"altKey"},featureAdded:function(a){EMD.gis.storeLayerObject(h,
a,g[0]);EMD.userLayer.gisAssetsCd.addFeatures([a]);EMD.saveStrategy.save()}}));else{d=b[0].geometry.getBounds().clone();for(a=1;a<b.length;a++)d.extend(b[a].geometry.getBounds());EMD.map.zoomToExtent(d);EMD.modifyFeature=new OpenLayers.Control.ModifyFeature(EMD.userLayer.gisAssetsCd,{handlerOptions:{holeModifier:"altKey"},featureAdded:function(a){EMD.gis.storeLayerObject(h,a,g[0]);EMD.userLayer.gisAssetsCd.addFeatures(e.feature);EMD.saveStrategy.save()}});EMD.map.addControl(modifyFeature);modifyFeature.selectFeature(b[0])}}},
showEditPanel:function(a){a=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1",trigger:function(){EMD.modifyFeatyure.mode=OpenLayers.Control.ModifyFeature.RESHAPE},displayClass:"olControlEditShpaePointFeatures"});var b=new OpenLayers.Control.Button({title:"\uc774\ub3d9",trigger:function(){EMD.modifyFeatyure.mode=OpenLayers.Control.ModifyFeature.DRAG},displayClass:"olControlMoveShpaeFeatures"}),d=new OpenLayers.Control.Button({title:"\ud3b8\uc9d1 \uc885\ub8cc",trigger:function(){EMD.edit.feature&&
EMD.edit.selectControl.unselectAll();EMD.saveStrategy.save();EMD.map.removeControl(EMD.panel)},displayClass:"olControlFinishEditShapeFeatures"});EMD.panel=new OpenLayers.Control.Panel({displayClass:"customEditingToolbar",allowDepress:!0});EMD.panel.addControls([a,b,d]);EMD.map.addControl(EMD.panel)},showDrawPanel:function(){EMD.draw=new OpenLayers.Control.DrawFeature(EMD.wfs,OpenLayers.Handler.Polygon,{title:"\ucd94\uac00",displayClass:"olControlDrawFeaturePolygon",multi:!0});EMD.edit=new OpenLayers.Control.ModifyFeature(EMD.wfs,
{title:"\uc218\uc815",displayClass:"olControlModifyFeature"});EMD.del=new DeleteFeature(EMD.wfs,{title:"\uc0ad\uc81c"});EMD.save=new OpenLayers.Control.Button({title:"\uc800\uc7a5",trigger:function(){EMD.edit.feature&&EMD.edit.selectControl.unselectAll();EMD.saveStrategy.save();EMD.map.removeControl(EMD.panel)},displayClass:"olControlSaveFeatures"});EMD.panel=new OpenLayers.Control.Panel({displayClass:"customEditingToolbar",allowDepress:!0});EMD.panel.addControls([EMD.save,EMD.del,EMD.edit,EMD.draw]);
EMD.map.addControl(EMD.panel)},getUserLayer:function(a){switch(a){case "landCode":return EMD.userLayer.landCode;case "gisAssetsCd":return EMD.userLayer.gisAssetsCd;case "assetsRent":return EMD.userLayer.assetsRent;case "assetsRentDetail":return EMD.userLayer.assetsRentDetail;case "assetStats":return EMD.userLayer.assetStats;case "gisArchFclty":return EMD.userLayer.gisArchFclty;case "gisITFclty":return EMD.userLayer.gisITFclty;case "gisMechFclty":return EMD.userLayer.gisMechFclty;case "gisElecFclty":return EMD.userLayer.gisElecFclty;
case "gisCivilFclty":return EMD.userLayer.gisCivilFclty}return null},getLayerProtocol:function(a){var b=null;if("string"==typeof a)switch(b=EMD.gis.getUserLayer(a),a){case "landCode":return EMD.protocols.landCode;case "gisAssetsCd":return EMD.protocols.gisAssetsCd;case "assetsRent":return EMD.protocols.assetsRent;case "assetsRentDetail":return EMD.protocols.assetsRentDetail;case "assetStats":return EMD.protocols.assetStats;case "gisCivilFclty":case "gisArchFclty":case "gisITFclty":case "gisMechFclty":case "gisElecFclty":return EMD.protocols.gisPrtFcltyCd}else b=
a;for(var c in EMD.protocols)if(null!=EMD.protocols[c]&&EMD.protocols[c].layer!=d&&EMD.protocols[c].layer==b)return EMD.protocols[c];return b==EMD.userLayer.gisArchFclty||b==EMD.userLayer.gisCivilFclty||b==EMD.userLayer.gisMechFclty||b==EMD.userLayer.gisElecFclty||b==EMD.userLayer.gisITFclty?EMD.protocols.gisPrtFcltyCd:null},newLayerObject:function(a,b,d){},checkLayerObject:function(a,b){if(a==EMD.userLayer.gisAssetsCd){var c=b.gisAssetsPrtAtCode==d?b.PRT_CD:b.gisAssetsPrtAtCode,g=b.gisAssetsCd==
d?b.ASSETS_CD:b.gisAssetsCd,h=b.gisAssetsSubCd==d?b.ASSETS_SCD:b.gisAssetsSubCd;return c!=d&&g!=d&&h!=d&&3==c.length&&3==g.length&&2==h.length}if(a==EMD.userLayer.assetRentStats){var c=b.prtAtCode==d?b.PRT_CD:b.prtAtCode,g=b.mngYear==d?b.MNG_YEAR:b.mngYear,h=b.mngNo==d?b.MNG_NO:b.mngNo,m=b.mngCnt==d?b.MNG_CNT:b.mngCnt;return c!=d&&g!=d&&h!=d&&m!=d&&3==c.length&&4==g.length&&3==h.length&&2==m.length}if(a==EMD.userLayer.assetsRentDetail)return c=b.prtAtCode==d?b.PRT_CD:b.prtAtCode,g=b.mngYear==d?b.MNG_YEAR:
b.mngYear,h=b.mngNo==d?b.MNG_NO:b.mngNo,m=b.mngCnt==d?b.MNG_CNT:b.mngCnt,c!=d&&g!=d&&h!=d&&m!=d&&3==c.length&&4==g.length&&3==h.length&&2==m.length;if(a==EMD.userLayer.gisArchFclty||a==EMD.userLayer.gisITFclty||a==EMD.userLayer.gisMechFclty||a==EMD.userLayer.gisElecFclty||a==EMD.userLayer.gisCivilFclty){var c=b.gisAssetsPrtAtCode==d?b.PRT_CD:b.gisAssetsPrtAtCode,g=b.gisAssetsCd==d?b.ASSETS_CD:b.gisAssetsCd,h=b.gisAssetsSubCd==d?b.ASSETS_SCD:b.gisAssetsSubCd,m=b.gisPrtFcltyCd==d?b.FCLTY_CD:b.gisPrtFcltyCd,
q=b.gisPrtFcltySeq==d?b.FCLTY_SEQ:b.gisPrtFcltySeq,r=b.prtFcltySe==d?b.FCLTY_SE:b.prtFcltySe;return c!=d&&g!=d&&h!=d&&m!=d&&q!=d&&r!=d&&3==c.length&&3==g.length&&2==h.length&&2==m.length&&4==q.length&&1==r.length}return!1},compareLayerObject:function(a,b,c){if(a==EMD.userLayer.gisAssetsCd){a=c.gisAssetsPrtAtCode==d?c.PRT_CD:c.gisAssetsPrtAtCode;var g=c.gisAssetsCd==d?c.ASSETS_CD:c.gisAssetsCd,h=c.gisAssetsSubCd==d?c.ASSETS_SCD:c.gisAssetsSubCd;return b.attributes.PRT_CD===a&&b.attributes.ASSETS_CD===
g&&b.attributes.ASSETS_SCD===h}if(a==EMD.userLayer.assetRentStats){a=c.prtAtCode==d?c.PRT_CD:c.prtAtCode;var g=c.mngYear==d?c.MNG_YEAR:c.mngYear,h=c.mngNo==d?c.MNG_NO:c.mngNo,m=c.mngCnt==d?c.MNG_CNT:c.mngCnt;return b.attributes.PRT_AT_CD===a&&b.attributes.MNG_NO===g&&b.attributes.MNG_NO===h&&b.attributes.MNG_CNT===m}if(a==EMD.userLayer.assetsRentDetail)return a=c.prtAtCode==d?c.PRT_CD:c.prtAtCode,g=c.mngYear==d?c.MNG_YEAR:c.mngYear,h=c.mngNo==d?c.MNG_NO:c.mngNo,m=c.mngCnt==d?c.MNG_CNT:c.mngCnt,c=
c.assetsUsageSeq==d?c.ASSETS_USAGE_SEQ:c.assetsUsageSeq,b.attributes.PRT_AT_CD===a&&b.attributes.MNG_NO===g&&b.attributes.MNG_NO===h&&b.attributes.MNG_CNT===m&&b.attributes.ASSETS_USAGE_SEQ===c;if(a==EMD.userLayer.gisArchFclty||a==EMD.userLayer.gisITFclty||a==EMD.userLayer.gisMechFclty||a==EMD.userLayer.gisElecFclty||a==EMD.userLayer.gisCivilFclty){a=c.gisAssetsPrtAtCode==d?c.PRT_CD:c.gisAssetsPrtAtCode;var g=c.gisAssetsCd==d?c.ASSETS_CD:c.gisAssetsCd,h=c.gisAssetsSubCd==d?c.ASSETS_SCD:c.gisAssetsSubCd,
m=c.gisPrtFcltyCd==d?c.FCLTY_CD:c.gisPrtFcltyCd,q=c.gisPrtFcltySeq==d?c.FCLTY_SEQ:c.gisPrtFcltySeq;c=c.prtFcltySe==d?c.FCLTY_SE:c.prtFcltySe;return b.attributes.PRT_CD===a&&b.attributes.ASSETS_CD===g&&b.attributes.ASSETS_SCD===h&&b.attributes.FCLTY_CD===m&&b.attributes.FCLTY_SEQ===q&&b.attributes.FCLTY_SE===c}return!1},storeLayerObject:function(a,b,c){if(a==EMD.userLayer.gisAssetsCd)b.attributes.PRT_CD=c.gisAssetsPrtAtCode,b.attributes.ASSETS_CD=c.gisAssetsCd,b.attributes.ASSETS_SCD=c.gisAssetsSubCd,
b.attributes.ASSETS_NM=c.gisAssetsNm,b.state!=OpenLayers.State.INSERT&&(b.state=OpenLayers.State.UPDATE);else if(a==EMD.userLayer.assetsRent)b.attributes.PRT_CD=c.prtAtCode,b.attributes.MNG_YEAR=c.mngYear,b.attributes.MNG_NO=c.mngNo,b.attributes.MNG_CNT=c.mngCnt,b.state!=OpenLayers.State.INSERT&&(b.state=OpenLayers.State.UPDATE);else if(a==EMD.userLayer.assetsRentDetail)b.attributes.PRT_CD=c.prtAtCode,b.attributes.MNG_YEAR=c.mngYear,b.attributes.MNG_NO=c.mngNo,b.attributes.MNG_CNT=c.mngCnt,b.attributes.MNG_SEQ=
c.assetsUsageSeq,b.attributes.GIS_PRT_CD=c.gisAssetsPrtAtCode,b.attributes.GIS_CD=c.gisAssetsCd,b.attributes.GIS_SUB_CD=c.gisAssetsSubCd,b.attributes.QUAY_CD=c.quayCd,b.attributes.USAGE_AR=c.usageAr,b.attributes.USAGE_PD_FROM=c.usagePdFrom,b.attributes.USAGE_PD_TO=c.usagePdTo,b.attributes.USAGE_PURPS=c.usagePurps,b.attributes.USAGE_DTLS=c.usageDtls,b.attributes.ENTRPS_SE=c.entrpsSe,b.attributes.USAGE_PRPOS_CD=c.usagePrposCd,b.attributes.EXEMPT_SE=c.exemptSe,b.attributes.EXEMPT_RSN_CD=c.exemptRsnCd,
b.attributes.EXEMPT_RSN=c.exemptRsn,b.attributes.EXEMPT_PD_FROM=c.exemptPdFrom,b.attributes.EXEMPT_PD_TO=c.exemptPdTo,b.attributes.COMPUT_DTLS=c.computDtls,b.attributes.OLNLP=c.olnlp,b.attributes.APPLC_TARIFF=c.applcTariff,b.attributes.APPLC_MTH=c.applcMth,b.attributes.PACK_SE=c.packSe,b.attributes.FEE_CALC_SE=c.feeCalcSe,b.attributes.RDCXPT_FEE_CALC_SE=c.rdcxptFeeCalcSe,b.attributes.RDCXPT_FEE=c.rdcxptFee,b.attributes.FEE=c.fee,b.attributes.TRMNAT_DT=c.trmnatDt,b.attributes.TRMNAT_RSN=c.trmnatRsn,
b.attributes.REG_USR=c.regUsr,b.attributes.REGIST_DT=c.registDt,b.attributes.UPD_USR=c.updUsr,b.attributes.UPDT_DT=c.updtDt,b.attributes.QUAY_GROUP_CD=c.quayGroupCd,b.state!=OpenLayers.State.INSERT&&(b.state=OpenLayers.State.UPDATE);else if(a==EMD.userLayer.gisArchFclty||a==EMD.userLayer.gisITFclty||a==EMD.userLayer.gisMechFclty||a==EMD.userLayer.gisElecFclty||a==EMD.userLayer.gisCivilFclty){null==c&&(c={PRT_CD:"",ASSETS_CD:"",ASSETS_SCD:"",FCLTY_CD:"",FCLTY_SEQ:"",FCLTY_SE:"",FCLTY_NM:"\ubbf8\uc815\uc758"},
a==EMD.userLayer.gisArchFclty?c.FCLTY_SE="A":a==EMD.userLayer.gisITFclty?c.FCLTY_SE="I":a==EMD.userLayer.gisMechFclty?c.FCLTY_SE="M":a==EMD.userLayer.gisElecFclty?c.FCLTY_SE="E":a==EMD.userLayer.gisCivilFclty&&(c.FCLTY_SE="C"));a=c.gisAssetsCd==d?c.ASSETS_CD:c.gisAssetsCd;var g=c.gisAssetsSubCd==d?c.ASSETS_SCD:c.gisAssetsSubCd,h=c.gisPrtFcltyCd==d?c.FCLTY_CD:c.gisPrtFcltyCd,m=c.gisPrtFcltySeq==d?c.FCLTY_SEQ:c.gisPrtFcltySeq,q=c.prtFcltySe==d?c.FCLTY_SE:c.prtFcltySe,r=c.prtFcltyNm==d?c.FCLTY_NM:c.prtFcltyNm;
b.attributes.PRT_CD=c.gisAssetsPrtAtCode==d?c.PRT_CD:c.gisAssetsPrtAtCode;b.attributes.ASSETS_CD=a;b.attributes.ASSETS_SCD=g;b.attributes.FCLTY_CD=h;b.attributes.FCLTY_SEQ=m;b.attributes.FCLTY_SE=q;b.attributes.FCLTY_NM=r;b.state!=OpenLayers.State.INSERT&&(b.state=OpenLayers.State.UPDATE)}},getWfsData:function(a,b){var c=OpenLayers.Util.getParameterString({SERVICE:"WFS",VERSION:"1.1.0",REQUEST:"GetFeature",BBOX:postioncd,SRSNAME:"EPSG:900913",OUTPUT:"text/xml;subType=gml/3.1.1/profiles/gmlsf/1.0.0/0",
EXCEPTIONS:"text/xml"});OpenLayers.loadURL("/proxy/proxy.jsp","?url="+escape("http://map.vworld.kr/js/wfs.do?APIKEY=369C4265-766B-31D6-9469-8FB5ECC1BE17&DOMAIN=localhost:8080"+c),this,getSearchdFeature)},OpenLayersVworld:OpenLayers.Class(OpenLayers.Layer.XYZ,{name:"vworldMap",sphericalMercator:!1,transitionEffect:"resize",buffer:1,displayOutsideMaxExtent:!0,initialize:function(a,b){if(null!=b.baseurl||0<b.baseurl.length)b.url=["http://xdworld.vworld.kr:8080/2d/Base/201310/${z}/${x}/${y}.png"];OpenLayers.Layer.XYZ.prototype.initialize.apply(this,
[a,[b.baseurl+"/${z}/${x}/${y}.png"],b])},clone:function(a){null==a&&(a=new OpenLayers.Layer.Vworld(this.name,this.getOptions()));return a=OpenLayers.Layer.XYZ.prototype.clone.apply(this,[a])},getXYZ:function(a){var b=this.map.getResolution(),c=Math.round((a.left-this.maxExtent.left)/(b*this.tileSize.w));a=Math.round((this.maxExtent.top-a.top)/(b*this.tileSize.h));var b=this.map.getZoom(),d=Math.pow(2,b);return 0>a||a>=d?{x:0,y:0,z:0}:{x:(c%d+d)%d,y:a,z:b}},CLASS_NAME:"OpenLayers.Layer.Vworld"}),
OpenLayersDaum:OpenLayers.Class(OpenLayers.Layer.XYZ,{name:"DaumMap",url:["http://i0.maps.daum-img.net/map/image/G03/i/1.04/L${z}/${y}/${x}.png","http://i1.maps.daum-img.net/map/image/G03/i/1.04/L${z}/${y}/${x}.png","http://i2.maps.daum-img.net/map/image/G03/i/1.04/L${z}/${y}/${x}.png","http://i3.maps.daum-img.net/map/image/G03/i/1.04/L${z}/${y}/${x}.png"],sphericalMercator:!1,transitionEffect:"resize",buffer:1,displayOutsideMaxExtent:!0,initialize:function(a,b){b?b.resolutions||(b.resolutions=[2048,
1024,512,256,128,64,32,16,8,4,2,1,0.5,0.25]):b={resolutions:[2048,1024,512,256,128,64,32,16,8,4,2,1,0.5,0.25]};OpenLayers.Layer.XYZ.prototype.initialize.apply(this,[a,null,b])},clone:function(a){null==a&&(a=new OpenLayers.Layer.Daum(this.name,this.getOptions()));return a=OpenLayers.Layer.XYZ.prototype.clone.apply(this,[a])},getXYZ:function(a){var b=this.getServerResolution(),c=Math.round((a.left-this.maxExtent.left)/(b*this.tileSize.w));a=Math.round((a.bottom-this.maxExtent.bottom)/(b*this.tileSize.h));
b=14-this.getServerZoom();if(this.wrapDateLine)var d=Math.pow(2,b),c=(c%d+d)%d;return{x:c,y:a,z:b}},CLASS_NAME:"OpenLayers.Layer.Daum"}),GTransformWMS:OpenLayers.Class(OpenLayers.Layer.WMS,{getURL:function(a){a=this.adjustBounds(a);var b=this.getImageSize(),c={},d=this.reverseAxisOrder();c.BBOX=this.encodeBBOX?a.toBBOX(null,d):a.toArray(d);c.WIDTH=b.w;c.HEIGHT=b.h;this.params.CRS!=this.map.getProjectionObject().projCode&&(d=new OpenLayers.Geometry.Point(a.left,a.bottom),b=OpenLayers.Projection.transform(d,
this.map.projection,this.projection),d=new OpenLayers.Geometry.Point(a.right,a.top),a=OpenLayers.Projection.transform(d,this.map.projection,this.projection),c.BBOX=[b.x,b.y,a.x,a.y]);return this.getFullRequestString(c)},getFullRequestString:function(a,b){this.map.getProjectionObject();1.3<=parseFloat(this.params.VERSION)?this.params.CRS="EPSG:5186":this.params.SRS="EPSG:5186";"boolean"==typeof this.params.TRANSPARENT&&(a.TRANSPARENT=this.params.TRANSPARENT?"TRUE":"FALSE");return OpenLayers.Layer.Grid.prototype.getFullRequestString.apply(this,
arguments)},CLASS_NAME:"GTransformWMS"}),fnRequestWFS:function(c,d,g){geometry=c;try{var h=c=null;"function"==typeof d&&(c=d);"function"==typeof g&&(h=g);OpenLayers.ProxyHost="/proxy.do?url=";var p=b.getElementById("buffer").value,m=b.getElementById("prop_name").value,q=b.getElementById("prop_val").value,r=b.getElementById("prop_opr").value;d="";d+="apiKey="+dataApiKey;""!=geometry?d+="&geometry="+geometry:""!=vCurNaviCode&&(d+="&emdCd="+vCurNaviCode);""!=q&&(d+="&filter="+m+":"+r+":"+encodeURI(q));
d+="&output="+output;d+="&srsName=EPSG:5186";0<p&&(d+="&buffer="+p);1<pageInfo.pageIndex&&(d+="&pageIndex="+pageInfo.pageIndex);d+="&pageUnit="+pageInfo.pageUnit;serviceId=a("#service").val();var t=OpenLayers.Util.extend({url:reqUrl+serviceId+"/data?"+d,headers:{"Content-Type":"text/plain"},success:c,failure:h,scope:this},{method:"GET"});OpenLayers.Request.issue(t)}catch(u){alert("\uacf5\uac04\uc815\ubcf4\uc870\ud68c\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.\n\n"+u.message)}},addFeature:function(a,
b){EMD.draw._mode={mode:a,param:b};EMD.map.addControl(EMD.panel)},cancelFeature:function(){EMD.map.removeControl(EMD.panel)},addAssetCdFeature:function(a,b){},showBupJungDongCode:function(a){OpenLayers.Request.GET({url:escape("http://map.vworld.kr/js/wfs.do"),params:{SERVICE:"WFS",VERSION:"1.1.0",REQUEST:"GetFeature",APIKEY:"5E7D605D-BD5A-3BEE-8C20-62172A86B4AA",DOMAIN:"http://localhost",BBOX:"14179985.99,4077303.96,14266206.96,4183704.31",TYPENAME:"LP_PA_CBND_BUBUN",emdCd:a,filter:"STD_SGGCD:like:"+
a.substring(0,5),SRSNAME:"EPSG:900913",OUTPUT:"text/xml;subType=gml/3.1.1/profiles/gmlsf/1.0.0/0",EXCEPTIONS:"text/xml"},callback:function(a){new OpenLayers.Format.GML}})},showFeature:function(a){},getLotAreaFeature:function(a){features=(new OpenLayers.Format.GML).read(a.responseText)},makePopup:function(b,c){a("button[data-role='assetInqire']",b.contentDiv).button({icons:{primary:"ui-icon-folder-open"}}).click(function(b){EMD.util.create_window(a(this).text(),"/code/assets/gamAssetCodeList.do",null,
{action:"prtFcltyInqire",gisPrtAtCode:a(this).data("assets-prt-at-code"),gisAssetsCd:a(this).data("assets-cd"),gisAssetsSubCd:a(this).data("assets-sub-cd")})});a("button[data-role='removeFeature']",b.contentDiv).button({icons:{primary:"ui-icon-trash"}}).click({feature:c},function(a){EMD.map.removePopup(a.data.feature.popup);a.data.feature.state=OpenLayers.State.DELETE;EMD.userLayer.gisAssetsCd.removeFeatures([a.data.feature]);EMD.saveStrategy.save()});b.updateSize()}},user:{hasAuth:function(a){a=
a.split(",");if(null!=EMD.userinfo&&null!=EMD.userinfo.authorities&&0<EMD.userinfo.authorities.length)for(var b=0;b<EMD.userinfo.authorities.length;b++)for(var c=0;c<a.length;c++)if(EMD.userinfo.authorities[b]==a[c])return!0;return!0},userId:function(){return EMD.userinfo.userId}},util:{printPageGrid:function(a,b,c,d){c={};null!=d&&(c=a.getFormValues("#"+d));a.printPage(b,c)},printPageValue:function(a,b,c){var d={};null!=c&&(d=a.getFormValues("#"+c));a.printPage(b,d)},printObj:function(b){if("undefined"!==
typeof JSON)return JSON.stringify(b,function(a,b){return"number"!==typeof b||isFinite(b)?b:String(b)});var c=[];a.each(b,function(b,d){var g;g=b+": "+(a.isPlainObject(d)?printObj(d):d);c.push(g)});return"{ "+c.join(", ")+" }"},getDate:function(a){null==a&&(a=new Date);return EMD.util.leftPad(a.getFullYear(),"0",4)+"-"+EMD.util.leftPad(a.getMonth()+1,"0",2)+"-"+EMD.util.leftPad(a.getDate(),"0",2)},compareDate:function(a,b){return isFinite(a=this.convert(a).valueOf())&&isFinite(b=this.convert(b).valueOf())?
(a>b)-(a<b):NaN},inRangeDate:function(a,b,c){return isFinite(a=this.convert(a).valueOf())&&isFinite(start=this.convert(start).valueOf())&&isFinite(end=this.convert(end).valueOf())?start<=a&&a<=end:NaN},getTimeStamp:function(a){null==a&&(a=new Date);return EMD.util.leftPad(a.getFullYear(),"0",4)+"-"+EMD.util.leftPad(a.getMonth()+1,"0",2)+"-"+EMD.util.leftPad(a.getDate(),"0",2)+" "+EMD.util.leftPad(a.getHours(),"0",2)+":"+EMD.util.leftPad(a.getMinutes(),"0",2)+":"+EMD.util.leftPad(a.getSeconds(),"0",
2)},addMonths:function(a,b){var c=a;null==b?c=new Date:a=b;return new Date(c.setMonth(c.getMonth()+a))},addDates:function(a,b){var c=a;b==d?c=new Date:a=b;return new Date(c.setDate(c.getDate()+a))},leftPad:function(a,b,c){var d="";a=a.toString();if(a.length<c)for(var g=0;g<c-a.length;g++)d+=b;return d+a},showMessage:function(b,d){var g=new dhtmlXPopup;g.attachHTML(d);if(a(b).is(":input")){var h=c.dhx4.absLeft(b),p=c.dhx4.absTop(b);g.show(h,p,b.offsetWidth,b.offsetHeight);a(b).blur({popup:g},function(a){a.data.popup&&
(a.data.popup.unload(),a.data.popup=null)});return g}return null},showErrorMessage:function(b,d){var g=new dhtmlXPopup;g.attachHTML(d);if(a(b).is(":input")){var h=c.dhx4.absLeft(b),p=c.dhx4.absTop(b);g.show(h,p,b.offsetWidth,b.offsetHeight);a(b).blur({popup:g},function(a){a.data.popup&&(a.data.popup.unload(),a.data.popup=null)});return g}return null},addCommas:function(a){x=(a+"").split(".");x1=x[0];x2=1<x.length?"."+x[1]:"";for(a=/(\d+)(\d{3})/;a.test(x1);)x1=x1.replace(a,"$1,$2");return x1+x2},
strToDate:function(a){a=a.replace(/-/g,"/");return new Date(Date.parse(a))},isDate:function(a){if(""==a)return!1;a=a.match(/^(\d{1,4})-(\d{1,2})-(\d{2})$/);if(null==a)return!1;dtYear=a[1];dtMonth=a[2];dtDay=a[3];return 1>dtMonth||12<dtMonth||1>dtDay||31<dtDay||(4==dtMonth||6==dtMonth||9==dtMonth||11==dtMonth)&&31==dtDay||2==dtMonth&&(a=0==dtYear%4&&(0!=dtYear%100||0==dtYear%400),29<dtDay||29==dtDay&&!a)?!1:!0},getLoginUserVO:function(){return EMD.userinfo},showProgress:function(){a("#progress_dialog").dialog("isOpen")||
a("#progress_dialog").dialog("open")},hideProgress:function(){a("#progress_dialog").dialog("isOpen")&&a("#progress_dialog").dialog("close")},clear_active:function(){a("a.active, tr.active").removeClass("active");a("ul.menu").hide()},objectToArray:function(a){var b=[],c;for(c in a)b[b.length]={name:c,value:a[c]};return b},create_window:function(c,g,h,s,p){var m="#window_"+EMD.window_seq,q="#dock_"+EMD.window_seq;EMD.window_seq++;var r=b.createElement("li");r.id=q.substring(1);r.innerHTML='<a href="'+
m+'">'+c+"</a>";a("#dock")[0].appendChild(r);q=b.createElement("div");q.id=m.substring(1);q.style.display="none";q.innerHTML='<div class="abs window_inner"><div class="window_top ui-widget-header"><span class="float_left">'+c+'</span> <span class="float_right"> <a href="#'+q.id+'" class="window_min"></a><a href="#'+q.id+'" class="window_resize"></a> <a href="#'+q.id+'" class="window_close"></a></span></div><div class="abs window_content"></div></div><div class="abs window_bottom ">\uc5ec\uc218\uad11\uc591\ud56d\ub9cc\uacf5\uc0ac \uc9c0\ub3c4\ud504\ub808\uc784\uc6cc\ud06c ver : 2015.01.29.002</div><span class="abs ui-resizable-handle ui-resizable-se"></span>';
a("#desktop")[0].appendChild(q);a(m).addClass("abs");a(m).addClass("window");a(m)[0]._initParam=s;g!=d&&(EMD.util.showProgress(),a(m+" .window_content").load(EMD.context_root+g,{window_id:m.substring(1),args:h},function(c,g,h){EMD.util.hideProgress();if("error"==g)alert("\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc5d0\ub7ec\ubc88\ud638: "+h.status+" "+h.statusText);else if("_EMD_ERROR_MODULE"==module_instance.getModuleType())module_instance.loadComplete(),alert(module_instance.getMessge()),
EMD.util.window_close(a(this).closest(".window"));else{var k=a("#window_id").val();if(k==d)alert("\uc11c\ubc84 \uc624\ub958\ub85c \uc778\ud558\uc5ec \ud398\uc774\uc9c0\ub97c \ub85c\ub4dc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),EMD.util.window_close(a(this).closest(".window"));else{c=1*k.substring(k.lastIndexOf("_")+1);a("#window_id").remove();a("#"+k)[0].module=module_instance;module_instance.setModuleId(c);module_instance.setParent(p);EMD.module_instance[c]=module_instance;module_instance.setModuleId(k);
EMD.util.modify_window(module_instance,k);var l,n;g=EMD.win_x;h=EMD.win_y;l=EMD.module_instance[c].getWidth();n=EMD.module_instance[c].getHeight();a(b).height()-48<h+n&&(h=a(b).height()-n-28,20>h&&(h=20));a(b).width()<g+l&&(g=0);EMD.util.window_move(k,g,h);EMD.win_x=g+30;EMD.win_y=h+30;380<EMD.win_x&&(EMD.win_x=80,EMD.win_y=40);EMD.util.window_size(k,l,n);a("#"+k).resizable({create:function(a,b){},resize:function(b,c){b.stopPropagation();var d=a(this);a(this).find(".window_main").each(function(){a(this).css("height",
d.height()-54)});EMD.util.window_resized(c.element)}});a("#"+k).find(':input[data-required="true"]').each(function(){var b=a(this).parent("td").prev();null==b.data("required")&&(b.append("<span style='color:red; font-weight:bold; float:right;'>*</span>"),b.data("required","true"))});EMD.module_instance[c].loadComplete(a(this).closest(".window")[0]._initParam);EMD.util.window_flat();a("#"+k).addClass("window_stack").show("drop",{},600,function(){EMD.util.window_resized(a(this))});a(a("#"+k)).find(".window_main").each(function(){a(this).css("height",
a("#"+k).height()-54)});EMD.util.window_resized(a("#"+k));EMD.util.clear_active()}}}));return q.id},window_resized:function(b){var c=function(b,c){for(var d=null,g=a(c).children(),h=a(c).height(),k=0;k<g.length;k++){var l=g[k];if(a(l).hasClass("fillHeight"))d=l;else if(!a(l).is("script")||(a(l).is(".emdTabPage")||a(l).is(".viewStack"))&&"none"!=a(l).attr("display"))h-=a(l).outerHeight(!0)}null!=d&&(h-=a(d).outerHeight(!0)-a(d).height(),10<h&&(a(d).is(".emdTabPanel")?(a(d).height(h),a(d).tabs("option",
"heightStyle","fill"),a(d).children(".emdTabPage").each(function(){b(b,this)})):(a(d).height(h),a(d).hasClass("gridbox")?a(d).resizeGrid():b(b,d))))};a(b).is("#__dialog-modal")?c(c,a(b).find(".dialog")[0]):c(c,a(b).find(".window_main")[0])},window_flat:function(){a("div.window").removeClass("window_stack")},window_show:function(b){a("div.window").removeClass("window_stack");b.addClass("window_stack").css({top:b.data("t"),left:b.data("l"),right:b.data("r"),bottom:b.data("b"),width:b.data("w"),height:b.data("h")}).show()},
window_move:function(b,c,d){a("#"+b).css({left:c,top:d})},window_size:function(b,c,d){a("#"+b).css({width:c,height:d})},window_resize:function(a){a.hasClass("window_full")?a.removeClass("window_full").css({top:a.data("t"),left:a.data("l"),right:a.data("r"),bottom:a.data("b"),width:a.data("w"),height:a.data("h")}):(a.data("t",a.css("top")),a.data("l",a.css("left")),a.data("r",a.css("right")),a.data("b",a.css("bottom")),a.data("w",a.css("width")),a.data("h",a.css("height")),a.addClass("window_full").css({top:"0",
left:"0",right:"0",bottom:"0",width:"100%",height:"100%"}));EMD.util.window_flat();a.addClass("window_stack");EMD.util.window_resized(a)},window_hide_all:function(){a("div.window").each(function(){EMD.util.window_hide(a(this))})},window_hide:function(a){var b=a.attr("id").replace("window","dock");a.data("t",a.css("top"));a.data("l",a.css("left"));a.data("r",a.css("right"));a.data("b",a.css("bottom"));a.data("w",a.css("width"));a.data("h",a.css("height"));a.effect("transfer",{to:"#"+b,className:".ui-effects-transfer"},
300,function(){a.removeAttr("style").hide()})},window_close:function(b){var c=b.attr("id").replace("window","dock");b.hide("scale",{percent:0},800,function(){a(this).remove()});a("#"+c).hide("fast");a("#"+c).remove()},last_window_close:function(){win=a("#window_"+(EMD.window_seq-1));var b=win.attr("href").replace("window","dock");a(win.attr("href")).hide("scale",{percent:0},1E3,function(){a(this).remove()});a(b).hide("fast");a(b).remove()},save_feature:function(){},edit_feature:function(a,b){b==d&&
null==b||EMD.wfs.addFeatures(b);EMD.edit_win=a},select:function(a){},modify_id:function(b,c){c.children().length&&c.children().each(function(){0<a(this).children().length&&EMD.util.modify_id(b,a(this));a(this).attr("id")!=d&&a(this).attr("id",b+"_"+a(this).attr("id"));a(this).attr("data-grid")!=d&&a(this).attr("data-grid",b+"_"+a(this).attr("id"))})},modify_window:function(b,c){var g=a("#"+c);EMD.util.modify_id(c,a("#"+c));g.data("_win_id",c);g.find(".emdTabPanel").data("_win_id",c);g.find(".emdTabPanel").each(function(){a(this).find(".emdTab").data("_win_id",
a(this).data("_win_id"));a(this).find(".emdTab").each(function(){a(this).attr("href",a(this).attr("href").replace("#","#"+a(this).data("_win_id")+"_"))});a(this).tabs({beforeActivate:function(b,c){var d=a(this).data("onchange-before"),g=c.oldPanel.attr("id").replace(a(this).closest(".window").data("_win_id")+"_",""),h=c.newPanel.attr("id").replace(a(this).closest(".window").data("_win_id")+"_","");if(null!=d)return a(this).closest(".window")[0].module[d](h,g)},activate:function(b,c){var d=a(this).data("onchange"),
g=c.oldPanel.attr("id").replace(a(this).closest(".window").data("_win_id")+"_",""),h=c.newPanel.attr("id").replace(a(this).closest(".window").data("_win_id")+"_","");if(null!=d)a(this).closest(".window")[0].module[d](h,g)},select:function(a,b){currentTab=b.index},nextTab:function(b){currentTab=currentTab<a(this).tabs("length")-1?currentTab+1:0}})});g.find(".viewStack").each(function(){a(this).changeViewId=function(b){a(this)._viewStackId=b;a(this).find(".viewPanel").each(function(b){b!=a(this).parent(".viewStack")._viewStackId?
a(this).css("display","none"):a(this).css("display","block")});a(this).closest(".window_main").trigger("resizeWindow")};a(this).find(".viewPanel").each(function(b){0!=b&&a(this).css("display","none")});a(this)[0].changePanelId=function(b){a(this).find(".viewPanel").each(function(c){c==b?a(this).css("display","block"):a(this).css("display","none")});EMD.util.window_resized(a(this).closest(".window"))}});g.find("button").each(function(){var b=a(this).data("cmd"),d=a(this),h=!1,k=null;null==b&&(b=null==
a(this).attr("id")||a(this).attr("id").length<c.length+1?a(this).attr("class"):a(this).attr("id").substring(c.length+1));if(null!=d.attr("class")){var r=a(this).attr("class").split(/\s+/);a.each(r,function(c,l){switch(l){case "buttonRegist":k="ui-icon-check";break;case "buttonAdd":k="ui-icon-plusthick";break;case "buttonDelete":k="ui-icon-minusthick";break;case "buttonTrash":k="ui-icon-trash";break;case "buttonSave":k="ui-icon-disk";break;case "buttonSearch":k="ui-icon-search";break;case "popupButton":k=
"ui-icon-newwin";break;case "buttonExcel":k="ui-icon-document";break;case "popupDialog":k="ui-icon-newwin";break;default:k=a(this).data("icon")}if(null!=k&&0===k.indexOf("ui-icon-"))return a(d).button({icons:{primary:k},text:!0}).click({module:g[0].module,button_id:b},function(c){c.preventDefault();if("buttonSearch"==b)c.data.module.onSubmit();else EMD.util._clickButtonExec(c.data.module,a(this),c.data.button_id)}),h=!0,!1});!1==h&&a(d).button().click({module:g[0].module,button_id:b},function(b){b.preventDefault();
EMD.util._clickButtonExec(b.data.module,a(this),b.data.button_id)})}else{null==b&&(b=a(d).data("id"));null==b&&(b=a(d).data("role"));for(var r=a(d).text(),k=null,t=0;t<buttonIcons.length;t++)if(buttonIcons[t].label==r){k=buttonIcons[t].icon;break}null!=k?a(d).button({icons:{primary:k},text:!0}).click({module:g[0].module,button_id:b},function(b){b.preventDefault();EMD.util._clickButtonExec(b.data.module,a(this),b.data.button_id)}):a(d).button().click({module:g[0].module,button_id:b},function(b){b.preventDefault();
EMD.util._clickButtonExec(b.data.module,a(this),b.data.button_id)})}});a("#"+c).find("input.mngYear").each(function(){a(this).attr("maxlength",4);a(this).on("keyup",function(b){4==a(this).val().length&&a(this).next(":input.mngNo").focus()})});a("#"+c).find("input.mngNo").each(function(){a(this).attr("maxlength",3);a(this).on("keyup",function(b){3==a(this).val().length&&a(this).next(":input.mngCnt").focus()})});a("#"+c).find("input.mngCnt").each(function(){a(this).attr("maxlength",2)});a("#"+c).find("input.gisAssetsCd").each(function(){a(this).attr("maxlength",
3);a(this).on("keyup",function(b){b=a(this).val();3==b.length&&(a(this).val(b.toUpperCase()),a(this).next(":input.gisAssetsSubCd").focus())})});a("#"+c).find("input.gisAssetsSubCd").each(function(){a(this).attr("maxlength",2)});a("#"+c).find("input.ygpaDeptSelect").each(function(){var b="",d="",g=this,h=a(this).attr("id");null!=a(this).data("default-prompt")&&(b=null!=a(this).data("default-prompt")?a(this).data("default-prompt"):"\uc120\ud0dd",d=null!=a(this).data("default-value")?a(this).data("default-value"):
"");if(null==a(this).data("display-value")){try{a(this).attr("type","hidden")}catch(k){a(this).attr("id",h+"_backup"),a(this).after('<input type="hidden" id="'+h+'" />'),g=a("#"+c+" #"+h)[0],a(this).remove()}a(g).after('<select id="'+h+'_select" class="frmwrkAuto"></select>')}else"N"==a(this).data("display-value")?(a(this).attr("readonly","readonly"),a(this).before('<select id="'+h+'_select" class="frmwrkAuto"></select>')):(a(this).attr("readonly","readonly"),a(this).after('<select id="'+h+'_select" class="frmwrkAuto"></select>'));
""!=b&&a("#"+c).find("#"+h+"_select").append('<option value="'+d+'" selected>'+b+"</option>");a(this).focus(function(){a("#"+a(this).attr("id")+"_select")[0].focus()});a.ajax({url:EMD.context_root+"/cmmn/selectDeptCodeOptionsList.do",type:"POST",module:g,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"cmd",value:""}],success:function(b){if(null!=b.resultCode&&0!=b.resultCode)1==b.resultCode&&(alert(b.resultMsg),location.reload());else{var d="",g="#"+a(this.module).attr("id")+
"_select";if(null!=a(this.module).val())for(var d=a(this.module).val(),h=0;h<b.resultList.length;h++)d==b.resultList[h].value?a("#"+c).find(g).append('<option value="'+b.resultList[h].value+'" selected>'+b.resultList[h].name+"</option>"):a("#"+c).find(g).append('<option value="'+b.resultList[h].value+'">'+b.resultList[h].name+"</option>");else for(h=0;h<b.resultList.length;h++)a("#"+c).find(g).append('<option value="'+b.resultList[h].value+'">'+b.resultList[h].name+"</option>");a("#"+c).find(g).change({module:this.module},
function(b){a(b.data.module).val(a(this).find("option:selected").val());a(b.data.module).trigger("change")});"readonly"==a(this.module).attr("readonly")&&a(g).attr("readonly","readonly");"disabled"==a(this.module).attr("disabled")&&a(g).attr("disabled","disabled")}},error:function(a,b,c){}})});a("#"+c).find("input.ygpaCmmnCl").each(function(){var b="",d="",g=this,h=a(this).attr("id");null!=a(this).data("default-prompt")&&(b=null!=a(this).data("default-prompt")?a(this).data("default-prompt"):"\uc120\ud0dd",
d=null!=a(this).data("default-value")?a(this).data("default-value"):"");if(null==a(this).data("display-value")){try{a(this).attr("type","hidden")}catch(k){a(this).attr("id",h+"_backup"),a(this).after('<input type="hidden" id="'+h+'" />'),g=a("#"+c+" #"+h)[0],a(this).remove()}a(g).after('<select id="'+h+'_select" class="frmwrkAuto"></select>')}else"N"==a(this).data("display-value")?(a(this).attr("readonly","readonly"),a(this).before('<select id="'+h+'_select" class="frmwrkAuto"></select>')):(a(this).attr("readonly",
"readonly"),a(this).after('<select id="'+h+'_select" class="frmwrkAuto"></select>'));""!=b&&(null==a(g).data("value")?a("#"+c).find("#"+h+"_select").append('<option value="'+d+'" selected>'+b+"</option>"):a("#"+c).find("#"+h+"_select").append('<option value="'+d+'">'+b+"</option>"));a(this).focus(function(){a("#"+a(this).attr("id")+"_select")[0].focus()});a.ajax({url:EMD.context_root+"/cmmn/selectCmmnClOptionsList.do",type:"POST",module:g,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",
data:[],success:function(b){if(null!=b.resultCode&&0!=b.resultCode)1==b.resultCode&&(alert(b.resultMsg),location.reload());else{var d="",g="#"+a(this.module).attr("id")+"_select";a("#"+c).find(g).empty();if(null!=a(this.module).val())for(var d=a(this.module).val(),h=0;h<b.resultList.length;h++)d==b.resultList[h].value?a("#"+c).find(g).append('<option value="'+b.resultList[h].value+'" selected>'+b.resultList[h].name+"</option>"):a("#"+c).find(g).append('<option value="'+b.resultList[h].value+'">'+
b.resultList[h].name+"</option>");else for(h=0;h<b.resultList.length;h++)a("#"+c).find(g).append('<option value="'+b.resultList[h].value+'">'+b.resultList[h].name+"</option>");a("#"+c).find(g).change({module:this.module},function(b){a(b.data.module).val(a(this).find("option:selected").val());a(b.data.module).trigger("change")});a("#"+c).find(g).trigger("change");"readonly"==a(this.module).attr("readonly")&&a(g).attr("readonly","readonly");"disabled"==a(this.module).attr("disabled")&&a(g).attr("disabled",
"disabled")}},error:function(a,b,c){}})});a("#"+c).find("input.ygpaCmmnCode").each(function(){var b="",g="",h=this,k=a(this).attr("id");if(a(this).data("cl-code")!=d||a(this).data("cl-selector")!=d){null!=a(this).data("default-prompt")&&(b=null!=a(this).data("default-prompt")?a(this).data("default-prompt"):"\uc120\ud0dd",g=null!=a(this).data("default-value")?a(this).data("default-value"):"");if(null==a(this).data("display-value")){try{a(this).attr("type","hidden")}catch(n){a(this).attr("id",k+"_backup"),
a(this).after('<input type="hidden" id="'+k+'" />'),h=a("#"+c+" #"+k)[0],a(this).remove()}a(h).after('<select id="'+k+'_select" class="frmwrkAuto"></select>')}else"N"==a(this).data("display-value")?(a(this).attr("readonly","readonly"),a(this).before('<select id="'+k+'_select" class="frmwrkAuto"></select>')):(a(this).attr("readonly","readonly"),a(this).after('<select id="'+k+'_select" class="frmwrkAuto"></select>'));""!=b&&(null==a(h).data("value")?a("#"+c).find("#"+k+"_select").append('<option value="'+
g+'" selected>'+b+"</option>"):a("#"+c).find("#"+k+"_select").append('<option value="'+g+'">'+b+"</option>"));a(this).focus(function(){a("#"+a(this).attr("id")+"_select")[0].focus()});var t=a(this).data("cl-code");t==d?a("#"+c+"_"+a(this).data("cl-selector")).change({module:h},function(b){b=b.data.module;t=a(this).val();a.ajax({url:EMD.context_root+"/cmmn/selectCmmnCodeOptionsList.do",type:"POST",module:b,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"clCode",
value:a(this).val()}],success:function(b){if(null!=b.resultCode&&0!=b.resultCode)1==b.resultCode&&(alert(b.resultMsg),location.reload());else{var d="",g="#"+a(this.module).attr("id")+"_select";a("#"+c).find(g).empty();if(null!=a(this.module).val())for(var d=a(this.module).val(),h=0;h<b.resultList.length;h++)d==b.resultList[h].value?a("#"+c).find(g).append('<option value="'+b.resultList[h].value+'" selected>'+b.resultList[h].name+"</option>"):a("#"+c).find(g).append('<option value="'+b.resultList[h].value+
'">'+b.resultList[h].name+"</option>");else for(h=0;h<b.resultList.length;h++)a("#"+c).find(g).append('<option value="'+b.resultList[h].value+'">'+b.resultList[h].name+"</option>");a("#"+c).find(g).change({module:this.module},function(b){a(b.data.module).val(a(this).find("option:selected").val());a(b.data.module).trigger("change")});"readonly"==a(this.module).attr("readonly")&&a(g).attr("readonly","readonly");"disabled"==a(this.module).attr("disabled")&&a(g).attr("disabled","disabled")}},error:function(a,
b,c){}})}):a.ajax({url:EMD.context_root+"/cmmn/selectCmmnCodeOptionsList.do",type:"POST",module:h,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"cl_code",value:t}],success:function(b){if(null!=b.resultCode&&0!=b.resultCode)1==b.resultCode&&(alert(b.resultMsg),location.reload());else{var d="",g="#"+a(this.module).attr("id")+"_select";if(null!=a(this.module).val())for(var d=a(this.module).val(),h=0;h<b.resultList.length;h++)d==b.resultList[h].value?a("#"+
c).find(g).append('<option value="'+b.resultList[h].value+'" selected>'+b.resultList[h].name+"</option>"):a("#"+c).find(g).append('<option value="'+b.resultList[h].value+'">'+b.resultList[h].name+"</option>");else for(h=0;h<b.resultList.length;h++)a("#"+c).find(g).append('<option value="'+b.resultList[h].value+'">'+b.resultList[h].name+"</option>");a("#"+c).find(g).change({module:this.module},function(b){a(b.data.module).val(a(this).find("option:selected").val());a(b.data.module).trigger("change")});
"readonly"==a(this.module).attr("readonly")&&a(g).attr("readonly","readonly");"disabled"==a(this.module).attr("disabled")&&a(g).attr("disabled","disabled")}},error:function(a,b,c){}})}});a("#"+c).find("input.ygpaCmmnCd").each(function(){var b="",g="",h=this,k=a(this).attr("id");if(a(this).data("code-id")!=d){null!=a(this).data("default-prompt")&&(b=null!=a(this).data("default-prompt")?a(this).data("default-prompt"):"\uc120\ud0dd",g=null!=a(this).data("default-value")?a(this).data("default-value"):
"");if(null==a(this).data("display-value")){try{a(this).attr("type","hidden")}catch(n){a(this).attr("id",k+"_backup"),a(this).after('<input type="hidden" id="'+k+'" />'),h=a("#"+c+" #"+k)[0],a(this).remove()}a(h).after('<select id="'+k+'_select" class="frmwrkAuto"></select>')}else"N"==a(this).data("display-value")?(a(this).attr("readonly","readonly"),a(this).before('<select id="'+k+'_select" class="frmwrkAuto"></select>')):(a(this).attr("readonly","readonly"),a(this).after('<select id="'+k+'_select" class="frmwrkAuto"></select>'));
""!=b&&(null==a(h).data("value")?a("#"+c).find("#"+k+"_select").append('<option value="'+g+'" selected>'+b+"</option>"):a("#"+c).find("#"+k+"_select").append('<option value="'+g+'">'+b+"</option>"));a(this).focus(function(){a("#"+a(this).attr("id")+"_select")[0].focus()});a.ajax({url:EMD.context_root+"/cmmn/selectCmmnCdOptionsList.do",type:"POST",module:h,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"code_id",value:a(this).data("code-id")}],success:function(b){if(null!=
b.resultCode&&0!=b.resultCode)1==b.resultCode&&(alert(b.resultMsg),location.reload());else{var d="",g="#"+a(this.module).attr("id")+"_select";if(null!=a(this.module).val())for(var d=a(this.module).val(),h=0;h<b.resultList.length;h++)d==b.resultList[h].value?a("#"+c).find(g).append('<option value="'+b.resultList[h].value+'" selected>'+b.resultList[h].name+"</option>"):a("#"+c).find(g).append('<option value="'+b.resultList[h].value+'">'+b.resultList[h].name+"</option>");else for(h=0;h<b.resultList.length;h++)a("#"+
c).find(g).append('<option value="'+b.resultList[h].value+'">'+b.resultList[h].name+"</option>");a("#"+c).find(g).change({module:this.module},function(b){a(b.data.module).val(a(this).find("option:selected").val());a(b.data.module).trigger("change")});"readonly"==a(this.module).attr("readonly")&&a(g).attr("readonly","readonly");"disabled"==a(this.module).attr("disabled")&&a(g).attr("disabled","disabled")}},error:function(a,b,c){}})}});a("#"+c).find("input.selectBox").each(function(){var g="",h="",
n=this,q=a(this).attr("id"),r=a(this).data("url"),t=a(this).data("params"),u=a(this).data("parent-select");if(a(this).data("code-id")!=d){null!=a(this).data("default-prompt")&&(g=null!=a(this).data("default-prompt")?a(this).data("default-prompt"):"\uc120\ud0dd",h=null!=a(this).data("default-value")?a(this).data("default-value"):"");if(null==a(this).data("display-value")){try{a(this).attr("type","hidden")}catch(y){a(this).attr("id",q+"_backup"),a(this).after('<input type="hidden" id="'+q+'" />'),n=
a("#"+c+" #"+q)[0],a(this).remove()}a(n).after('<select id="'+q+'_select" class="frmwrkAuto"></select>')}else"N"==a(this).data("display-value")?(a(this).attr("readonly","readonly"),a(this).before('<select id="'+q+'_select" class="frmwrkAuto"></select>')):(a(this).attr("readonly","readonly"),a(this).after('<select id="'+q+'_select" class="frmwrkAuto"></select>'));""!=g&&(null==a(n).data("value")?a("#"+c).find("#"+q+"_select").append('<option value="'+h+'" selected>'+g+"</option>"):a("#"+c).find("#"+
q+"_select").append('<option value="'+h+'">'+g+"</option>"));a(this).focus(function(){a("#"+a(this).attr("id")+"_select")[0].focus()});var w=[];null!=t&&a.each(t.split(","),function(){var a=this.split("=");w[w.length]={name:u,value:a[1]}});n._setValue=function(b){if(null!=b.resultCode&&0!=b.resultCode)1==b.resultCode&&(alert(b.resultMsg),location.reload());else{var d="",g="#"+a(this).attr("id")+"_select";if(null!=a(this).val())for(var d=a(this).val(),h=0;h<b.resultList.length;h++)d==b.resultList[h].value?
a("#"+c).find(g).append('<option value="'+b.resultList[h].value+'" selected>'+b.resultList[h].name+"</option>"):a("#"+c).find(g).append('<option value="'+b.resultList[h].value+'">'+b.resultList[h].name+"</option>");else for(h=0;h<b.resultList.length;h++)a("#"+c).find(g).append('<option value="'+b.resultList[h].value+'">'+b.resultList[h].name+"</option>");a("#"+c).find(g).change({module:this},function(b){a(b.data.module).val(a(this).find("option:selected").val());a(b.data.module).trigger("change")});
"readonly"==a(this).attr("readonly")&&a(g).attr("readonly","readonly");"disabled"==a(this).attr("disabled")&&a(g).attr("disabled","disabled")}};this._params=w.slice();null!=u?(g=b.$("#"+u).val(),b.$("#"+u).data("id",u),w[w.length]={name:u,value:g},b.$("#"+u).on("change",{module:this},function(b){b=b.data.module;var c=b._params.slice();c[c.length]={name:a(this).data("id"),value:a(this).val()};a.ajax({url:EMD.context_root+a(b).data("url"),type:"POST",module:b,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",
data:c,success:function(a){this.module._setValue(a)},error:function(a,b,c){}})})):a.ajax({url:EMD.context_root+r,type:"POST",module:n,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:w,success:function(a){this.module._setValue(a)},error:function(a,b,c){}})}});a("#"+c).find("input.ygpaYnSelect").each(function(){var b="",d="",g="Y",h="\uc608",k="\uc544\ub2c8\uc624",n,u=this;n=a(this).attr("id");null!=a(this).data("default-prompt")&&(b=null!=a(this).data("default-prompt")?
a(this).data("default-prompt"):"\uc120\ud0dd",d=null!=a(this).data("default-value")?a(this).data("default-value"):"");if(null==a(this).data("display-value")){try{a(this).attr("type","hidden")}catch(y){a(this).attr("id",n+"_backup"),a(this).after('<input type="hidden" id="'+n+'" />'),u=a("#"+c+" #"+n)[0],a(this).remove()}a(u).after('<select id="'+n+'_select" class="frmwrkAuto"></select>')}else"N"==a(this).data("display-value")?(a(this).attr("readonly","readonly"),a(this).before('<select id="'+n+'_select" class="frmwrkAuto"></select>')):
(a(this).attr("readonly","readonly"),a(this).after('<select id="'+n+'_select" class="frmwrkAuto"></select>'));n=a("#"+c).find("#"+n+"_select");selected_code=a(this).data("value");""!=b&&(null==selected_code?n.append('<option value="'+d+'" selected>'+b+"</option>"):n.append('<option value="'+d+'">'+b+"</option>"));null!=a(this).data("y-value")&&(g=a(this).data("y-value"));null!=a(this).data("n-value")&&(g=a(this).data("n-value"));null!=a(this).data("y-prompt")&&(h=a(this).data("y-prompt"));null!=a(this).data("n-prompt")&&
(k=a(this).data("n-prompt"));""==b||null!=selected_code?(selected_code==g?n.append('<option value="'+g+'" selected>'+h+"</option>"):n.append('<option value="'+g+'">'+h+"</option>"),selected_code!=g?n.append('<option value="N" selected>'+k+"</option>"):n.append('<option value="N">'+k+"</option>"),a(this).val(selected_code)):(n.append('<option value="'+g+'">'+h+"</option>"),n.append('<option value="N">'+k+"</option>"));a(this).focus(function(){a("#"+a(this).attr("id")+"_select")[0].focus()});n.change({module:u},
function(b){a(b.data.module).val(a(this).find("option:selected").val());a(b.data.module).trigger("change")})});a("#"+c).find("input.ygpaNumber, input.ygpaCurrency").each(function(){a(this).number(!0,a(this).data("decimal-point")||0)});a("#"+c).find(".emdTime").each(function(){a(this).keyup(function(){var b=a(this).val();0<=b.indexOf(":")?5!=b.length&&a(this).val(a(this).val().replace(/-/g,"")):4==b.length&&(b.substr(0,2),b.substr(2,2))})});a("#"+c).find(".emdcal").each(function(){var b=a(this).data("date-format")||
"yy-mm-dd",g=a(this).attr("disabled")!=d;a(this).datepicker({dateFormat:b,prevText:"\uc774\uc804 \ub2ec",nextText:"\ub2e4\uc74c \ub2ec",monthNames:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),monthNamesShort:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),dayNames:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),dayNamesShort:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),
dayNamesMin:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split(""),changeMonth:!0,changeYear:!0,disabled:g});g||a(this).datepicker("option",{showOn:"button",buttonImage:EMD.context_root+"/images/egovframework/rte/icon_date_picker.jpg",buttonImageOnly:!0});"dtFrom"==a(this).data("role")&&(a("#"+c+"_"+a(this).data("dt-to")).on("change",{dtFrom:this},function(b){a(b.data.dtFrom).datepicker("option","maxDate",a(this).datepicker("getDate"))}),a(this).datepicker("option","maxDate",a("#"+c+"_"+a(this).data("dt-to")).datepicker("getDate")));
"dtTo"==a(this).data("role")&&(a("#"+c+"_"+a(this).data("dt-from")).on("change",{dtTo:this},function(b){a(b.data.dtTo).datepicker("option","minDate",a(this).datepicker("getDate"))}),a(this).datepicker("option","minDate",a("#"+c+"_"+a(this).data("dt-from")).datepicker("getDate")));a(this).keyup(function(){var b=a(this).val();0<=b.indexOf("-")?10!=b.length?a(this).val(a(this).val().replace(/-/g,"")):EMD.util.isDate(b)||alert("\ub0a0\uc9dc \ud615\uc2dd\uc774 \ubd80\uc801\ud569 \ud569\ub2c8\ub2e4."):
8==b.length&&(b=b.substr(0,4)+"-"+b.substr(4,2)+"-"+b.substr(6,2),EMD.util.isDate(b)?a(this).val(b):alert("\ub0a0\uc9dc \ud615\uc2dd\uc774 \ubd80\uc801\ud569 \ud569\ub2c8\ub2e4."))})})},_clickButtonExec:function(b,c,g){switch(c.data("role")){case "gridXlsDown":var h=c.data("flexi-grid"),p=c.data("xls-name")||"gis.xls";c=c.data("xls-title")||"GIS\uae30\ubc18 \uc790\uc0b0\uad00\ub9ac \uc2dc\uc2a4\ud15c";if(h!=d)b.$("#"+h).flexiXlsDown(p,c);else b.onButtonClick(g);break;case "printPage":g=c.data("flexi-grid");
p=c.data("url");null==g?EMD.util.printPageValue(b,p,c.data("search-option")):EMD.util.printPageGrid(b,p,c.data("flexi-grid"),c.data("search-option"));break;case "popupDialog":var m={},q={},h=c.data("params"),p=c.data("params-func"),r=c.data("direct-params"),t=c.data("direct-params-func");h!=d?0<=h.indexOf(",")?a.each(h.split(","),function(){var a=this.split("=");m[a[0]]=a[1]}):m=b[h]:p!=d&&(m=b[h]());r!=d?0<=r.indexOf(",")?a.each(r.split(","),function(){var a=this.split("=");q[a[0]]=a[1]}):q=b[r]:
t!=d&&(q=b[r]());b.doExecuteDialog(g,c.data("title"),EMD.context_root+c.data("url"),m,q);break;case "loadMap":g=c.data("flexi-grid");EMD.util.window_hide_all();null==g?EMD.gis.loadMapDataCode(b,c.data("gis-layer"),c.data("gis-style"),c.data("value-name"),c.data("value")):EMD.gis.loadMapDataFlexGrid(b,c.data("gis-layer"),c.data("gis-style"),c.data("flexi-grid"),c.data("code-id"),c.data("value"));break;case "showMap":g=c.data("flexi-grid");EMD.util.window_hide_all();null==g?EMD.gis.showMapDataCode(b,
c.data("gis-layer"),c.data("value-name")):EMD.gis.showMapDataFlexGrid(b,c.data("gis-layer"),c.data("flexi-grid"),c.data("code-id"),c.data("value"));break;case "clearMap":EMD.gis.clearMap(b,c.data("gis-layer"));break;case "loadStatsMap":g=c.data("flexi-grid");null!=g&&(EMD.util.window_hide_all(),EMD.gis.showStatusMapView(b,c.data("gis-layer"),g,c.data("map-style"),c.data("value"),c.data("label-field"),c.data("select-feature")));break;case "editMap":c=c.data("gis-layer");EMD.gis.editLayer(b,c);EMD.util.window_hide_all();
break;case "removeFeature":g=c.data("flexi-grid");null==g?EMD.gis.removeMapDataCode(b,c.data("gis-layer"),c.data("value-name"),c.data("value")):EMD.gis.removeMapDataFlexGrid(b,c.data("gis-layer"),c.data("flexi-grid"),c.data("code-id"),c.data("value"));break;case "addFeature":g=c.data("flexi-grid");null==g?EMD.gis.addFeatureCode(b,c.data("gis-layer"),c.data("value-name"),c.data("value")):EMD.gis.addFeatureFlexGrid(b,c.data("gis-layer"),c.data("flexi-grid"),c.data("code-id"),c.data("value"));null!=
EMD.popup.lotAreaInfo&&(EMD.map.removePopup(EMD.popup.lotAreaInfo),EMD.popup.lotAreaInfo.destroy());break;default:if(c.hasClass("buttonExcel"))if(h=c.data("flexi-grid"),p=c.data("url"),h!=d&&p!=d)b.$("#"+h).flexExcelDown(p);else b.onButtonClick(g);else b.onButtonClick(g)}},hsv2rgb:function(a,b,c){var d,g=[];if(0===b)a=[c,c,c];else switch(a/=60,d=Math.floor(a),g=[c*(1-b),c*(1-b*(a-d)),c*(1-b*(1-(a-d)))],d){case 0:a=[c,g[2],g[0]];break;case 1:a=[g[1],c,g[0]];break;case 2:a=[g[0],c,g[2]];break;case 3:a=
[g[0],g[1],c];break;case 4:a=[g[2],g[0],c];break;default:a=[c,g[0],g[1]]}return"#"+a.map(function(a){return("0"+Math.round(255*a).toString(16)).slice(-2)}).join("")}}}}(jQuery,this,this.document);function EmdModuleBase(){this._moduleType="_EMD_MODULE_BASE"}EmdModuleBase.prototype.getModuleId=function(){return this._module_id};EmdModuleBase.prototype.setModuleId=function(a){this._module_id=a};
EmdModuleBase.prototype.$=function(a){return $("#"+this._module_id).find(a.replace("#","#"+this._module_id+"_"))};
EmdModuleBase.prototype.makeFormArgs=function(a,c){var b=c||"array",d=null,g=this._module_id,d="array"==b?[]:{};this.$(a).find(":input").not(".frmwrkAuto").not(".skipValue").each(function(){var a="";$(this).hasClass("ygpaNumber")||$(this).hasClass("ygpaCurrency");a=$(this).val();if(null!=$(this).data("column-id"))"array"==b?d[d.length]={name:$(this).data("column-id"),value:a}:d[$(this).data("column-id")]=a;else{var c=$(this).attr("id");"string"==typeof c&&(c=c.replace(g+"_",""),"array"==b?d[d.length]=
{name:c,value:a}:d[c]=a)}});return d};
EmdModuleBase.prototype.makeFormValues=function(a,c){var b=this._module_id;if(c instanceof Array){for(var d={},g=0;g<c.length;g++)d[c[g].name]=c[g].value;c=d}"object"==typeof c&&this.$(a).find(":input").not(".frmwrkAuto").not(".skipValue").each(function(){var a="";if(null!=$(this).data("column-id"))a=$(this).data("column-id");else if(a=$(this).attr("id"),"string"==typeof a)a=a.replace(b+"_","");else return;null!=c[a]?$(this).hasClass("ygpaNumber")||$(this).hasClass("ygpaCurrency")?$(this).val(c[a]):
$(this).hasClass("ygpaDeptSelect")||$(this).hasClass("ygpaCmmnCl")||$(this).hasClass("ygpaCmmnCode")||$(this).hasClass("ygpaCmmnCd")||$(this).hasClass("ygpaYnSelect")?($(this).val(c[a]),$("#"+$(this).attr("id")+"_select").val(c[a])):$(this).val(c[a]):$(this).val("")})};
EmdModuleBase.prototype.makeDivValues=function(a,c){var b=null,d=this._module_id;if(c instanceof Array){for(var b={},g=0;g<c.length;g++)b[c[g].name]=c[g].value;c=b}"object"==typeof c&&(b="string"==typeof a?this.$(a):"object"==typeof a?a:$(a),b.find("span").each(function(){var a="";if(null!=$(this).data("column-id"))a=$(this).data("column-id");else if(a=$(this).attr("id"),"string"==typeof a)a=a.replace(d+"_","");else return;if(null!=c[a])if($(this).hasClass("ygpaNumber")||$(this).hasClass("ygpaCurrency"))$(this).text($.number(c[a],
$(this).data("decimal-point")||0));else if($(this).hasClass("ygpaDeptSelect")||$(this).hasClass("ygpaCmmnCl")||$(this).hasClass("ygpaCmmnCode")||$(this).hasClass("ygpaCmmnCd")||$(this).hasClass("ygpaYnSelect")||$(this).hasClass("ygpaDecode")){var b=$(this);if($(this).hasClass("ygpaDeptSelect"))$.ajax({url:EMD.context_root+"/cmmn/selectDeptCodeName.do",type:"POST",module:b,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"value",value:c[a]}],success:function(a){this.module.text(a.name)},
error:function(a,b,c){try{this.module.text("\uc11c\ubc84\uc624\ub958")}catch(d){}}});else if($(this).hasClass("ygpaCmmnCl"))$.ajax({url:EMD.context_root+"/cmmn/selectCmmnClName.do",type:"POST",module:b,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{value:g},{name:"value",value:c[a]}],success:function(a){this.module.text(a.value)},error:function(a,b,c){try{this.module.text("\uc11c\ubc84\uc624\ub958")}catch(d){}}});else if($(this).hasClass("ygpaCmmnCode"))g=b.data("cl-code"),
$.ajax({url:EMD.context_root+"/cmmn/selectCmmnCodeName.do",type:"POST",module:b,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"clCode",value:g},{name:"codeId",value:c[a]}],success:function(a){this.module.text(a.value)},error:function(a,b,c){try{this.module.text("\uc11c\ubc84\uc624\ub958")}catch(d){}}});else if($(this).hasClass("ygpaCmmnCd")){var g=b.data("code-id");$.ajax({url:EMD.context_root+"/cmmn/selectCmmnDetailCodeName.do",type:"POST",module:b,dataType:"json",
contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"codeId",value:g},{name:"code",value:c[a]}],success:function(a){this.module.text(a.value)},error:function(a,b,c){try{this.module.text("\uc11c\ubc84\uc624\ub958")}catch(d){}}})}else if($(this).hasClass("ygpaYnSelect")){var b="Y",g="\uc608",n="\uc544\ub2c8\uc624";null!=$(this).data("y-value")&&(b=$(this).data("y-value"));null!=$(this).data("n-value")&&(b=$(this).data("n-value"));c[a]==b?(null!=$(this).data("y-prompt")&&(g=$(this).data("y-prompt")),
$(this).text(g)):"N"==c[a]?(null!=$(this).data("n-prompt")&&(n=$(this).data("n-prompt")),$(this).text(n)):$(this).text(c[a])}else if($(this).hasClass("ygpaDecode")&&"string"==typeof c[a]&&"string"==typeof $(this).data("decode-string")){g=$(this).data("decode-string").match(",");b=$(this);for(b=0;b<g.length;b++)if(g[b]==c[a]){$(this).text($(this).data("decode-"+b));return}$(this).text($(this).data("decode-default"))}}else $(this).text(c[a]);else $(this).text("")}))};
EmdModuleBase.prototype.makeMultiDivValues=function(a,c,b){a=this.$(a);if(a.children().length<c.length)for(var d=a.children().length;d<c.length;d++){var g=a.children(":first-child").clone();a.append(g)}else if(a.children().length>c.length)for(;1<a.children().length&&a.children().length>c.length;)a.children(":last-child").remove();for(d=0;d<c.length;d++)g=a.children(":eq("+d+")"),this.makeDivValues(g,c[d]),g[0].func=b,g[0].func(c[d]),delete g[0].func;0==c.length&&this.makeDivValues(a.children(),{})};
EmdModuleBase.prototype.getFormValues=function(a,c){var b=this.getModuleId(),d=$.extend({},c);this.$(a).find(":input").not(".frmwrkAuto").each(function(){var a="";$(this).hasClass("ygpaNumber")||$(this).hasClass("ygpaCurrency");a=$(this).val();if(null!=$(this).data("column-id"))d[$(this).data("column-id")]=a;else{var c=$(this).attr("id");"string"==typeof c&&(c=c.replace(b+"_",""),d[c]=a)}null!=$(this).data("column-label-id")&&(d[$(this).data("column-label-id")]=$("#"+$(this).attr("id")+"_select").find(":selected").text())});
return d};EmdModuleBase.prototype.doAction=function(a,c,b){$.ajax({url:EMD.context_root+a,type:"POST",module:this,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:c}).done(function(a){null!=b&&b(this.module,a)})};
EmdModuleBase.prototype.uploadSingleFile=function(a,c){$("#__tempDiv").empty();$("#__uploadFrame").remove();$('<iFrame id="__uploadFrame" name="__uploadFrame"></iFrame>').appendTo("body");$("#__tempDiv").append('<form id="__uploadForm" name="__uploadForm" method="post" enctype="multipart/form-data"><input name="type" type="hidden" value="genericFileMulti" /><input id="__uploadFile" name="__uploadFile" type="file" /></form>');$("#__uploadForm").submit(function(){$("#__uploadForm").attr("target","__uploadFrame")});
$("#__uploadFile").on("change",{module:this,func:c,url:a},function(a){$("#__uploadForm").attr("action",EMD.context_root+a.data.url).submit();$("#__uploadFrame").load(function(){"error"==status&&alert("\ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc \ud558\ub294\ub370 \uc624\ub958\uac00 \ubc1c\uc0dd \ud588\uc2b5\ub2c8\ub2e4. : "+xhr.status+" "+xhr.statusText);$("#__tempDiv").empty();var c=$("#__uploadFrame").contents().text();void 0!=a.data.func&&a.data.func(a.data.module,jQuery.parseJSON(c));$("#__uploadFrame").remove()})});
$("#__uploadFile").click()};EmdModuleBase.prototype.downloadSingleFile=function(a,c){$.fileDownload(EMD.context_root+a,{data:{requestedFile:c},httpMethod:"POST"})};EmdModuleBase.prototype.getUrl=function(a){return EMD.context_root+a};EmdModuleBase.prototype.removeFeatures=function(a,c){EMD.gis.removeFeatures(this,a,c)};
function EmdModule(a,c){this._selectedRow=this._parent=null;void 0==a||null==a||void 0==c||null==c?(this._width=720,this._height=480):(this._width=a,this._height=c);this._moduleType="_EMD_MODULE"}EmdModule.prototype=new EmdModuleBase;EmdModule.prototype.getModuleType=function(){return this._moduleType};EmdModule.prototype.setParent=function(a){this._parent=a};
EmdModule.prototype.showMap=function(a,c){void 0!=a&&(this._selectedRow=this.$("#"+a).selectedRows(),$(this._selectedRow).each(function(){EMD.gis.selectAssetCdFeature(this.gisAssetsPrtAtCode,this.gisAssetsCd,this.gisAssetsSubCd)}));EMD.transactionWindow=this.getModuleId();EMD.util.window_hide_all()};EmdModule.prototype.modifyFeatureCode=function(a,c,b){EMD.gis.modifyFeatureCode(this,a,c,b)};EmdModule.prototype.setFeatureCode=function(a,c,b){EMD.gis.setFeatureCode(this,a,c,b)};
EmdModule.prototype.removeFeatureCode=function(a,c){EMD.gis.removeFeatureCode(this,a,c)};EmdModule.prototype.changeFeatureAttrib=function(a,c,b){EMD.gis.changeFeatureAttribute(this,a,c,b)};EmdModule.prototype.selectFeatureData=function(a,c,b){EMD.gis.selectFeatureData(this,a,c,b)};EmdModule.prototype.getSelect=function(a){alert("get select = "+this.getModuleId()+" "+a)};EmdModule.prototype.showAlert=function(a){alert("alert id = "+this.getModuleId()+" "+a)};EmdModule.prototype.getWidth=function(){return this._width};
EmdModule.prototype.setWidth=function(a){this._width=a};EmdModule.prototype.getHeight=function(){return this._height};EmdModule.prototype.setHeight=function(a){this._height=a};EmdModule.prototype.setSelectedRow=function(a){this._selectedRow=a};EmdModule.prototype.getSelectedRow=function(){return this._selectedRow};EmdModule.prototype.getId=function(a){return this.getModuleId()+"_"+a};
EmdModule.prototype.doExecuteDialog=function(a,c,b,d,g){if(0==$("#__dialog-modal").length){var h=document.createElement("div");h.style.display="none";h.innerHTML='<div id="__dialog-modal"></div>';$("#desktop")[0].appendChild(h)}EMD.popupcaller=this;EMD.popupId=a;EMD.popupParams=g;void 0!=b&&$("#__dialog-modal").load(EMD.context_root+b,d,function(a,b,d){"error"==b?alert("\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \uc5d0\ub7ec\ubc88\ud638: "+d.status+" "+d.statusText):(a=popup_instance.getWidth(),
b=popup_instance.getHeight(),$("#__dialog-modal").dialog({width:a,height:b,modal:!0,closeOnEscape:!0,title:c}),$("#__dialog-modal")[0].module=popup_instance,popup_instance.setModuleId("__dialog-modal"),popup_instance.setDialog($("#__dialog-modal")),popup_instance.setPopupCaller(EMD.popupcaller),popup_instance.setPopupId(EMD.popupId),EMD.util.modify_window(popup_instance,"__dialog-modal"),$("#__dialog-modal").on("resizeWindow",function(a){a.stopPropagation();EMD.util.window_resized($(this))}),$("#__dialog-modal").trigger("resizeWindow"),
$("#__dialog-modal").resizable({create:function(a,b){},resize:function(a,b){a.stopPropagation();EMD.util.window_resized(b.element)}}),popup_instance.loadComplete(EMD.popupParams))})};
EmdModule.prototype.uploadFile=function(a,c,b){null==b&&(b="\uc5c5\ub85c\ub4dc \ud30c\uc77c");$("tbody.files").empty();$("#file_upload_dialog").dialog("option",{title:b,closeOnEscape:!0});$("#file_upload_dialog").dialog({buttons:[{text:"\ud655\uc778",click:function(){var a=[];$("#fileupload tbody.files tr").each(function(){a[a.length]={physcalFileNm:$(this).data("physcal-file-nm"),logicalFileNm:$(this).data("logical-file-nm")}});$(this).trigger("fileUploaded",{rows:a});$(this).dialog("close")}},{text:"\ucde8\uc18c",
click:function(){$(this).dialog("close")}}]});$("#file_upload_dialog").dialog("open");$("#fileupload").addClass("fileupload-processing");$("#fileupload").data("module",this);$("#file_upload_dialog").off("fileUploaded");$("#file_upload_dialog").on("fileUploaded",{done:c,module:this},function(a,b){a.data.done(a.data.module,b.rows)})};
EmdModule.prototype.uploadPfPhoto=function(a,c,b){null==b&&(b="\uc2dc\uc124 \uc0ac\uc9c4 \uc5c5\ub85c\ub4dc");$("tbody.files").empty();$("#pfPhoto_upload_dialog").dialog("option",{title:b,closeOnEscape:!0});$("#pfPhoto_upload_dialog").dialog({buttons:[{text:"\ud655\uc778",click:function(){var a=[];$("#pfPhotoupload tbody.files tr").each(function(){a[a.length]={physcalFileNm:$(this).data("physcal-file-nm"),logicalFileNm:$(this).data("logical-file-nm")}});$(this).trigger("fileUploaded",{rows:a});$(this).dialog("close")}},
{text:"\ucde8\uc18c",click:function(){$(this).dialog("close")}}]});$("#pfPhoto_upload_dialog").dialog("open");$("#pfPhotoupload").addClass("fileupload-processing");$("#pfPhotoupload").data("module",this);$("#pfPhoto_upload_dialog").off("fileUploaded");$("#pfPhoto_upload_dialog").on("fileUploaded",{done:c,module:this},function(a,b){a.data.done(a.data.module,b.rows)})};
EmdModule.prototype.downPfPhoto=function(a,c){$.fileDownload(EMD.context_root+"/download/pfDownloadFile.do",{data:{requestedFile:a,downloadFileName:c},httpMethod:"POST"})};
EmdModule.prototype.uploadXlsFile=function(a,c,b,d){null==b&&(b="\uc5c5\ub85c\ub4dc \ud30c\uc77c");$("#xlsfile_upload_dialog").dialog("option",{title:b,closeOnEscape:!0});$("#xlsfile_upload_dialog").dialog({buttons:[{text:"\ud655\uc778",click:function(){$(this).trigger("fileUploaded");$(this).dialog("close")}},{text:"\ucde8\uc18c",click:function(){$(this).dialog("close")}}]});$("#xlsfile_upload_dialog").dialog("open");$("#xlsfileupload").attr("action",EMD.context_root+d);$("#xlsfileupload").data("module",
this);$("#xlsfile_upload_dialog").off("fileUploaded");$("#xlsfile_upload_dialog").on("fileUploaded",{done:c,module:this},function(a){a.data.done(a.data.module,null)})};EmdModule.prototype.downloadFile=function(a,c){$.fileDownload(EMD.context_root+"/download/downloadFile.do",{data:{requestedFile:a,downloadFileName:c},httpMethod:"POST"})};EmdModule.prototype.addGisAssetsCdMap=function(a,c){EMD.util.window_hide_all();EMD.gis.addFeature(a,c)};
EmdModule.prototype.modifyGisAssetsCdMap=function(a,c){EMD.gis.modifyFeature(a,c)};EmdModule.prototype.addAssetsCodeByLotcode=function(a,c){};EmdModule.prototype.showBupJungDongCodeLocation=function(a){EMD.gis.showBupJungDongCode(a)};EmdModule.prototype.getImageUrl=function(a){return EMD.context_root+"/cmm/getImage.do?physicalFileNm="+a};EmdModule.prototype.getPfPhotoUrl=function(a){return EMD.context_root+"/cmm/getPfImage.do?physicalFileNm="+a};
EmdModule.prototype.showWindow=function(){var a="#"+this.getModuleId();EMD.util.window_show($(a))};EmdModule.prototype.hideWindow=function(){var a="#"+this.getModuleId();EMD.util.window_hide($(a))};EmdModule.prototype.closeWindow=function(a){if(null!=this._parent&&(a=this._parent.closeChildWindow(this.getModuleId(),a),null!=a&&!1==a))return!1;var c="#"+this.getModuleId();setTimeout(function(){EMD.util.window_close($(c))},0);return!0};EmdModule.prototype.closeChildWindow=function(a,c){return!0};
EmdModule.prototype.requestEApproval=function(a,c){$("#__tempDiv").empty();var b=document.createElement("form");$(b).attr("id","__requestEApprovalForm");var d=document.createElement("input"),g=document.createElement("input"),h=document.createElement("input"),k=document.createElement("input"),l=document.createElement("input");$(d).attr("name","prtAtCode");$(d).val(a.prtAtCode);$(g).attr("name","mngYear");$(g).val(a.mngYear);$(h).attr("name","mngNo");$(h).val(a.mngNo);$(k).attr("name","mngCnt");$(k).val(a.mngCnt);
$(l).attr("name","type");$(l).val(a.type);if("N"==a.type.substring(2,3)){var n=document.createElement("input");$(n).attr("name","nticCnt");$(n).val(a.nticCnt);$(b).append(n)}$(b).append(d);$(b).append(g);$(b).append(h);$(b).append(k);$(b).append(l);$(b).attr("action",EMD.context_root+"/cmmn/fclty/openApprovalRequest.do");$("#__tempDiv").append(b);window.open("","Window","width=1024, height=768, menubar=no,status=yes,scrollbars=no");b.target="Window";b.submit()};
EmdModule.prototype.printPayNotice=function(a,c,b){$("#__tempDiv").empty();b=document.createElement("form");$(b).attr("id","__printPayNoticeForm");var d=document.createElement("input"),g=document.createElement("input"),h=document.createElement("input"),k=document.createElement("input"),l=document.createElement("input"),n=document.createElement("input");$(d).attr("name","prtAtCode");$(d).val(c.prtAtCode);$(g).attr("name","mngYear");$(g).val(c.mngYear);$(h).attr("name","mngNo");$(h).val(c.mngNo);$(k).attr("name",
"mngCnt");$(k).val(c.mngCnt);$(l).attr("name","nticCnt");$(l).val(c.nticCnt);$(n).attr("name","chrgeKnd");$(n).val(c.chrgeKnd);$(b).append(d);$(b).append(g);$(b).append(h);$(b).append(k);$(b).append(l);$(b).append(n);$(b).attr("action",EMD.context_root+a);$("#__tempDiv").append(b);window.open("","payNotice","width=800, height=600, menubar=no,status=no,scrollbars=yes");b.target="payNotice";b.submit()};
EmdModule.prototype.printTaxNotice=function(a,c,b){$("#__tempDiv").empty();b=document.createElement("form");$(b).attr("id","__printTaxNoticeForm");var d=document.createElement("input"),g=document.createElement("input"),h=document.createElement("input"),k=document.createElement("input"),l=document.createElement("input");$(d).attr("name","prtAtCode");$(d).val(c.prtAtCode);$(g).attr("name","mngYear");$(g).val(c.mngYear);$(h).attr("name","mngNo");$(h).val(c.mngNo);$(k).attr("name","mngCnt");$(k).val(c.mngCnt);
$(l).attr("name","nticCnt");$(l).val(c.nticCnt);$(b).append(d);$(b).append(g);$(b).append(h);$(b).append(k);$(b).append(l);$(b).attr("action",EMD.context_root+a);$("#__tempDiv").append(b);window.open("","taxNotice","width=800, height=600, menubar=no,status=no,scrollbars=yes");b.target="taxNotice";b.submit()};
EmdModule.prototype.printPage=function(a,c){$("#__tempDiv").empty();var b=document.createElement("form");$(b).attr("id","__printPayNoticeForm");for(var d in c){var g=document.createElement("input");$(g).attr("name",d);$(g).val(c[d]);$(b).append(g)}$(b).attr("action",EMD.context_root+a);$("#__tempDiv").append(b);d=window.open("","printPage","width=800, height=600, menubar=no,status=no,scrollbars=yes");$(d).on("");b.target="printPage";b.submit()};
EmdModule.prototype.modifyAssetsCodeFeature=function(a,c){EMD.gis.modifyAssetCdFeature(a,c)};function EmdPopupModule(a,c){this._returnValue=this._popupId=this._popupCaller=null;void 0==a||null==a||void 0==c||null==c?(this._width=720,this._height=480):(this._width=a,this._height=c);this.module=null;this._moduleType="_EMD_POPUP_MODULE"}EmdPopupModule.prototype=new EmdModuleBase;EmdPopupModule.prototype.getModuleType=function(){return this._moduleType};
EmdPopupModule.prototype.setDialog=function(a){this._dialog=a};EmdPopupModule.prototype.getDialog=function(a){return this._dialog};EmdPopupModule.prototype.setPopupCaller=function(a){this._popupCaller=a};EmdPopupModule.prototype.onClosePopup=function(a,c,b){alert("close dialog "+a)};EmdPopupModule.prototype.setPopupId=function(a){this._popupId=a};EmdPopupModule.prototype.getWidth=function(){return this._width};EmdPopupModule.prototype.setWidth=function(a){this._width=a};
EmdPopupModule.prototype.getHeight=function(){return this._height};EmdPopupModule.prototype.setHeight=function(a){this._height=a};EmdPopupModule.prototype.onButtonClick=function(a){alert("button "+a+" is clicked")};EmdPopupModule.prototype.resizable=function(a){this._dialog.dialog("option","resizable")!=a&&this._dialog.dialog("option","resizable",a)};EmdPopupModule.prototype.closeDialog=function(a,c){this._dialog.dialog("close");this._popupCaller.onClosePopup(this._popupId,a,c)};
EmdPopupModule.prototype.cancelDialog=function(){this._dialog.dialog("close");this._popupCaller.onClosePopup(this._popupId,"cancel",null)};function EmdPopupInfoModule(a,c){this._returnValue=this._feature=this._popup=this._popupId=this._popupCaller=null;void 0==a||null==a||void 0==c||null==c?(this._width=720,this._height=480):(this._width=a,this._height=c);this.module=null;this._moduleType="_EMD_POPUP_INFO_MODULE"}EmdPopupInfoModule.prototype=new EmdModuleBase;
EmdPopupInfoModule.prototype.getModuleType=function(){return this._moduleType};EmdPopupInfoModule.prototype.setPopupId=function(a){this._popupId=a};EmdPopupInfoModule.prototype.getPopupId=function(){return this._popupId};EmdPopupInfoModule.prototype.setPopup=function(a){this._popup=a};EmdPopupInfoModule.prototype.getPopup=function(){return this._popup};EmdPopupInfoModule.prototype.setFeature=function(a){this._feature=a};EmdPopupInfoModule.prototype.getFeature=function(){return this._feature};
EmdPopupInfoModule.prototype.getWidth=function(){return this._width};EmdPopupInfoModule.prototype.setWidth=function(a){this._width=a};EmdPopupInfoModule.prototype.getHeight=function(){return this._height};EmdPopupInfoModule.prototype.setHeight=function(a){this._height=a};EmdPopupInfoModule.prototype.onButtonClick=function(a){alert("button "+a+" is clicked")};EmdPopupInfoModule.prototype.closeDialog=function(a,c){this._dialog.dialog("close");this._popupCaller.onClosePopup(this._popupId,a,c)};
EmdPopupInfoModule.prototype.cancelDialog=function(){this._dialog.dialog("close");this._popupCaller.onClosePopup(this._popupId,"cancel",null)};function EmdErrorModule(){this._msg="\uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.";this._moduleType="_EMD_ERROR_MODULE"}EmdErrorModule.prototype.getModuleType=function(){return this._moduleType};EmdErrorModule.prototype.loadComplete=function(){};EmdErrorModule.prototype.setMessage=function(a){this._msg=a};
EmdErrorModule.prototype.getMessage=function(){return this._msg};
(function(a){a.fn.getSelectedCodeLabel=function(){var c="";if(a(this).hasClass("ygpaCmmnCode")||a(this).hasClass("ygpaCmmnCl")||a(this).hasClass("ygpaCmmnCd")||a(this).hasClass("ygpaDeptSelect")||a(this).hasClass("ygpaYnSelect"))c=a("#"+a(this).attr("id")+"_select.frmwrkAuto").find(":selected").text();return c};a.getSelectedCodeLabel=function(){var c="";if(a(this).hasClass("ygpaCmmnCode")||a(this).hasClass("ygpaCmmnCl")||a(this).hasClass("ygpaCmmnCd")||a(this).hasClass("ygpaDeptSelect")||a(this).hasClass("ygpaYnSelect"))c=
a("#"+a(this).attr("id")+"_select.frmwrkAuto").find(":selected").text();return c}})(jQuery);
(function(a){function c(a,b){if(this.createTextRange){var c=this.createTextRange();c.collapse(!0);c.moveStart("character",a);c.moveEnd("character",b-a);c.select()}else this.setSelectionRange&&(this.focus(),this.setSelectionRange(a,b))}function b(a){var b=this.value.length;a="start"==a.toLowerCase()?"Start":"End";if(document.selection){var b=document.selection.createRange(),c;c=b.duplicate();c.expand("textedit");c.setEndPoint("EndToEnd",b);c=c.text.length-b.text.length;b=c+b.text.length;return"Start"==
a?c:b}"undefined"!=typeof this["selection"+a]&&(b=this["selection"+a]);return b}var d={188:44,109:45,190:46,191:47,192:96,220:92,222:39,221:93,219:91,173:45,187:61,186:59,189:45,110:46},g={96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"};a.fn.number=function(h,k,s,p){p="undefined"===typeof p?",":p;s="undefined"===typeof s?".":s;k="undefined"===typeof k?0:k;var m="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),
q=RegExp("[^"+m+"0-9]","g"),r=RegExp(m,"g");return!0===h?this.is("input:text")?this.on({"keydown.format":function(h){var l=a(this),m=l.data("numFormat"),w=h.keyCode?h.keyCode:h.which,z="",v=b.apply(this,["start"]),A=b.apply(this,["end"]),B="",B=!1;d.hasOwnProperty(w)&&(w=d[w]);!h.shiftKey&&65<=w&&90>=w?w+=32:!h.shiftKey&&69<=w&&105>=w?w-=48:h.shiftKey&&g.hasOwnProperty(w)&&(z=g[w]);""==z&&(z=String.fromCharCode(w));if(8!==w&&z!=s&&!z.match(/[0-9]/)){var C=!0;z.match(/[-]/)&&!m.isNegative&&(m.isNegative=
!0,C=!1);if(C){l=h.keyCode?h.keyCode:h.which;if(46==l||8==l||9==l||27==l||13==l||(65==l||82==l)&&!0===(h.ctrlKey||h.metaKey)||(86==l||67==l)&&!0===(h.ctrlKey||h.metaKey)||35<=l&&39>=l)return;h.preventDefault();return!1}}0==v&&A==this.value.length||0==l.val()?8===w?(v=A=1,this.value="",m.init=0<k?-1:0,m.c=0<k?-(k+1):0,c.apply(this,[0,0])):z===s?(v=A=1,this.value="0"+s+Array(k+1).join("0"),m.init=0<k?1:0,m.c=0<k?-(k+1):0):0===this.value.length&&(m.init=0<k?-1:0,m.c=0<k?-k:0):m.c=A-this.value.length;
if(8==w&&1>=v&&m.isNegative)h.preventDefault(),m.isNegative=!1,m.c--,B=this.value.length+m.c;else if(0<k&&z==s&&v==this.value.length-k-1)m.c++,m.init=Math.max(0,m.init),h.preventDefault(),B=this.value.length+m.c;else if(z==s)m.init=Math.max(0,m.init),h.preventDefault();else if(0<k&&8==w&&v==this.value.length-k)h.preventDefault(),m.c--,B=this.value.length+m.c;else if(0<k&&8==w&&v>this.value.length-k){if(""===this.value)return;"0"!=this.value.slice(v-1,v)&&(B=this.value.slice(0,v-1)+"0"+this.value.slice(v),
l.val(B.replace(q,"").replace(r,s)));h.preventDefault();m.c--;B=this.value.length+m.c}else 8==w&&this.value.slice(v-1,v)==p?(h.preventDefault(),m.c--,B=this.value.length+m.c):0<k&&v==A&&this.value.length>k+1&&v>this.value.length-k-1&&isFinite(+z)&&!h.metaKey&&!h.ctrlKey&&!h.altKey&&1===z.length&&(this.value=B=A===this.value.length?this.value.slice(0,v-1):this.value.slice(0,v)+this.value.slice(v+1),B=v);!1!==B&&c.apply(this,[B,B]);l.data("numFormat",m)},"keyup.format":function(d){var g=a(this),h=g.data("numFormat");
d=d.keyCode?d.keyCode:d.which;var l=b.apply(this,["start"]);""===this.value||(48>d||57<d)&&(96>d||105<d)&&8!==d||(g.val(g.val()),0<k&&(1>h.init?(l=this.value.length-k-(0>h.init?1:0),h.c=l-this.value.length,h.init=1,g.data("numFormat",h)):l>this.value.length-k&&8!=d&&(h.c++,g.data("numFormat",h))),g.get(0).value.length?h.isNegative&&(g.get(0).value="-"+this.value):h.isNegative=!1,g=this.value.length+h.c,c.apply(this,[g,g]))},"paste.format":function(b){var c=a(this),d=b.originalEvent,g=null;window.clipboardData&&
window.clipboardData.getData?g=window.clipboardData.getData("Text"):d.clipboardData&&d.clipboardData.getData&&(g=d.clipboardData.getData("text/plain"));c.val(g);b.preventDefault();return!1}}).each(function(){var b=a(this).data("numFormat",{c:-(k+1),decimals:k,thousands_sep:p,dec_point:s,regex_dec_num:q,regex_dec:r,init:!1});""!==this.value&&b.val(b.val())}):this.each(function(){var b=a(this),c=b.text().match(/^-/)?-1:1,c=+b.text().replace(q,"").replace(r,".")*c;b.number(isFinite(c)?+c:0,k,s,p)}):
this.text(a.number.apply(window,arguments))};var h=null,k=null;a.isPlainObject(a.valHooks.text)?(a.isFunction(a.valHooks.text.get)&&(h=a.valHooks.text.get),a.isFunction(a.valHooks.text.set)&&(k=a.valHooks.text.set)):a.valHooks.text={};a.valHooks.text.get=function(b){var c=a(b).data("numFormat");if(c){if(""===b.value)return"";b.value.match(/^-/)&&(c.isNegative=!0);b=+b.value.replace(c.regex_dec_num,"").replace(c.regex_dec,".");b=isFinite(b)?b:0;0!=b&&c.isNegative&&(b*=-1);return""+b}if(a.isFunction(h))return h(b)};
a.valHooks.text.set=function(b,c){var d=a(b).data("numFormat");if(d)return""===c?b.value="":b.value=a.number(c,d.decimals,d.dec_point,d.thousands_sep);if(a.isFunction(k))return k(b,c)};a.number=function(a,b,c,d){d="undefined"===typeof d?",":d;c="undefined"===typeof c?".":c;b=isFinite(+b)?Math.abs(b):0;var g="\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4),h="\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4);a=(a+"").replace(".",c).replace(RegExp(h,"g"),"").replace(RegExp(g,"g"),".").replace(/[^0-9+-Ee.]/g,
"");a=isFinite(+a)?+a:0;g="";g=function(a,b){var c=Math.pow(10,b);return""+Math.round(a*c)/c};g=(b?g(a,b):""+Math.round(a)).split(".");3<g[0].length&&(g[0]=g[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,d));(g[1]||"").length<b&&(g[1]=g[1]||"",g[1]+=Array(b-g[1].length+1).join("0"));return g.join(c)}})(jQuery);
Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var c=Object(this),b=c.length>>>0;if(0===b)return-1;var d=0;1<arguments.length&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&Infinity!=d&&-Infinity!=d&&(d=(0<d||-1)*Math.floor(Math.abs(d))));if(d>=b)return-1;for(d=0<=d?d:Math.max(b-Math.abs(d),0);d<b;d++)if(d in c&&c[d]===a)return d;return-1});
(function(a){a.fn.makeSelectDeptCd=function(){return this.each(function(){var c="",b="",d=this,g=a(this).attr("id"),h="window_"+a(this).attr("id").split("_")[1];null!=a(this).data("default-prompt")&&(c=null!=a(this).data("default-prompt")?a(this).data("default-prompt"):"\uc120\ud0dd",b=null!=a(this).data("default-value")?a(this).data("default-value"):"");if(null==a(this).data("display-value")){try{a(this).attr("type","hidden")}catch(k){a(this).attr("id",g+"_backup"),a(this).after('<input type="hidden" id="'+
g+'" />'),d=a("#"+h+" #"+g)[0],a(this).remove()}a(d).after('<select id="'+g+'_select" class="frmwrkAuto"></select>')}else"N"==a(this).data("display-value")?(a(this).attr("readonly","readonly"),a(this).before('<select id="'+g+'_select" class="frmwrkAuto"></select>')):(a(this).attr("readonly","readonly"),a(this).after('<select id="'+g+'_select" class="frmwrkAuto"></select>'));""!=c&&a(this).append('<option value="'+b+'" selected>'+c+"</option>");a(this).focus(function(){a("#"+a(this).attr("id")+"_select")[0].focus()});
a.ajax({url:EMD.context_root+"/cmmn/selectDeptCodeOptionsList.do",type:"POST",module:d,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:[{name:"cmd",value:""}],success:function(b){if(null!=b.resultCode&&0!=b.resultCode)1==b.resultCode&&(alert(b.resultMsg),location.reload());else{var c="",d="#"+a(this.module).attr("id")+"_select";if(void 0!=a(this.module).data("value"))for(var c=a(this.module).data("value"),g=0;g<b.resultList.length;g++)c==b.resultList[g].value?a("#"+
h).find(d).append('<option value="'+b.resultList[g].value+'" selected>'+b.resultList[g].name+"</option>"):a("#"+h).find(d).append('<option value="'+b.resultList[g].value+'">'+b.resultList[g].name+"</option>");else for(g=0;g<b.resultList.length;g++)a("#"+h).find(d).append('<option value="'+b.resultList[g].value+'">'+b.resultList[g].name+"</option>");a("#"+h).find(d).change({module:this.module},function(b){a(b.data.module).val(a(this).find("option:selected").val());a(b.data.module).trigger("change")});
"readonly"==a(this.module).attr("readonly")&&a(d).attr("readonly","readonly");"disabled"==a(this.module).attr("disabled")&&a(d).attr("disabled","disabled")}},error:function(a,b,c){}})})};a.fn.makeSelectCmmnCd=function(){return this.each(function(){var c="",b="",d=this,g="window_"+a(this).attr("id").split("_")[1],h=a(this).attr("id");if(void 0!=a(this).data("code-id")){null!=a(this).data("default-prompt")&&(c=null!=a(this).data("default-prompt")?a(this).data("default-prompt"):"\uc120\ud0dd",b=null!=
a(this).data("default-value")?a(this).data("default-value"):"");if(null==a(this).data("display-value")){try{a(this).attr("type","hidden")}catch(k){a(this).attr("id",h+"_backup"),a(this).after('<input type="hidden" id="'+h+'" />'),d=a("#"+g+" #"+h)[0],a(this).remove()}a(d).after('<select id="'+h+'_select" class="frmwrkAuto"></select>')}else"N"==a(this).data("display-value")?(a(this).attr("readonly","readonly"),a(this).before('<select id="'+h+'_select" class="frmwrkAuto"></select>')):(a(this).attr("readonly",
"readonly"),a(this).after('<select id="'+h+'_select" class="frmwrkAuto"></select>'));""!=c&&(null==a(d).data("value")?a("#"+g).find("#"+h+"_select").append('<option value="'+b+'" selected>'+c+"</option>"):a("#"+g).find("#"+h+"_select").append('<option value="'+b+'">'+c+"</option>"));a(this).focus(function(){a("#"+a(this).attr("id")+"_select")[0].focus()});a.ajax({url:EMD.context_root+"/cmmn/selectCmmnCdOptionsList.do",type:"POST",module:d,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",
data:[{name:"code_id",value:a(this).data("code-id")}],success:function(b){if(null!=b.resultCode&&0!=b.resultCode)1==b.resultCode&&(alert(b.resultMsg),location.reload());else{var c="",d="#"+a(this.module).attr("id")+"_select";if(null!=a(this.module).data("value"))for(var c=a(this.module).data("value"),h=0;h<b.resultList.length;h++)c==b.resultList[h].value?a("#"+g).find(d).append('<option value="'+b.resultList[h].value+'" selected>'+b.resultList[h].name+"</option>"):a("#"+g).find(d).append('<option value="'+
b.resultList[h].value+'">'+b.resultList[h].name+"</option>");else for(h=0;h<b.resultList.length;h++)a("#"+g).find(d).append('<option value="'+b.resultList[h].value+'">'+b.resultList[h].name+"</option>");a("#"+g).find(d).change({module:this.module},function(b){a(b.data.module).val(a(this).find("option:selected").val());a(b.data.module).trigger("change")});"readonly"==a(this.module).attr("readonly")&&a(d).attr("readonly","readonly");"disabled"==a(this.module).attr("disabled")&&a(d).attr("disabled",
"disabled")}},error:function(a,b,c){}})}})}})(jQuery);
(function(a){a.fn.popupWindow=function(c){return this.each(function(){a(this).click(function(){a.fn.popupWindow.defaultSettings={centerBrowser:0,centerScreen:0,height:500,left:0,location:0,menubar:0,resizable:0,scrollbars:0,status:0,width:500,windowName:null,windowURL:null,top:0,toolbar:0};settings=a.extend({},a.fn.popupWindow.defaultSettings,c||{});var b="height="+settings.height+",width="+settings.width+",toolbar="+settings.toolbar+",scrollbars="+settings.scrollbars+",status="+settings.status+",resizable="+
settings.resizable+",location="+settings.location+",menuBar="+settings.menubar;settings.windowName=this.name||settings.windowName;settings.windowURL=this.href||settings.windowURL;var d,g;settings.centerBrowser?(a.browser.msie?(d=window.screenTop-120+((document.documentElement.clientHeight+120)/2-settings.height/2),g=window.screenLeft+((document.body.offsetWidth+20)/2-settings.width/2)):(d=window.screenY+(window.outerHeight/2-settings.height/2),g=window.screenX+(window.outerWidth/2-settings.width/
2)),window.open(settings.windowURL,settings.windowName,b+",left="+g+",top="+d).focus()):settings.centerScreen?(d=(screen.height-settings.height)/2,g=(screen.width-settings.width)/2,window.open(settings.windowURL,settings.windowName,b+",left="+g+",top="+d).focus()):window.open(settings.windowURL,settings.windowName,b+",left="+settings.left+",top="+settings.top).focus();return!1})})}})(jQuery);
(function(a){a.fn.disable=function(c){function b(b){b.removeAttr("disabled");a("#"+b.attr("id")+"_select").removeAttr("disabled");""!==h.enableClass&&(b.addClass(h.enableClass),a("#"+b.attr("id")+"_select").addClass(h.enableClass));""!==h.disableClass&&(b.removeClass(h.disableClass),a("#"+b.attr("id")+"_select").removeClass(h.disableClass))}function d(a){setTimeout(function(){b(a)},1E3*h.enableAfterSeconds)}function g(a){a.ajaxComplete(function(c,d,g){c=null===h.ajaxUrl||g.url===h.ajaxUrl;g=null===
h.ajaxResponseText||d.responseText===h.ajaxResponseText;(!h.enableOnAjaxSuccess||h.enableOnAjaxSuccess&&200===d.status)&&c&&g&&b(a)})}var h=a.extend({},a.fn.disable.defaults,c);return this.each(function(){var b=a(this);b.attr("disabled","disabled");a("#"+b.attr("id")+"_select").attr("disabled","disabled");""!==h.disableClass&&(b.addClass(h.disableClass),a("#"+b.attr("id")+"_select").addClass(h.disableClass));""!==h.enableClass&&(b.removeClass(h.enableClass),a("#"+b.attr("id")+"_select").removeClass(h.enableClass));
0<h.enableAfterSeconds&&d(b);(h.enableOnAjaxComplete||h.enableOnAjaxSuccess)&&g(b)})};a.fn.disable.defaults={enableClass:"",disableClass:"",enableAfterSeconds:0,enableOnAjaxComplete:!1,enableOnAjaxSuccess:!1,ajaxUrl:null,ajaxResponseText:null};a.fn.enable=function(c){var b=a.extend({},a.fn.enable.defaults,c);return this.each(function(){var c=a(this);c.removeAttr("disabled");a("#"+c.attr("id")+"_select").removeAttr("disabled");""!==b.enableClass&&(c.addClass(b.enableClass),a("#"+c.attr("id")+"_select").addClass(b.enableClass));
""!==b.disableClass&&(c.removeClass(b.disableClass),a("#"+c.attr("id")+"_select").removeClass(b.disableClass))})};a.fn.enable.defaults={enableClass:"",disableClass:""};a.fn.readonly=function(c,b){var d=a.extend({},a.fn.readonly.defaults,b);return this.each(function(){var b=a(this);b.attr("readonly",c);a("#"+b.attr("id")+"_select").attr("readonly",c);""!==d.readonlyClass&&(c?(b.addClass(d.readonlyClass),a("#"+b.attr("id")+"_select").addClass(d.readonlyClass)):(b.removeClass(d.readonlyClass),a("#"+
b.attr("id")+"_select").removeClass(d.readonlyClass)));0<d.readonlyAfterSeconds&&setEnableTimeout(b,c);(d.readonlyAjaxComplete||d.readonlyAjaxSuccess)&&setAjaxEnable(b,c)})};a.fn.readonly.defaults={readonlyClass:"",readonlyAfterSeconds:0,readonlyAjaxComplete:!1,readonlyAjaxSuccess:!1,ajaxUrl:null,ajaxResponseText:null}})(jQuery);
(function(a){var c=a.fn.val;a.fn.val=function(b){if("undefined"==typeof b)return c.call(this);if("undefined"!=typeof a(this).attr("id")){var d=a("#"+a(this).attr("id")+"_select.frmwrkAuto");1==d.length&&c.call(d,b)}return c.call(this,b)}})(jQuery);
(function(a,c){"$:nomunge";var b=a.jQuery||a.Cowboy||(a.Cowboy={}),d;b.throttle=d=function(a,d,k,l){function n(){function b(){p=+new Date;k.apply(r,u)}function n(){s=c}var r=this,t=+new Date-p,u=arguments;l&&!s&&b();s&&clearTimeout(s);l===c&&t>a?b():!0!==d&&(s=setTimeout(l?n:b,l===c?a-t:a))}var s,p=0;"boolean"!==typeof d&&(l=k,k=d,d=c);b.guid&&(n.guid=k.guid=k.guid||b.guid++);return n};b.debounce=function(a,b,k){return k===c?d(a,b,!1):d(a,k,!1!==b)}})(this);
(function(a,c){var b=/[<>&\r\n"']/gm,d={"<":"lt;",">":"gt;","&":"amp;","\r":"#13;","\n":"#10;",'"':"quot;","'":"apos;"};a.extend({fileDownload:function(g,h){function k(){if(-1!=document.cookie.indexOf(p.cookieName+"="+p.cookieValue))w.onSuccess(g),document.cookie=p.cookieName+"=; expires="+(new Date(1E3)).toUTCString()+"; path="+p.cookiePath,n(!1);else{if(v||z)try{var b=v?v.document:l(z);if(b&&null!=b.body&&b.body.innerHTML.length){var c=!0;if(A&&A.length){var d=a(b.body).contents().first();try{d.length&&
d[0]===A[0]&&(c=!1)}catch(h){if(h&&-2146828218==h.number)c=!0;else throw h;}}if(c){setTimeout(function(){w.onFail(b.body.innerHTML,g);n(!0)},100);return}}}catch(m){w.onFail("",g);n(!0);return}setTimeout(k,p.checkInterval)}}function l(a){a=a[0].contentWindow||a[0].contentDocument;a.document&&(a=a.document);return a}function n(a){setTimeout(function(){v&&(t&&v.close(),r&&v.focus&&(v.focus(),a&&v.close()))},0)}function s(a){return a.replace(b,function(a){return"&"+d[a]})}var p=a.extend({preparingMessageHtml:null,
failMessageHtml:null,androidPostUnsupportedMessageHtml:"Unfortunately your Android browser doesn't support this type of file download. Please try again with a different browser.",dialogOptions:{modal:!0},prepareCallback:function(a){},successCallback:function(a){},failCallback:function(a,b){},httpMethod:"GET",data:null,checkInterval:100,cookieName:"fileDownload",cookieValue:"true",cookiePath:"/",popupWindowTitle:"Initiating file download...",encodeHTMLEntities:!0},h),m=new a.Deferred,q=(navigator.userAgent||
navigator.vendor||c.opera).toLowerCase(),r,t,u;/ip(ad|hone|od)/.test(q)?r=!0:-1!==q.indexOf("android")?t=!0:u=/avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|playbook|silk|iemobile|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(q)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(q.substr(0,
4));q=p.httpMethod.toUpperCase();if(t&&"GET"!==q)return a().dialog?a("<div>").html(p.androidPostUnsupportedMessageHtml).dialog(p.dialogOptions):alert(p.androidPostUnsupportedMessageHtml),m.reject();var y=null,w={onPrepare:function(b){p.preparingMessageHtml?y=a("<div>").html(p.preparingMessageHtml).dialog(p.dialogOptions):p.prepareCallback&&p.prepareCallback(b)},onSuccess:function(a){y&&y.dialog("close");p.successCallback(a);m.resolve(a)},onFail:function(b,c){y&&y.dialog("close");p.failMessageHtml&&
a("<div>").html(p.failMessageHtml).dialog(p.dialogOptions);p.failCallback(b,c);m.reject(b,c)}};w.onPrepare(g);null!==p.data&&"string"!==typeof p.data&&(p.data=a.param(p.data));var z,v,A;if("GET"===q)null!==p.data&&(-1!==g.indexOf("?")?"&"!==g.substring(g.length-1)&&(g+="&"):g+="?",g+=p.data),r||t?(v=c.open(g),v.document.title=p.popupWindowTitle,c.focus()):u?c.location(g):z=a("<iframe>").hide().prop("src",g).appendTo("body");else{var B="";null!==p.data&&a.each(p.data.replace(/\+/g," ").split("&"),
function(){var a=this.split("="),b=p.encodeHTMLEntities?s(decodeURIComponent(a[0])):decodeURIComponent(a[0]);b&&(a=p.encodeHTMLEntities?s(decodeURIComponent(a[1])):decodeURIComponent(a[1]),B+='<input type="hidden" name="'+b+'" value="'+a+'" />')});u?(A=a("<form>").appendTo("body"),A.hide().prop("method",p.httpMethod).prop("action",g).html(B)):(r?(v=c.open("about:blank"),v.document.title=p.popupWindowTitle,u=v.document,c.focus()):(z=a("<iframe style='display: none' src='about:blank'></iframe>").appendTo("body"),
u=l(z)),u.write("<html><head></head><body><form method='"+p.httpMethod+"' action='"+g+"'>"+B+"</form>"+p.popupWindowTitle+"</body></html>"),A=a(u).find("form"));A.submit()}setTimeout(k,p.checkInterval);return m.promise()}})})(jQuery,this);function eXcell_button(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid);this.disabledF=function(a){this.cell.innerHTML=!0==a||1==a?this.cell.innerHTML.replace("item_chk0.","item_chk0_dis.").replace("item_chk1.","item_chk1_dis."):this.cell.innerHTML.replace("item_chk0_dis.","item_chk0.").replace("item_chk1_dis.","item_chk1.")};this.buttonClick=function(a){!0!==a||this.grid.isActive||(null!=window.globalActiveDHTMLGridObject&&window.globalActiveDHTMLGridObject!=this.grid&&window.globalActiveDHTMLGridObject.isActive&&
window.globalActiveDHTMLGridObject.setActive(!1),this.grid.setActive(!0));!this.grid.isEditable||this.cell.parentNode._locked||this.isDisabled()||(this.grid.callEvent("onEditCell",[0,this.cell.parentNode.idd,this.cell._cellIndex])?(this.val=this.getValue(),this.cell.wasChanged=!0,this.grid.callEvent("onButtonClick",[this.cell.parentNode.idd,this.cell._cellIndex,this.val])):this.editor=null)};this.getValue=function(){return this.cell.chstate?this.cell.chstate.toString():"0"};this.isButton=function(){return!0};
this.detach=function(){return this.val!=this.getValue()};this.edit=null}eXcell_button.prototype=new eXcell;eXcell_button.prototype.setValue=function(a){this.cell.style.verticalAlign="middle";this.setCValue("<input type='button' value='"+a+"' onclick='new eXcell_button(this.parentNode).buttonClick(true); (arguments[0]||event).cancelBubble=true; '>",a)};
function eXcell_jqimg(a){a&&(this.cell=a,this.grid=this.cell.parentNode.grid);this.disabledF=function(a){!0==a||1==a?$(this.cell).enable():$(this.cell).disable()};this.getValue=function(){return this.cell.chstate?this.cell.chstate.toString():"0"};this.detach=function(){return this.val!=this.getValue()};this.edit=null}eXcell_jqimg.prototype=new eXcell;
eXcell_jqimg.prototype.setValue=function(a){this.cell.style.verticalAlign="middle";null==a?this.setCValue("<span></span>",a):this.setCValue('<span class="ui-icon ui-icon-'+a+'"></span>',a)};
(function(a){"function"!=typeof a.support.selectstart&&(a.support.selectstart="onselectstart"in document.createElement("div"));"function"!=typeof a.fn.disableSelection&&(a.fn.disableSelection=function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})});a.fn.flexigrid=function(c){return this.each(function(){var b=a(this).attr("id"),d,g;a(this).attr("id","___temp");d=a(this).css("width");g=a(this).css("height");void 0!=c.width&&
(d=c.width);void 0!=c.height&&("auto"!=c.height?g=c.height:a(this).addClass("fillHeight"));a(this).hasClass("fillHeight")?(a(this).removeClass("fillHeight"),a(this).after("<div id='"+b+"' style='width:"+d+"px; height:"+g+"px;' class='fillHeight'></div>")):a(this).after("<div id='"+b+"' style='width:"+d+"px; height:"+g+"px;'></div>");var h=new dhtmlXGridObject(b),k=null,l=null,n=null,s=null,p=null,m=null,q=null,r=[],t=[],u=[];a.each(c.colModel,function(b,c){var d,g="str";k=null==k?this.display:k+","+
this.display;l=null==l?this.name:l+","+this.name;n=null==n?this.width:n+","+this.width;switch(this.halign){case "right":r[r.length]="text-align:right";break;case "left":r[r.length]="text-align:left";break;default:r[r.length]="text-align:center"}switch(this.align){case "right":d="right";break;case "left":d="left";break;default:d="center"}s=null==s?d:s+","+d;switch(this.valign){case "top":d="top";break;case "bottom":d="bottom";break;case "baseline":d="baseline";break;default:d="middle"}p=null==p?d:
p+","+d;switch(this.displayFormat){case "checkbox":d="ch";g="na";break;case "number":d="ron";g="int";void 0!=this.displayOption?"string"==typeof this.displayOption?t[t.length]={mask:this.displayOption,cInd:b}:"object"==typeof this.displayOption&&(t[t.length]={mask:this.displayOption.format,cInd:b}):t[t.length]={mask:"0,000",cInd:b};break;case "button":d="button";g="na";break;case "jqimg":d="jqimg";break;case "select":d="co";g="na";if(void 0!=this.displayOption)if("string"==typeof this.displayOption)u[u.length]=
{items:this.displayOption,cInd:b};else if("object"==typeof this.displayOption){var h=[];a.each(this.displayOption,function(){h[h.length]=[this.value,this.name]});u[u.length]={items:h,cInd:b}}break;default:d="rotxt"}m=null==m?d:m+","+d;if(void 0!=this.sortType)switch(this.sortType){case "number":g="int";break;case "text":g="str";break;default:g=this.sortType}q=null==q?g:q+","+g});h.setImagePath(EMD.context_root+"/js/codebase/imgs/");h.setHeader(k,null,r);h.setColumnIds(l);h.setInitWidths(n);h.setColTypes(m);
h.setColAlign(s);h.setColVAlign(p);h.enableEditEvents(!0,!1,!0);h._mergeRows=null;void 0!=c.mergeRows&&(h._mergeRows="string"==typeof c.mergeRows?c.mergeRows.split(","):c.mergeRows,h.enableRowspan());h._groupBy=null;void 0!=c.groupBy&&(h._groupBy=h.getColIndexById(c.groupBy));a.each(t,function(){h.setNumberFormat(this.mask,this.cInd)});a.each(u,function(){var b=h.getCombo(this.cInd);a.each(this.items,function(){b.put(this[0],this[1])})});void 0!=c.multiSelect&&!0==c.multiSelect?h.enableMultiselect(!0):
h.enableMultiselect(!1);h.setColSorting(q);h._defaultPageUnit=3E3;h._totalCount=0;h._loadCount=0;h._doMergeRow=function(){var a=[],b=[],c=[],d=null,g=!1;this.forEachRow(function(h){var k=!1;d=h;var l=this.getRowIndex(h),l=this.rowsBuffer[l]._attrs,n;for(n in this._mergeRows){var m=this._mergeRows[n];g?k||a[m]==l[m]?k?(1<c[m]&&(this.setRowspan(b[m],this.getColIndexById(m),c[m]),c[m]=1),b[m]=h,a[m]=l[m]):c[m]++:(1<c[m]&&(this.setRowspan(b[m],this.getColIndexById(m),c[m]),c[m]=1),k=!0,b[m]=h,a[m]=l[m]):
(a[m]=l[m],b[m]=h,c[m]=1,g=!0)}});if(null!=d){var h=d,k=!1,l=this.getRowIndex(h),l=this.rowsBuffer[l]._attrs,n;for(n in this._mergeRows){var m=this._mergeRows[n];k?1<h-b[m]&&this.setRowspan(b[m],this.getColIndexById(m),c[m]):1<c[m]&&a[m]==l[m]&&h!=b[m]?this.setRowspan(b[m],this.getColIndexById(m),c[m]+1):(this.setRowspan(b[m],this.getColIndexById(m),c[m]),k=!0)}}};h._loadData=function(b){if(null!=b.resultCode&&0!=b.resultCode)1==b.resultCode&&(alert(b.resultMsg),location.reload());else{void 0!=this.p.preProcess&&
(b=this.p.preProcess(this.p.module,b));var c;void 0!=this.rowsBuffer&&0!==this.rowsBuffer.length?(c=this.rowsAr.concat(b.resultList),this._loadCount+=c.length):(c=b.resultList,this._loadCount=c.length);this.parse(c,"js");null!=this._mergeRows&&this._doMergeRow();null!=this._groupBy&&this.groupBy(this._groupBy);this._totalCount=b.totalCount;a("#"+this._grid_id).trigger("onLoadDataComplete",[this.p.module,c])}};h._clearData=function(){this._loadCount=0;this.clearAll()};h._appendRow=function(a){var b=
this.rowsBuffer.length+1;this.addRow(b,a);var c=this.getRowIndex(b),c=this.render_row(c);this._process_js_row(c,a);return b};h._updateRow=function(a,b){var c=this.getRowIndex(a),c=this.render_row(c);this._process_js_row(c,b)};h.attachEvent("onRowSelect",function(b,c){var d=this.rowsBuffer[this.getRowIndex(b)]._attrs;a("#"+this._grid_id).trigger("onItemSelected",[this.p.module,d]);a("#"+this._grid_id).trigger("onSelectChanged",[this.p.module,d])});h.attachEvent("onRowDblClicked",function(b,c){var d=
this.rowsBuffer[this.getRowIndex(b)]._attrs;a("#"+this._grid_id).trigger("onItemDoubleClick",[this.p.module,d])});h.attachEvent("onCheckbox",function(b,c,d){b=this.getRowIndex(b);var g=this.rowsBuffer[b]._attrs;g[this.getColumnId(c)]=d;a("#"+this._grid_id).trigger("onItemCheckboxClick",[this.p.module,g,b,c])});h.attachEvent("onButtonClick",function(b,c,d){b=this.getRowIndex(b);b=this.rowsBuffer[b]._attrs;a("#"+this._grid_id).trigger("onButtonClicked",[this.p.module,this.getColumnId(c),b,d])});h.attachEvent("onScroll",
function(a,b){});h.init();h._url=c.url;h.p=c;h._grid_id=b;a("#"+b)[0].dgrid=h;a("#"+b).resize(function(){this.dgrid.setSizes()});a(this).remove()})};a.fn.flexReload=function(c){return this.each(function(){if(void 0==this.dgrid)console.log("grid not init!");else{this.dgrid._pageIndex=1;var b=[];null!=this.dgrid.p.params&&(b=void 0==this.dgrid.p.params.slice?EMD.util.objectToArray(this.dgrid.p.params):this.dgrid.p.params.slice());b[b.length]={name:"pageIndex",value:this.dgrid._pageIndex};b[b.length]=
{name:"pageUnit",value:this.dgrid._defaultPageUnit};a.ajax({url:EMD.context_root+this.dgrid.p.url,type:"POST",grid_id:a(this).attr("id"),grid:this.dgrid,dataType:"json",contentType:"application/x-www-form-urlencoded; charset=UTF-8",data:b,success:function(a){this.grid._clearData();this.grid._loadData(a)},error:function(a,b,c){try{console.log(b)}catch(k){}}})}})};a.fn.flexEmptyData=function(a){return this.each(function(){void 0==this.dgrid?console.log("grid not init!"):this.dgrid._clearData()})};a.fn.flexOptions=
function(c){return this.each(function(){this.dgrid&&a.extend(this.dgrid.p,c)})};a.fn.flexToggleCol=function(a,b){return this.each(function(){if(void 0==this.dgrid)console.log("grid not init!");else{var d=this.dgrid.getColIndexById(a);this.dgrid.setColumnHidden(d,b)}})};a.fn.flexAddData=function(a){return this.each(function(){void 0==this.dgrid?console.log("grid not init!"):this.dgrid._loadData(a)})};a.fn.flexAddRow=function(c){if(0==a(this).length)return console.log("error flexAddRow selection"),
-1;var b=a(this)[0];return void 0==b.dgrid?(console.log("grid not init!"),-2):b.dgrid._appendRow(c)};a.fn.flexUpdateRow=function(c,b){if(0==a(this).length)return console.log("error flexUpdateRow selection"),-1;var d=a(this)[0];if(void 0==d.dgrid)return console.log("grid not init!"),-2;d.dgrid._updateRow(c,b)};a.fn.flexRemoveRow=function(c){if(0==a(this).length)return console.log("error flexAddRow selection"),-1;var b=a(this)[0];if(void 0==b.dgrid)return console.log("grid not init!"),-2;b.dgrid.deleteRow(c)};
a.fn.noSelect=function(c){if(0==a(this).length)return console.log("error flexAddRow selection"),-1;c=a(this)[0];if(void 0==c.dgrid)return console.log("grid not init!"),-2;c.dgrid.clearSelection()};a.fn.selectedRows=function(c){if(0==a(this).length)return console.log("error flexAddRow selection"),-1;var b=a(this)[0];if(void 0==b.dgrid)return console.log("grid not init!"),-2;c=b.dgrid.getSelectedRowId();var d=[];if(null==c)return[];a.each(c.split(","),function(){var a=b.dgrid.getRowIndex(this);0<=a&&
a<b.dgrid.rowsBuffer.length?d[d.length]=b.dgrid.rowsBuffer[a]._attrs:console.log("[DGRID:Error] grid out of bounds")});return d};a.fn.selectedRowIds=function(c){if(0==a(this).length)return console.log("error selectedRowIds selection"),-1;c=a(this)[0];if(void 0==c.dgrid)return console.log("grid not init!"),-2;c=c.dgrid.getSelectedRowId();return null!=c?c.split(","):[]};a.fn.selectRowId=function(c){if(0==a(this).length)return console.log("error selectRowId selection"),-1;var b=a(this)[0];if(void 0==
b.dgrid)return console.log("grid not init!"),-2;void 0==c?b.dgrid.clearSelection():b.dgrid.selectRow(this.getRowIndex(c))};a.fn.selectFilterRow=function(c,b){if(0==a(this).length)return console.log("error selectFilterData selection"),-1;var d=a(this)[0];if(void 0==d.dgrid)return console.log("grid not init!"),-2;void 0==b&&(b=1);var g=[];a.each(d.dgrid.rowsBuffer,function(b,d){var h=!1;arRow={};a.each(c,function(){h="undefined"!=typeof d._attrs[this.col]&&d._attrs[this.col]==this.filter?!0:!1;return!1!=
h});h&&(g[g.length]=d)});for(var h=0;h<b;h++)d.dgrid.selectRow(g[h])};a.fn.selectedRowCount=function(){if(0==a(this).length)return console.log("error selectedRowCount selection"),-1;var c=a(this)[0];if(void 0==c.dgrid)return console.log("grid not init!"),-2;c=c.dgrid.getSelectedRowId();return null!=c?c.split(",").length:0};a.fn.flexGetData=function(c){if(0==a(this).length)return console.log("error flexGetData selection"),[];c=a(this)[0];if(void 0==c.dgrid)return console.log("grid not init!"),[];for(var b=
[],d=0;d<c.dgrid.rowsBuffer.length;d++)b[b.length]=c.dgrid.rowsBuffer[d]._attrs;return b};a.fn.flexRowCount=function(c){if(0==a(this).length)return console.log("error flexRowCount selection"),0;c=a(this)[0];return void 0==c.dgrid?(console.log("grid not init!"),0):c.dgrid.getRowsNum()};a.fn.flexGetRow=function(c){if(0==a(this).length)return console.log("error flexGetRow selection"),null;var b=a(this)[0];return void 0==b.dgrid?(console.log("grid not init!"),null):b.dgrid.rowsBuffer[b.dgrid.getRowIndex(c)]._attrs};
a.fn.selectFilterData=function(c){if(0==a(this).length)return console.log("error selectFilterData selection"),-1;var b=a(this)[0];if(void 0==b.dgrid)return console.log("grid not init!"),-2;var d=[];a.each(b.dgrid.rowsBuffer,function(b,h){var k=!1;arRow={};a.each(c,function(){k="undefined"!=typeof h._attrs[this.col]&&h._attrs[this.col]==this.filter?!0:!1;return!1!=k});k&&d.push(h._attrs)});return d};a.fn.resizeGrid=function(){if(0==a(this).length)return console.log("error flexAddRow selection"),-1;
var c=a(this)[0];if(void 0==c.dgrid)return console.log("grid not init!"),-2;c.dgrid.setSizes()};a.fn.flexExcelDown=function(c,b){return this.each(function(){if(void 0==this.dgrid)console.log("grid not init!");else{var d=this.dgrid.p,g=[{name:"pageIndex",value:d.pageIndex},{name:"pageUnit",value:9999},{name:"recordCountPerPage",value:9999}];if(d.params.length)for(var h=0;h<d.params.length;h++)g[g.length]=d.params[h];var k=[];a.each(this.dgrid.p.colModel,function(){k[k.length]={title:this.display,abbr:this.name}});
null==b&&(b="\uc870\ud68c\uacb0\uacfc.xls");g[g.length]={name:"header",value:JSON.stringify(k)};g[g.length]={name:"fileName",value:b};a.fileDownload(EMD.context_root+c,{data:g,httpMethod:"POST"})}})};a.fn.flexiXlsDown=function(c,b){return this.each(function(){if(void 0==this.dgrid)console.log("grid not init!");else{var d=[],g=[];a.each(this.dgrid.p.colModel,function(){void 0!=this.xlsOption&&(void 0!=this.skipxls&&this.skipxls||(g[g.length]={title:this.display,align:this.align,format:this.displayFormat,
width:this.width,abbr:this.name,option:this.xlsOption}));void 0!=this.skipxls&&this.skipxls||(g[g.length]={title:this.display,align:this.align,format:this.displayFormat,width:this.width,abbr:this.name})});for(var h=[],k=0;k<this.dgrid.rowsBuffer.length;k++)h[h.length]=this.dgrid.rowsBuffer[k]._attrs;null==c&&(c="gis.xls");null==b&&(b="GIS\uae30\ubc18 \uc790\uc0b0\uad00\ub9ac \uc2dc\uc2a4\ud15c");d[d.length]={name:"header",value:JSON.stringify(g)};d[d.length]={name:"data",value:JSON.stringify(h)};
d[d.length]={name:"fileName",value:c};d[d.length]={name:"title",value:b};a.fileDownload(EMD.context_root+"/cmmn/excel/downloadGridToExcel.do",{data:d,httpMethod:"POST"})}})}})(jQuery);!function(a){var c=function(a,d){var g=/[^\w\-\.:]/.test(a)?new Function(c.arg+",tmpl","var _e=tmpl.encode"+c.helper+",_s='"+a.replace(c.regexp,c.func)+"';return _s;"):c.cache[a]=c.cache[a]||c(c.load(a));return d?g(d,c):function(a){return g(a,c)}};c.cache={};c.load=function(a){return document.getElementById(a).innerHTML};c.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g;c.func=function(a,c,g,h,k,l){return c?{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[c]||"\\"+c:g?
"="===g?"'+_e("+h+")+'":"'+("+h+"==null?'':"+h+")+'":k?"';":l?"_s+='":void 0};c.encReg=/[<>&"'\x00]/g;c.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"};c.encode=function(a){return(null==a?"":""+a).replace(c.encReg,function(a){return c.encMap[a]||""})};c.arg="o";c.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}";"function"==typeof define&&define.amd?define(function(){return c}):a.tmpl=c}(this);!function(a){var c=function(a,b,h){var k,l,n=document.createElement("img");if(n.onerror=b,n.onload=function(){!l||h&&h.noRevoke||c.revokeObjectURL(l);b&&b(c.scale(n,h))},c.isInstanceOf("Blob",a)||c.isInstanceOf("File",a))k=l=c.createObjectURL(a),n._type=a.type;else{if("string"!=typeof a)return!1;k=a;h&&h.crossOrigin&&(n.crossOrigin=h.crossOrigin)}return k?(n.src=k,n):c.readFile(a,function(a){var c=a.target;c&&c.result?n.src=c.result:b&&b(a)})},b=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&
URL||window.webkitURL&&webkitURL;c.isInstanceOf=function(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"};c.transformCoordinates=function(){};c.getTransformedOptions=function(a){return a};c.renderImageToCanvas=function(a,b,c,k,l,n,s,p,m,q){return a.getContext("2d").drawImage(b,c,k,l,n,s,p,m,q),a};c.hasCanvasOption=function(a){return a.canvas||a.crop};c.scale=function(a,b){b=b||{};var h,k,l,n,s,p,m,q,r,t=document.createElement("canvas"),u=a.getContext||c.hasCanvasOption(b)&&t.getContext,
y=a.naturalWidth||a.width,w=a.naturalHeight||a.height,z=y,v=w,A=function(){var a=Math.max((l||z)/z,(n||v)/v);1<a&&(z=Math.ceil(z*a),v=Math.ceil(v*a))},B=function(){var a=Math.min((h||z)/z,(k||v)/v);1>a&&(z=Math.ceil(z*a),v=Math.ceil(v*a))};return u&&(b=c.getTransformedOptions(b),m=b.left||0,q=b.top||0,b.sourceWidth?(s=b.sourceWidth,void 0!==b.right&&void 0===b.left&&(m=y-s-b.right)):s=y-m-(b.right||0),b.sourceHeight?(p=b.sourceHeight,void 0!==b.bottom&&void 0===b.top&&(q=w-p-b.bottom)):p=w-q-(b.bottom||
0),z=s,v=p),h=b.maxWidth,k=b.maxHeight,l=b.minWidth,n=b.minHeight,u&&h&&k&&b.crop?(z=h,v=k,r=s/p-h/k,0>r?(p=k*s/h,void 0===b.top&&void 0===b.bottom&&(q=(w-p)/2)):0<r&&(s=h*p/k,void 0===b.left&&void 0===b.right&&(m=(y-s)/2))):((b.contain||b.cover)&&(l=h=h||l,n=k=k||n),b.cover?(B(),A()):(A(),B())),u?(t.width=z,t.height=v,c.transformCoordinates(t,b),c.renderImageToCanvas(t,a,m,q,s,p,0,0,z,v)):(a.width=z,a.height=v,a)};c.createObjectURL=function(a){return b?b.createObjectURL(a):!1};c.revokeObjectURL=
function(a){return b?b.revokeObjectURL(a):!1};c.readFile=function(a,b,c){if(window.FileReader){var k=new FileReader;if(k.onload=k.onerror=b,c=c||"readAsDataURL",k[c])return k[c](a),k}return!1};"function"==typeof define&&define.amd?define(function(){return c}):a.loadImage=c}(this);
(function(a){"function"==typeof define&&define.amd?define(["load-image"],a):a(window.loadImage)})(function(a){if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var c=a.renderImageToCanvas;a.detectSubsampling=function(a){var c,g;return 1048576<a.width*a.height?(c=document.createElement("canvas"),c.width=c.height=1,g=c.getContext("2d"),g.drawImage(a,-a.width+1,0),0===g.getImageData(0,0,1,1).data[3]):!1};a.detectVerticalSquash=function(a,c){var g,h,k,l,
n,s=a.naturalHeight||a.height;g=document.createElement("canvas");h=g.getContext("2d");c&&(s/=2);g.width=1;g.height=s;h.drawImage(a,0,0);g=h.getImageData(0,0,1,s).data;h=0;for(l=k=s;l>h;)n=g[4*(l-1)+3],0===n?k=l:h=l,l=k+h>>1;return l/s||1};a.renderImageToCanvas=function(b,d,g,h,k,l,n,s,p,m){if("image/jpeg"===d._type){var q,r,t=b.getContext("2d"),u=document.createElement("canvas"),y=u.getContext("2d");if(u.width=1024,u.height=1024,t.save(),q=a.detectSubsampling(d),q&&(g/=2,h/=2,k/=2,l/=2),r=a.detectVerticalSquash(d,
q),q||1!==r){h*=r;p=Math.ceil(1024*p/k);m=Math.ceil(1024*m/l/r);for(r=s=0;l>r;){for(q=n=0;k>q;)y.clearRect(0,0,1024,1024),y.drawImage(d,g,h,k,l,-q,-r,k,l),t.drawImage(u,0,0,1024,1024,n,s,p,m),q+=1024,n+=p;r+=1024;s+=m}return t.restore(),b}}return c(b,d,g,h,k,l,n,s,p,m)}}});
(function(a){"function"==typeof define&&define.amd?define(["load-image"],a):a(window.loadImage)})(function(a){var c=a.hasCanvasOption;a.hasCanvasOption=function(a){return c(a)||a.orientation};a.transformCoordinates=function(a,c){var g=a.getContext("2d"),h=a.width,k=a.height,l=c.orientation;if(l)switch(4<l&&(a.width=k,a.height=h),l){case 2:g.translate(h,0);g.scale(-1,1);break;case 3:g.translate(h,k);g.rotate(Math.PI);break;case 4:g.translate(0,k);g.scale(1,-1);break;case 5:g.rotate(0.5*Math.PI);g.scale(1,
-1);break;case 6:g.rotate(0.5*Math.PI);g.translate(0,-k);break;case 7:g.rotate(0.5*Math.PI);g.translate(h,-k);g.scale(-1,1);break;case 8:g.rotate(-0.5*Math.PI),g.translate(-h,0)}};a.getTransformedOptions=function(a){if(!a.orientation||1===a.orientation)return a;var c,g={};for(c in a)a.hasOwnProperty(c)&&(g[c]=a[c]);switch(a.orientation){case 2:g.left=a.right;g.right=a.left;break;case 3:g.left=a.right;g.top=a.bottom;g.right=a.left;g.bottom=a.top;break;case 4:g.top=a.bottom;g.bottom=a.top;break;case 5:g.left=
a.top;g.top=a.left;g.right=a.bottom;g.bottom=a.right;break;case 6:g.left=a.top;g.top=a.right;g.right=a.bottom;g.bottom=a.left;break;case 7:g.left=a.bottom;g.top=a.right;g.right=a.top;g.bottom=a.left;break;case 8:g.left=a.bottom,g.top=a.left,g.right=a.top,g.bottom=a.right}return 4<a.orientation&&(g.maxWidth=a.maxHeight,g.maxHeight=a.maxWidth,g.minWidth=a.minHeight,g.minHeight=a.minWidth,g.sourceWidth=a.sourceHeight,g.sourceHeight=a.sourceWidth),g}});
(function(a){"function"==typeof define&&define.amd?define(["load-image"],a):a(window.loadImage)})(function(a){a.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice)&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)};a.metaDataParsers={jpeg:{65505:[]}};a.parseMetaData=function(c,b,d){d=d||{};var g=this,h=d.maxMetaDataSize||262144,k={};window.DataView&&c&&12<=c.size&&"image/jpeg"===c.type&&a.blobSlice&&a.readFile(a.blobSlice.call(c,
0,h),function(c){if(c.target.error)return console.log(c.target.error),b(k),void 0;var h,s,p,m;c=c.target.result;var q=new DataView(c),r=2,t=q.byteLength-4;p=r;if(65496===q.getUint16(0)){for(;t>r&&(h=q.getUint16(r),65504<=h&&65519>=h||65534===h);){if(s=q.getUint16(r+2)+2,r+s>q.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(p=a.metaDataParsers.jpeg[h])for(m=0;m<p.length;m+=1)p[m].call(g,q,r,s,k,d);p=r+=s}!d.disableImageHead&&6<p&&(k.imageHead=c.slice?c.slice(0,p):(new Uint8Array(c)).subarray(0,
p))}else console.log("Invalid JPEG file: Missing JPEG marker.");b(k)},"readAsArrayBuffer")||b(k)}});
(function(a){"function"==typeof define&&define.amd?define(["load-image","load-image-meta"],a):a(window.loadImage)})(function(a){a.ExifMap=function(){return this};a.ExifMap.prototype.map={Orientation:274};a.ExifMap.prototype.get=function(a){return this[a]||this[this.map[a]]};a.getExifThumbnail=function(a,b,d){var g,h,k;if(!d||b+d>a.byteLength)return console.log("Invalid Exif data: Invalid thumbnail data."),void 0;g=[];for(h=0;d>h;h+=1)k=a.getUint8(b+h),g.push((16>k?"0":"")+k.toString(16));return"data:image/jpeg,%"+
g.join("%")};a.exifTagTypes={1:{getValue:function(a,b){return a.getUint8(b)},size:1},2:{getValue:function(a,b){return String.fromCharCode(a.getUint8(b))},size:1,ascii:!0},3:{getValue:function(a,b,d){return a.getUint16(b,d)},size:2},4:{getValue:function(a,b,d){return a.getUint32(b,d)},size:4},5:{getValue:function(a,b,d){return a.getUint32(b,d)/a.getUint32(b+4,d)},size:8},9:{getValue:function(a,b,d){return a.getInt32(b,d)},size:4},10:{getValue:function(a,b,d){return a.getInt32(b,d)/a.getInt32(b+4,d)},
size:8}};a.exifTagTypes[7]=a.exifTagTypes[1];a.getExifValue=function(c,b,d,g,h,k){var l,n,s;g=a.exifTagTypes[g];if(!g)return console.log("Invalid Exif data: Invalid tag type."),void 0;if(l=g.size*h,n=4<l?b+c.getUint32(d+8,k):d+8,n+l>c.byteLength)return console.log("Invalid Exif data: Invalid data offset."),void 0;if(1===h)return g.getValue(c,n,k);b=[];for(d=0;h>d;d+=1)b[d]=g.getValue(c,n+d*g.size,k);if(g.ascii){c="";for(d=0;d<b.length&&(s=b[d],"\x00"!==s);d+=1)c+=s;return c}return b};a.parseExifTag=
function(c,b,d,g,h){var k=c.getUint16(d,g);h.exif[k]=a.getExifValue(c,b,d,c.getUint16(d+2,g),c.getUint32(d+4,g),g)};a.parseExifTags=function(a,b,d,g,h){var k,l,n;if(d+6>a.byteLength)return console.log("Invalid Exif data: Invalid directory offset."),void 0;if(k=a.getUint16(d,g),l=d+2+12*k,l+4>a.byteLength)return console.log("Invalid Exif data: Invalid directory size."),void 0;for(n=0;k>n;n+=1)this.parseExifTag(a,b,d+2+12*n,g,h);return a.getUint32(l,g)};a.parseExifData=function(c,b,d,g,h){if(!h.disableExif){var k,
l;d=b+10;if(1165519206===c.getUint32(b+4)){if(d+8>c.byteLength)return console.log("Invalid Exif data: Invalid segment size."),void 0;if(0!==c.getUint16(b+8))return console.log("Invalid Exif data: Missing byte alignment offset."),void 0;switch(c.getUint16(d)){case 18761:b=!0;break;case 19789:b=!1;break;default:return console.log("Invalid Exif data: Invalid byte alignment marker."),void 0}if(42!==c.getUint16(d+2,b))return console.log("Invalid Exif data: Missing TIFF marker."),void 0;k=c.getUint32(d+
4,b);g.exif=new a.ExifMap;(k=a.parseExifTags(c,d,d+k,b,g))&&!h.disableExifThumbnail&&(l={exif:{}},a.parseExifTags(c,d,d+k,b,l),l.exif[513]&&(g.exif.Thumbnail=a.getExifThumbnail(c,d+l.exif[513],l.exif[514])));g.exif[34665]&&!h.disableExifSub&&a.parseExifTags(c,d,d+g.exif[34665],b,g);g.exif[34853]&&!h.disableExifGps&&a.parseExifTags(c,d,d+g.exif[34853],b,g)}}};a.metaDataParsers.jpeg[65505].push(a.parseExifData)});
(function(a){"function"==typeof define&&define.amd?define(["load-image","load-image-exif"],a):a(window.loadImage)})(function(a){a.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",
273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",
37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",
37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",
41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",
4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",
30:"GPSDifferential",31:"GPSHPositioningError"};a.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",
10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",
15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",
77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",
5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},
Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}};a.ExifMap.prototype.getText=function(a){var b=this.get(a);switch(a){case "LightSource":case "Flash":case "MeteringMode":case "ExposureProgram":case "SensingMethod":case "SceneCaptureType":case "SceneType":case "CustomRendered":case "WhiteBalance":case "GainControl":case "Contrast":case "Saturation":case "Sharpness":case "SubjectDistanceRange":case "FileSource":case "Orientation":return this.stringValues[a][b];
case "ExifVersion":case "FlashpixVersion":return String.fromCharCode(b[0],b[1],b[2],b[3]);case "ComponentsConfiguration":return this.stringValues[a][b[0]]+this.stringValues[a][b[1]]+this.stringValues[a][b[2]]+this.stringValues[a][b[3]];case "GPSVersionID":return b[0]+"."+b[1]+"."+b[2]+"."+b[3]}return String(b)};(function(a){var b,d=a.tags;a=a.map;for(b in d)d.hasOwnProperty(b)&&(a[d[b]]=b)})(a.ExifMap.prototype);a.ExifMap.prototype.getAll=function(){var a,b,d={};for(a in this)this.hasOwnProperty(a)&&
(b=this.tags[a],b&&(d[b]=this.getText(b)));return d}});!function(a){var c=a.HTMLCanvasElement&&a.HTMLCanvasElement.prototype,b;if(b=a.Blob)try{b=Boolean(new Blob)}catch(d){b=!1}var g=b;if(b=g)if(b=a.Uint8Array)try{b=100===(new Blob([new Uint8Array(100)])).size}catch(h){b=!1}var k=b,l=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder,n=(g||l)&&a.atob&&a.ArrayBuffer&&a.Uint8Array&&function(a){var b,c,d,h,n,u;b=0<=a.split(",")[0].indexOf("base64")?atob(a.split(",")[1]):decodeURIComponent(a.split(",")[1]);c=new ArrayBuffer(b.length);d=
new Uint8Array(c);for(h=0;h<b.length;h+=1)d[h]=b.charCodeAt(h);return n=a.split(",")[0].split(":")[1].split(";")[0],g?new Blob([k?d:c],{type:n}):(u=new l,u.append(c),u.getBlob(n))};a.HTMLCanvasElement&&!c.toBlob&&(c.mozGetAsFile?c.toBlob=function(a,b,d){d&&c.toDataURL&&n?a(n(this.toDataURL(b,d))):a(this.mozGetAsFile("blob",b))}:c.toDataURL&&n&&(c.toBlob=function(a,b,c){a(n(this.toDataURL(b,c)))}));"function"==typeof define&&define.amd?define(function(){return n}):a.dataURLtoBlob=n}(this);!function(a){"function"==typeof define&&define.amd?define(["./blueimp-helper"],a):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=a(window.blueimp.helper||window.jQuery))}(function(a){function c(a,d){return void 0===document.body.style.maxHeight?null:this&&this.options===c.prototype.options?a&&a.length?(this.list=a,this.num=a.length,this.initOptions(d),void this.initialize()):void this.console.log("blueimp Gallery: No or empty list provided as first argument.",a):new c(a,d)}return a.extend(c.prototype,
{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",
playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5E3,index:0,preloadRange:2,transitionSpeed:400,
slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},console:window.console&&"function"==typeof window.console.log?window.console:{log:function(){}},support:function(b){var c=
{touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},g=function(){var a,g,l=c.transition;document.body.appendChild(b);l&&(a=l.name.slice(0,-9)+"ransform",void 0!==b.style[a]&&(b.style[a]="translateZ(0)",g=window.getComputedStyle(b).getPropertyValue(l.prefix+"transform"),c.transform={prefix:l.prefix,name:a,translate:!0,translateZ:!!g&&"none"!==g}));void 0!==b.style.backgroundSize&&(c.backgroundSize={},b.style.backgroundSize="contain",c.backgroundSize.contain=
"contain"===window.getComputedStyle(b).getPropertyValue("background-size"),b.style.backgroundSize="cover",c.backgroundSize.cover="cover"===window.getComputedStyle(b).getPropertyValue("background-size"));document.body.removeChild(b)};return function(a,c){for(var d in c)if(c.hasOwnProperty(d)&&void 0!==b.style[d]){a.transition=c[d];a.transition.name=d;break}}(c,{webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",
prefix:"-o-"},transition:{end:"transitionend",prefix:""}}),document.body?g():a(document).on("DOMContentLoaded",g),c}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){return this.initStartIndex(),!1===this.initWidget()?!1:(this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),void(this.options.startSlideshow&&this.play()))},slide:function(a,c){window.clearTimeout(this.timeout);
var g,h,k=this.index;if(k!==a&&1!==this.num){if(c||(c=this.options.transitionSpeed),this.support.transition){this.options.continuous||(a=this.circle(a));g=Math.abs(k-a)/(k-a);this.options.continuous&&(h=g,g=-this.positions[this.circle(a)]/this.slideWidth,g!==h&&(a=-g*this.num+a));for(h=Math.abs(k-a)-1;h;)h-=1,this.move(this.circle((a>k?a:k)-h-1),this.slideWidth*g,0);a=this.circle(a);this.move(k,this.slideWidth*g,c);this.move(a,0,c);this.options.continuous&&this.move(this.circle(a-g),-(this.slideWidth*
g),0)}else a=this.circle(a),this.animate(k*-this.slideWidth,a*-this.slideWidth,c);this.onslide(a)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(a){var c=this;window.clearTimeout(this.timeout);this.interval=a||this.options.slideshowInterval;1<this.elements[this.index]&&(this.timeout=
this.setTimeout(!this.requestAnimationFrame&&this.slide||function(a,b){c.animationFrameId=c.requestAnimationFrame.call(window,function(){c.slide(a,b)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval));this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout);this.interval=null;this.container.removeClass(this.options.playingClass)},add:function(a){a.concat||(a=Array.prototype.slice.call(a));this.list.concat||(this.list=Array.prototype.slice.call(this.list));
this.list=this.list.concat(a);this.num=this.list.length;2<this.num&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass));this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass);for(a=this.num-a.length;a<this.num;a+=1)this.addSlide(a),this.positionSlide(a);this.positions.length=this.num;this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty();this.slides=[]},handleClose:function(){var a=
this.options;this.destroyEventListeners();this.pause();this.container[0].style.display="none";this.container.removeClass(a.displayClass).removeClass(a.singleClass).removeClass(a.leftEdgeClass).removeClass(a.rightEdgeClass);a.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle);this.options.clearSlides&&this.resetSlides();this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var a=this,c=function(g){g.target===a.container[0]&&(a.container.off(a.support.transition.end,
c),a.handleClose())};this.options.onclose&&this.options.onclose.call(this);this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,c),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(a){return(this.num+a%this.num)%this.num},move:function(a,c,g){this.translateX(a,c,g);this.positions[a]=c},translate:function(a,c,g,h){a=this.slides[a].style;var k=this.support.transform;a[this.support.transition.name+"Duration"]=
h+"ms";a[k.name]="translate("+c+"px, "+g+"px)"+(k.translateZ?" translateZ(0)":"")},translateX:function(a,c,g){this.translate(a,c,0,g)},translateY:function(a,c,g){this.translate(a,0,c,g)},animate:function(a,c,g){if(!g)return void(this.slidesContainer[0].style.left=c+"px");var h=this,k=(new Date).getTime(),l=window.setInterval(function(){var n=(new Date).getTime()-k;return n>g?(h.slidesContainer[0].style.left=c+"px",h.ontransitionend(),void window.clearInterval(l)):void(h.slidesContainer[0].style.left=
Math.floor(n/g*100)/100*(c-a)+a+"px")},4)},preventDefault:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},onresize:function(){this.initSlides(!0)},onmousedown:function(a){a.which&&1===a.which&&"VIDEO"!==a.target.nodeName&&(a.preventDefault(),(a.originalEvent||a).touches=[{pageX:a.pageX,pageY:a.pageY}],this.ontouchstart(a))},onmousemove:function(a){this.touchStart&&((a.originalEvent||a).touches=[{pageX:a.pageX,
pageY:a.pageY}],this.ontouchmove(a))},onmouseup:function(a){this.touchStart&&(this.ontouchend(a),delete this.touchStart)},onmouseout:function(b){if(this.touchStart){var c=b.target,g=b.relatedTarget;g&&(g===c||a.contains(c,g))||this.onmouseup(b)}},ontouchstart:function(a){this.options.stopTouchEventsPropagation&&this.stopPropagation(a);a=(a.originalEvent||a).touches[0];this.touchStart={x:a.pageX,y:a.pageY,time:Date.now()};this.isScrolling=void 0;this.touchDelta={}},ontouchmove:function(a){this.options.stopTouchEventsPropagation&&
this.stopPropagation(a);var c,g,h=(a.originalEvent||a).touches[0],k=(a.originalEvent||a).scale,l=this.index;if(!(1<h.length||k&&1!==k))if(this.options.disableScroll&&a.preventDefault(),this.touchDelta={x:h.pageX-this.touchStart.x,y:h.pageY-this.touchStart.y},c=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(c)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.closeOnSwipeUpOrDown&&this.translateY(l,this.touchDelta.y+this.positions[l],0);else for(a.preventDefault(),
window.clearTimeout(this.timeout),this.options.continuous?g=[this.circle(l+1),l,this.circle(l-1)]:(this.touchDelta.x=c/=!l&&0<c||l===this.num-1&&0>c?Math.abs(c)/this.slideWidth+1:1,g=[l],l&&g.push(l-1),l<this.num-1&&g.unshift(l+1));g.length;)l=g.pop(),this.translateX(l,c+this.positions[l],0)},ontouchend:function(a){this.options.stopTouchEventsPropagation&&this.stopPropagation(a);var c,g,h,k,l;a=this.index;var n=this.options.transitionSpeed,s=this.slideWidth,p=(c=250>Number(Date.now()-this.touchStart.time))&&
20<Math.abs(this.touchDelta.x)||Math.abs(this.touchDelta.x)>s/2,m=!a&&0<this.touchDelta.x||a===this.num-1&&0>this.touchDelta.x,q=!p&&this.options.closeOnSwipeUpOrDown&&(c&&20<Math.abs(this.touchDelta.y)||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(m=!1);c=0>this.touchDelta.x?-1:1;this.isScrolling?q?this.close():this.translateY(a,0,n):p&&!m?(g=a+c,h=a-c,k=s*c,l=-s*c,this.options.continuous?(this.move(this.circle(g),k,0),this.move(this.circle(a-2*c),l,0)):0<=g&&g<this.num&&
this.move(g,k,0),this.move(a,this.positions[a]+k,n),this.move(this.circle(h),this.positions[this.circle(h)]+k,n),a=this.circle(h),this.onslide(a)):this.options.continuous?(this.move(this.circle(a-1),-s,n),this.move(a,0,n),this.move(this.circle(a+1),s,n)):(a&&this.move(a-1,-s,n),this.move(a,0,n),a<this.num-1&&this.move(a+1,s,n))},ontouchcancel:function(a){this.touchStart&&(this.ontouchend(a),delete this.touchStart)},ontransitionend:function(a){var c=this.slides[this.index];a&&c!==a.target||(this.interval&&
this.play(),this.setTimeout(this.options.onslideend,[this.index,c]))},oncomplete:function(b){var c,g=b.target||b.srcElement,h=g&&g.parentNode;g&&h&&(c=this.getNodeIndex(h),a(h).removeClass(this.options.slideLoadingClass),"error"===b.type?(a(h).addClass(this.options.slideErrorClass),this.elements[c]=3):this.elements[c]=2,g.clientHeight>this.container[0].clientHeight&&(g.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===h&&this.play(),this.setTimeout(this.options.onslidecomplete,
[c,h]))},onload:function(a){this.oncomplete(a)},onerror:function(a){this.oncomplete(a)},onkeydown:function(a){switch(a.which||a.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(a),this.toggleControls());break;case 27:this.options.closeOnEscape&&this.close();break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(a),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(a),this.prev());break;case 39:this.options.enableKeyboardNavigation&&
(this.preventDefault(a),this.next())}},handleClick:function(b){var c=this.options,g=b.target||b.srcElement,h=g.parentNode,k=function(b){return a(g).hasClass(b)||a(h).hasClass(b)};k(c.toggleClass)?(this.preventDefault(b),this.toggleControls()):k(c.prevClass)?(this.preventDefault(b),this.prev()):k(c.nextClass)?(this.preventDefault(b),this.next()):k(c.closeClass)?(this.preventDefault(b),this.close()):k(c.playPauseClass)?(this.preventDefault(b),this.toggleSlideshow()):h===this.slidesContainer[0]?(this.preventDefault(b),
c.closeOnSlideClick?this.close():this.toggleControls()):h.parentNode&&h.parentNode===this.slidesContainer[0]&&(this.preventDefault(b),this.toggleControls())},onclick:function(a){return this.options.emulateTouchEvents&&this.touchDelta&&(20<Math.abs(this.touchDelta.x)||20<Math.abs(this.touchDelta.y))?void delete this.touchDelta:this.handleClick(a)},updateEdgeClasses:function(a){a?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass);a===this.num-
1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(a){this.options.continuous||this.updateEdgeClasses(a);this.loadElements(a);this.options.unloadElements&&this.unloadElements(a);this.setTitle(a)},onslide:function(a){this.index=a;this.handleSlide(a);this.setTimeout(this.options.onslide,[a,this.slides[a]])},setTitle:function(a){a=this.slides[a].firstChild.title;var c=this.titleElement;c.length&&(this.titleElement.empty(),
a&&c[0].appendChild(document.createTextNode(a)))},setTimeout:function(a,c,g){var h=this;return a&&window.setTimeout(function(){a.apply(h,c||[])},g||0)},imageFactory:function(b,c){var g,h,k,l=this,n=this.imagePrototype.cloneNode(!1),s=b,p=this.options.stretchImages,m=function(b){if(!g){if(b={type:b.type,target:h},!h.parentNode)return l.setTimeout(m,[b]);g=!0;a(n).off("load error",m);p&&"load"===b.type&&(h.style.background='url("'+s+'") center no-repeat',h.style.backgroundSize=p);c(b)}};return"string"!=
typeof s&&(s=this.getItemProperty(b,this.options.urlProperty),k=this.getItemProperty(b,this.options.titleProperty)),!0===p&&(p="contain"),p=this.support.backgroundSize&&this.support.backgroundSize[p]&&p,p?h=this.elementPrototype.cloneNode(!1):(h=n,n.draggable=!1),k&&(h.title=k),a(n).on("load error",m),n.src=s,h},createElement:function(b,c){var g=b&&this.getItemProperty(b,this.options.typeProperty),g=g&&this[g.split("/")[0]+"Factory"]||this.imageFactory,g=b&&g.call(this,b,c);return g||(g=this.elementPrototype.cloneNode(!1),
this.setTimeout(c,[{type:"error",target:g}])),a(g).addClass(this.options.slideContentClass),g},loadElement:function(b){this.elements[b]||(this.slides[b].firstChild?this.elements[b]=a(this.slides[b]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[b]=1,a(this.slides[b]).addClass(this.options.slideLoadingClass),this.slides[b].appendChild(this.createElement(this.list[b],this.proxyListener))))},loadElements:function(a){var c=Math.min(this.num,2*this.options.preloadRange+1),g=a;for(a=0;c>a;a+=
1)g+=a*(0===a%2?-1:1),g=this.circle(g),this.loadElement(g)},unloadElements:function(a){var c,g,h;for(c in this.elements)this.elements.hasOwnProperty(c)&&(h=Math.abs(a-c),h>this.options.preloadRange&&h+this.options.preloadRange<this.num&&(g=this.slides[c],g.removeChild(g.firstChild),delete this.elements[c]))},addSlide:function(a){var c=this.slidePrototype.cloneNode(!1);c.setAttribute("data-index",a);this.slidesContainer[0].appendChild(c);this.slides.push(c)},positionSlide:function(a){var c=this.slides[a];
c.style.width=this.slideWidth+"px";this.support.transition&&(c.style.left=a*-this.slideWidth+"px",this.move(a,this.index>a?-this.slideWidth:this.index<a?this.slideWidth:0,0))},initSlides:function(b){var c;b||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),a(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,
c=this.options.clearSlides||this.slides.length!==this.num);this.slideWidth=this.container[0].offsetWidth;this.slideHeight=this.container[0].offsetHeight;this.slidesContainer[0].style.width=this.num*this.slideWidth+"px";c&&this.resetSlides();for(b=0;b<this.num;b+=1)c&&this.addSlide(b),this.positionSlide(b);this.options.continuous&&this.support.transition&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0));this.support.transition||(this.slidesContainer[0].style.left=
this.index*-this.slideWidth+"px")},toggleControls:function(){var a=this.options.controlsClass;this.container.hasClass(a)?this.container.removeClass(a):this.container.addClass(a)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(a){return parseInt(a.getAttribute("data-index"),10)},getNestedProperty:function(a,c){return c.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(c,d,k,l,n){d=n||d||k||l&&parseInt(l,10);c&&a&&(a=a[d])}),a},getDataProperty:function(b,
c){if(b.getAttribute){var g=b.getAttribute("data-"+c.replace(/([A-Z])/g,"-$1").toLowerCase());if("string"==typeof g){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(g))try{return a.parseJSON(g)}catch(h){}return g}}},getItemProperty:function(a,c){var g=a[c];return void 0===g&&(g=this.getDataProperty(a,c),void 0===g&&(g=this.getNestedProperty(a,c))),g},initStartIndex:function(){var a,c=this.options.index,g=this.options.urlProperty;if(c&&"number"!=typeof c)for(a=0;a<this.num;a+=1)if(this.list[a]===
c||this.getItemProperty(this.list[a],g)===this.getItemProperty(c,g)){c=a;break}this.index=this.circle(parseInt(c,10)||0)},initEventListeners:function(){var b=this,c=this.slidesContainer,g=function(a){b["on"+(b.support.transition&&b.support.transition.end===a.type?"transitionend":a.type)](a)};a(window).on("resize",g);a(document.body).on("keydown",g);this.container.on("click",g);this.support.touch?c.on("touchstart touchmove touchend touchcancel",g):this.options.emulateTouchEvents&&this.support.transition&&
c.on("mousedown mousemove mouseup mouseout",g);this.support.transition&&c.on(this.support.transition.end,g);this.proxyListener=g},destroyEventListeners:function(){var b=this.slidesContainer,c=this.proxyListener;a(window).off("resize",c);a(document.body).off("keydown",c);this.container.off("click",c);this.support.touch?b.off("touchstart touchmove touchend touchcancel",c):this.options.emulateTouchEvents&&this.support.transition&&b.off("mousedown mousemove mouseup mouseout",c);this.support.transition&&
b.off(this.support.transition.end,c)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var b=this,c=function(a){a.target===b.container[0]&&(b.container.off(b.support.transition.end,c),b.handleOpen())};return this.container=a(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),
1===this.num&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,c):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):(this.console.log("blueimp Gallery: Slides container not found.",
this.options.slidesContainer),!1)):(this.console.log("blueimp Gallery: Widget container not found.",this.options.container),!1)},initOptions:function(b){this.options=a.extend({},this.options);(b&&b.carousel||this.options.carousel&&(!b||!1!==b.carousel))&&a.extend(this.options,this.carouselOptions);a.extend(this.options,b);3>this.num&&(this.options.continuous=this.options.continuous?null:!1);this.support.transition||(this.options.emulateTouchEvents=!1);this.options.event&&this.preventDefault(this.options.event)}}),
c});
(function(a){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(a,c){a.extend(c.prototype.options,{fullScreen:!1});var b=c.prototype.initialize,d=c.prototype.close;return a.extend(c.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullScreen:function(a){a.requestFullscreen?a.requestFullscreen():
a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.msRequestFullscreen&&a.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},initialize:function(){b.call(this);this.options.fullScreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},
close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen();d.call(this)}}),c});
(function(a){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(a,c){a.extend(c.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var b=c.prototype.initSlides,d=c.prototype.addSlide,g=c.prototype.resetSlides,h=c.prototype.handleClick,k=c.prototype.handleSlide,l=c.prototype.handleClose;return a.extend(c.prototype,
{createIndicator:function(b){var c,d,g=this.indicatorPrototype.cloneNode(!1),h=this.getItemProperty(b,this.options.titleProperty),k=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(d=b.getElementsByTagName&&a(b).find("img")[0],d?c=d.src:k&&(c=this.getItemProperty(b,k)),c&&(g.style.backgroundImage='url("'+c+'")')),h&&(g.title=h),g},addIndicator:function(a){if(this.indicatorContainer.length){var b=this.createIndicator(this.list[a]);b.setAttribute("data-index",a);this.indicatorContainer[0].appendChild(b);
this.indicators.push(b)}},setActiveIndicator:function(b){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=a(this.indicators[b]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(a){a||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children));
b.call(this,a)},addSlide:function(a){d.call(this,a);this.addIndicator(a)},resetSlides:function(){g.call(this);this.indicatorContainer.empty();this.indicators=[]},handleClick:function(a){var b=a.target||a.srcElement,c=b.parentNode;if(c===this.indicatorContainer[0])this.preventDefault(a),this.slide(this.getNodeIndex(b));else{if(c.parentNode!==this.indicatorContainer[0])return h.call(this,a);this.preventDefault(a);this.slide(this.getNodeIndex(c))}},handleSlide:function(a){k.call(this,a);this.setActiveIndicator(a)},
handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass);l.call(this)}}),c});
(function(a){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(a,c){a.extend(c.prototype.options,{videoContentClass:"video-content",videoLoadingClass:"video-loading",videoPlayingClass:"video-playing",videoPosterProperty:"poster",videoSourcesProperty:"sources"});var b=c.prototype.handleSlide;return a.extend(c.prototype,{handleSlide:function(a){b.call(this,a);this.playingVideo&&this.playingVideo.pause()},
videoFactory:function(b,c,h){var k,l,n,s,p,m=this,q=this.options,r=this.elementPrototype.cloneNode(!1),t=a(r),u=[{type:"error",target:r}],y=h||document.createElement("video"),w=this.getItemProperty(b,q.urlProperty),z=this.getItemProperty(b,q.typeProperty),v=this.getItemProperty(b,q.titleProperty),A=this.getItemProperty(b,q.videoPosterProperty);b=this.getItemProperty(b,q.videoSourcesProperty);if(t.addClass(q.videoContentClass),v&&(r.title=v),y.canPlayType)if(w&&z&&y.canPlayType(z))y.src=w;else for(;b&&
b.length;)if(l=b.shift(),w=this.getItemProperty(l,q.urlProperty),z=this.getItemProperty(l,q.typeProperty),w&&z&&y.canPlayType(z)){y.src=w;break}return A&&(y.poster=A,k=this.imagePrototype.cloneNode(!1),a(k).addClass(q.toggleClass),k.src=A,k.draggable=!1,r.appendChild(k)),n=document.createElement("a"),n.setAttribute("target","_blank"),h||n.setAttribute("download",v),n.href=w,y.src&&(y.controls=!0,(h||a(y)).on("error",function(){m.setTimeout(c,u)}).on("pause",function(){s=!1;t.removeClass(m.options.videoLoadingClass).removeClass(m.options.videoPlayingClass);
p&&m.container.addClass(m.options.controlsClass);delete m.playingVideo;m.interval&&m.play()}).on("playing",function(){s=!1;t.removeClass(m.options.videoLoadingClass).addClass(m.options.videoPlayingClass);m.container.hasClass(m.options.controlsClass)?(p=!0,m.container.removeClass(m.options.controlsClass)):p=!1}).on("play",function(){window.clearTimeout(m.timeout);s=!0;t.addClass(m.options.videoLoadingClass);m.playingVideo=y}),a(n).on("click",function(a){m.preventDefault(a);s?y.pause():y.play()}),r.appendChild(h&&
h.element||y)),r.appendChild(n),this.setTimeout(c,[{type:"load",target:r}]),r}}),c});
(function(a){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(a,c){if(!window.postMessage)return c;a.extend(c.prototype.options,{vimeoVideoIdProperty:"vimeo",vimeoPlayerUrl:"//player.vimeo.com/video/VIDEO_ID?api=1&player_id=PLAYER_ID",vimeoPlayerIdPrefix:"vimeo-player-",vimeoClickToPlay:!0});var b=c.prototype.textFactory||c.prototype.imageFactory,d=function(a,b,c,d){this.url=a;this.videoId=
b;this.playerId=c;this.clickToPlay=d;this.element=document.createElement("div");this.listeners={}},g=0;return a.extend(d.prototype,{canPlayType:function(){return!0},on:function(a,b){return this.listeners[a]=b,this},loadAPI:function(){for(var b,c,d=this,g="//"+("https"===location.protocol?"secure-":"")+"a.vimeocdn.com/js/froogaloop2.min.js",s=document.getElementsByTagName("script"),p=s.length,m=function(){!c&&d.playOnReady&&d.play();c=!0};p;)if(p-=1,s[p].src===g){b=s[p];break}b||(b=document.createElement("script"),
b.src=g);a(b).on("load",m);s[0].parentNode.insertBefore(b,s[0]);/loaded|complete/.test(b.readyState)&&m()},onReady:function(){var a=this;this.ready=!0;this.player.addEvent("play",function(){a.hasPlayed=!0;a.onPlaying()});this.player.addEvent("pause",function(){a.onPause()});this.player.addEvent("finish",function(){a.onPause()});this.playOnReady&&this.play()},onPlaying:function(){2>this.playStatus&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){this.listeners.pause();delete this.playStatus},
insertIframe:function(){var a=document.createElement("iframe");a.src=this.url.replace("VIDEO_ID",this.videoId).replace("PLAYER_ID",this.playerId);a.id=this.playerId;this.element.parentNode.replaceChild(a,this.element);this.element=a},play:function(){var a=this;this.playStatus||(this.listeners.play(),this.playStatus=1);this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.api("play"):(this.playOnReady=!0,window.$f?
this.player||(this.insertIframe(),this.player=$f(this.element),this.player.addEvent("ready",function(){a.onReady()})):this.loadAPI())},pause:function(){this.ready?this.player.api("pause"):this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),a.extend(c.prototype,{VimeoPlayer:d,textFactory:function(a,c){var l=this.getItemProperty(a,this.options.vimeoVideoIdProperty);return l?(g+=1,this.videoFactory(a,c,new d(this.options.vimeoPlayerUrl,l,this.options.vimeoPlayerIdPrefix+
g,this.options.vimeoClickToPlay))):b.call(this,a,c)}}),c});
(function(a){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)})(function(a,c){if(!window.postMessage)return c;a.extend(c.prototype.options,{youTubeVideoIdProperty:"youtube",youTubePlayerVars:{wmode:"transparent"},youTubeClickToPlay:!0});var b=c.prototype.textFactory||c.prototype.imageFactory,d=function(a,b,c){this.videoId=a;this.playerVars=b;this.clickToPlay=c;this.element=document.createElement("div");
this.listeners={}};return a.extend(d.prototype,{canPlayType:function(){return!0},on:function(a,b){return this.listeners[a]=b,this},loadAPI:function(){var a,b=this,c=window.onYouTubeIframeAPIReady,d=document.getElementsByTagName("script");a=d.length;for(window.onYouTubeIframeAPIReady=function(){c&&c.apply(this);b.playOnReady&&b.play()};a;)if(a-=1,"//www.youtube.com/iframe_api"===d[a].src)return;a=document.createElement("script");a.src="//www.youtube.com/iframe_api";d[0].parentNode.insertBefore(a,d[0])},
onReady:function(){this.ready=!0;this.playOnReady&&this.play()},onPlaying:function(){2>this.playStatus&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){c.prototype.setTimeout.call(this,this.checkSeek,null,2E3)},checkSeek:function(){this.stateChange!==YT.PlayerState.PAUSED&&this.stateChange!==YT.PlayerState.ENDED||(this.listeners.pause(),delete this.playStatus)},onStateChange:function(a){switch(a.data){case YT.PlayerState.PLAYING:this.hasPlayed=!0;this.onPlaying();break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:this.onPause()}this.stateChange=
a.data},onError:function(a){this.listeners.error(a)},play:function(){var a=this;this.playStatus||(this.listeners.play(),this.playStatus=1);this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.playVideo():(this.playOnReady=!0,window.YT&&YT.Player?this.player||(this.player=new YT.Player(this.element,{videoId:this.videoId,playerVars:this.playerVars,events:{onReady:function(){a.onReady()},onStateChange:function(b){a.onStateChange(b)},
onError:function(b){a.onError(b)}}})):this.loadAPI())},pause:function(){this.ready?this.player.pauseVideo():this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),a.extend(c.prototype,{YouTubePlayer:d,textFactory:function(a,c){var k=this.getItemProperty(a,this.options.youTubeVideoIdProperty);return k?this.videoFactory(a,c,new d(k,this.options.youTubePlayerVars,this.options.youTubeClickToPlay)):b.call(this,a,c)}}),c});
(function(a){"function"==typeof define&&define.amd?define(["jquery","./blueimp-gallery"],a):a(window.jQuery,window.blueimp.Gallery)})(function(a,c){a(document).on("click","[data-gallery]",function(b){var d=a(this).data("gallery"),g=a(d),h=g.length&&g||a(c.prototype.options.container);b=a.extend(h.data(),{container:h[0],index:this,event:b},{onopen:function(){h.data("gallery",this).trigger("open")},onopened:function(){h.trigger("opened")},onslide:function(){h.trigger("slide",arguments)},onslideend:function(){h.trigger("slideend",
arguments)},onslidecomplete:function(){h.trigger("slidecomplete",arguments)},onclose:function(){h.trigger("close")},onclosed:function(){h.trigger("closed").removeData("gallery")}});d=a('[data-gallery="'+d+'"]');return b.filter&&(d=d.filter(b.filter)),new c(d,b)})});(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(window.jQuery)})(function(a){var c=0;a.ajaxTransport("iframe",function(b){if(b.async){var d=b.initialIframeSrc||"javascript:false;",g,h,k;return{send:function(l,n){g=a('<form style="display:none;"></form>');g.attr("accept-charset",b.formAcceptCharset);k=/\?/.test(b.url)?"&":"?";"DELETE"===b.type?(b.url=b.url+k+"_method=DELETE",b.type="POST"):"PUT"===b.type?(b.url=b.url+k+"_method=PUT",b.type="POST"):"PATCH"===b.type&&(b.url=
b.url+k+"_method=PATCH",b.type="POST");c+=1;h=a('<iframe src="'+d+'" name="iframe-transport-'+c+'"></iframe>').bind("load",function(){var c,k=a.isArray(b.paramName)?b.paramName:[b.paramName];h.unbind("load").bind("load",function(){var b;try{if(b=h.contents(),!b.length||!b[0].firstChild)throw Error();}catch(c){b=void 0}n(200,"success",{iframe:b});a('<iframe src="'+d+'"></iframe>').appendTo(g);window.setTimeout(function(){g.remove()},0)});g.prop("target",h.prop("name")).prop("action",b.url).prop("method",
b.type);b.formData&&a.each(b.formData,function(b,c){a('<input type="hidden"/>').prop("name",c.name).val(c.value).appendTo(g)});b.fileInput&&b.fileInput.length&&"POST"===b.type&&(c=b.fileInput.clone(),b.fileInput.after(function(a){return c[a]}),b.paramName&&b.fileInput.each(function(c){a(this).prop("name",k[c]||b.paramName)}),g.append(b.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),b.fileInput.removeAttr("form"));g.submit();c&&c.length&&b.fileInput.each(function(b,
d){var g=a(c[b]);a(d).prop("name",g.prop("name")).attr("form",g.attr("form"));g.replaceWith(d)})});g.append(h).appendTo(document.body)},abort:function(){h&&h.unbind("load").prop("src",d);g&&g.remove()}}}});a.ajaxSetup({converters:{"iframe text":function(b){return b&&a(b[0].body).text()},"iframe json":function(b){return b&&a.parseJSON(a(b[0].body).text())},"iframe html":function(b){return b&&a(b[0].body).html()},"iframe xml":function(b){return(b=b&&b[0])&&a.isXMLDoc(b)?b:a.parseXML(b.XMLDocument&&
b.XMLDocument.xml||a(b.body).html())},"iframe script":function(b){return b&&a.globalEval(a(b[0].body).text())}}})});(function(a){"function"===typeof define&&define.amd?define(["jquery","jquery.ui.widget"],a):a(window.jQuery)})(function(a){a.support.fileInput=!(RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||a('<input type="file">').prop("disabled"));a.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader);a.support.xhrFormDataFileUpload=!!window.FormData;a.support.blobSlice=
window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);a.widget("blueimp.fileupload",{options:{dropZone:a(document),pasteZone:a(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,
uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"\uc5c5\ub85c\ub4dc\ub41c \ud30c\uc77c\uc774 \uc81c\ud55c\ub41c \uc6a9\ub7c9\uc744 \ucd08\uacfc \ud569\ub2c8\ub2e4."},i18n:function(c,b){c=this.messages[c]||c.toString();b&&a.each(b,function(a,b){c=c.replace("{"+a+"}",b)});return c},formData:function(a){return a.serializeArray()},add:function(c,b){if(c.isDefaultPrevented())return!1;(b.autoUpload||!1!==b.autoUpload&&a(this).fileupload("option",
"autoUpload"))&&b.process().done(function(){b.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:a.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime();this.bitrate=this.loaded=0;this.getBitrate=function(a,b,d){var g=a-this.timestamp;if(!this.bitrate||!d||g>d)this.bitrate=
1E3/g*(b-this.loaded)*8,this.loaded=b,this.timestamp=a;return this.bitrate}},_isXHRUpload:function(c){return!c.forceIframeTransport&&(!c.multipart&&a.support.xhrFileUpload||a.support.xhrFormDataFileUpload)},_getFormData:function(c){var b;return"function"===a.type(c.formData)?c.formData(c.form):a.isArray(c.formData)?c.formData:"object"===a.type(c.formData)?(b=[],a.each(c.formData,function(a,c){b.push({name:a,value:c})}),b):[]},_getTotal:function(c){var b=0;a.each(c,function(a,c){b+=c.size||1});return b},
_initProgressObject:function(c){var b={loaded:0,total:0,bitrate:0};c._progress?a.extend(c._progress,b):c._progress=b},_initResponseObject:function(a){var b;if(a._response)for(b in a._response)a._response.hasOwnProperty(b)&&delete a._response[b];else a._response={}},_onProgress:function(c,b){if(c.lengthComputable){var d=Date.now?Date.now():(new Date).getTime(),g;b._time&&b.progressInterval&&d-b._time<b.progressInterval&&c.loaded!==c.total||(b._time=d,g=Math.floor(c.loaded/c.total*(b.chunkSize||b._progress.total))+
(b.uploadedBytes||0),this._progress.loaded+=g-b._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(d,this._progress.loaded,b.bitrateInterval),b._progress.loaded=b.loaded=g,b._progress.bitrate=b.bitrate=b._bitrateTimer.getBitrate(d,g,b.bitrateInterval),this._trigger("progress",a.Event("progress",{delegatedEvent:c}),b),this._trigger("progressall",a.Event("progressall",{delegatedEvent:c}),this._progress))}},_initProgressListener:function(c){var b=this,d=c.xhr?c.xhr():a.ajaxSettings.xhr();
d.upload&&(a(d.upload).bind("progress",function(a){var d=a.originalEvent;a.lengthComputable=d.lengthComputable;a.loaded=d.loaded;a.total=d.total;b._onProgress(a,c)}),c.xhr=function(){return d})},_isInstanceOf:function(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"},_initXHRData:function(c){var b=this,d,g=c.files[0],h=c.multipart||!a.support.xhrFileUpload,k="array"===a.type(c.paramName)?c.paramName[0]:c.paramName;c.headers=a.extend({},c.headers);c.contentRange&&(c.headers["Content-Range"]=
c.contentRange);h&&!c.blob&&this._isInstanceOf("File",g)||(c.headers["Content-Disposition"]='attachment; filename="'+encodeURI(g.name)+'"');h?a.support.xhrFormDataFileUpload&&(c.postMessage?(d=this._getFormData(c),c.blob?d.push({name:k,value:c.blob}):a.each(c.files,function(b,g){d.push({name:"array"===a.type(c.paramName)&&c.paramName[b]||k,value:g})})):(b._isInstanceOf("FormData",c.formData)?d=c.formData:(d=new FormData,a.each(this._getFormData(c),function(a,b){d.append(b.name,b.value)})),c.blob?
d.append(k,c.blob,g.name):a.each(c.files,function(g,h){(b._isInstanceOf("File",h)||b._isInstanceOf("Blob",h))&&d.append("array"===a.type(c.paramName)&&c.paramName[g]||k,h,h.uploadName||h.name)})),c.data=d):(c.contentType=g.type||"application/octet-stream",c.data=c.blob||g);c.blob=null},_initIframeSettings:function(c){var b=a("<a></a>").prop("href",c.url).prop("host");c.dataType="iframe "+(c.dataType||"");c.formData=this._getFormData(c);c.redirect&&b&&b!==location.host&&c.formData.push({name:c.redirectParamName||
"redirect",value:c.redirect})},_initDataSettings:function(a){this._isXHRUpload(a)?(this._chunkedUpload(a,!0)||(a.data||this._initXHRData(a),this._initProgressListener(a)),a.postMessage&&(a.dataType="postmessage "+(a.dataType||""))):this._initIframeSettings(a)},_getParamName:function(c){var b=a(c.fileInput),d=c.paramName;d?a.isArray(d)||(d=[d]):(d=[],b.each(function(){for(var b=a(this),c=b.prop("name")||"files[]",b=(b.prop("files")||[1]).length;b;)d.push(c),b-=1}),d.length||(d=[b.prop("name")||"files[]"]));
return d},_initFormSettings:function(c){c.form&&c.form.length||(c.form=a(c.fileInput.prop("form")),c.form.length||(c.form=a(this.options.fileInput.prop("form"))));c.paramName=this._getParamName(c);c.url||(c.url=c.form.prop("action")||location.href);c.type=(c.type||"string"===a.type(c.form.prop("method"))&&c.form.prop("method")||"").toUpperCase();"POST"!==c.type&&"PUT"!==c.type&&"PATCH"!==c.type&&(c.type="POST");c.formAcceptCharset||(c.formAcceptCharset=c.form.attr("accept-charset"))},_getAJAXSettings:function(c){c=
a.extend({},this.options,c);this._initFormSettings(c);this._initDataSettings(c);return c},_getDeferredState:function(a){return a.state?a.state():a.isResolved()?"resolved":a.isRejected()?"rejected":"pending"},_enhancePromise:function(a){a.success=a.done;a.error=a.fail;a.complete=a.always;return a},_getXHRPromise:function(c,b,d){var g=a.Deferred(),h=g.promise();b=b||this.options.context||h;!0===c?g.resolveWith(b,d):!1===c&&g.rejectWith(b,d);h.abort=g.promise;return this._enhancePromise(h)},_addConvenienceMethods:function(c,
b){var d=this,g=function(b){return a.Deferred().resolveWith(d,b).promise()};b.process=function(c,k){if(c||k)b._processQueue=this._processQueue=(this._processQueue||g([this])).pipe(function(){return b.errorThrown?a.Deferred().rejectWith(d,[b]).promise():g(arguments)}).pipe(c,k);return this._processQueue||g([this])};b.submit=function(){"pending"!==this.state()&&(b.jqXHR=this.jqXHR=!1!==d._trigger("submit",a.Event("submit",{delegatedEvent:c}),this)&&d._onSend(c,this));return this.jqXHR||d._getXHRPromise()};
b.abort=function(){if(this.jqXHR)return this.jqXHR.abort();this.errorThrown="abort";d._trigger("fail",null,this);return d._getXHRPromise(!1)};b.state=function(){if(this.jqXHR)return d._getDeferredState(this.jqXHR);if(this._processQueue)return d._getDeferredState(this._processQueue)};b.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===d._getDeferredState(this._processQueue)};b.progress=function(){return this._progress};b.response=function(){return this._response}},_getUploadedBytes:function(a){return(a=
(a=(a=a.getResponseHeader("Range"))&&a.split("-"))&&1<a.length&&parseInt(a[1],10))&&a+1},_chunkedUpload:function(c,b){c.uploadedBytes=c.uploadedBytes||0;var d=this,g=c.files[0],h=g.size,k=c.uploadedBytes,l=c.maxChunkSize||h,n=this._blobSlice,s=a.Deferred(),p=s.promise(),m,q;if(!(this._isXHRUpload(c)&&n&&(k||l<h))||c.data)return!1;if(b)return!0;if(k>=h)return g.error=c.i18n("uploadedBytes"),this._getXHRPromise(!1,c.context,[null,"error",g.error]);q=function(){var b=a.extend({},c),p=b._progress.loaded;
b.blob=n.call(g,k,k+l,g.type);b.chunkSize=b.blob.size;b.contentRange="bytes "+k+"-"+(k+b.chunkSize-1)+"/"+h;d._initXHRData(b);d._initProgressListener(b);m=(!1!==d._trigger("chunksend",null,b)&&a.ajax(b)||d._getXHRPromise(!1,b.context)).done(function(g,l,m){k=d._getUploadedBytes(m)||k+b.chunkSize;p+b.chunkSize-b._progress.loaded&&d._onProgress(a.Event("progress",{lengthComputable:!0,loaded:k-b.uploadedBytes,total:k-b.uploadedBytes}),b);c.uploadedBytes=b.uploadedBytes=k;b.result=g;b.textStatus=l;b.jqXHR=
m;d._trigger("chunkdone",null,b);d._trigger("chunkalways",null,b);k<h?q():s.resolveWith(b.context,[g,l,m])}).fail(function(a,c,g){b.jqXHR=a;b.textStatus=c;b.errorThrown=g;d._trigger("chunkfail",null,b);d._trigger("chunkalways",null,b);s.rejectWith(b.context,[a,c,g])})};this._enhancePromise(p);p.abort=function(){return m.abort()};q();return p},_beforeSend:function(a,b){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=
0);this._initResponseObject(b);this._initProgressObject(b);b._progress.loaded=b.loaded=b.uploadedBytes||0;b._progress.total=b.total=this._getTotal(b.files)||1;b._progress.bitrate=b.bitrate=0;this._active+=1;this._progress.loaded+=b.loaded;this._progress.total+=b.total},_onDone:function(c,b,d,g){var h=g._progress.total,k=g._response;g._progress.loaded<h&&this._onProgress(a.Event("progress",{lengthComputable:!0,loaded:h,total:h}),g);k.result=g.result=c;k.textStatus=g.textStatus=b;k.jqXHR=g.jqXHR=d;
this._trigger("done",null,g)},_onFail:function(a,b,d,g){var h=g._response;g.recalculateProgress&&(this._progress.loaded-=g._progress.loaded,this._progress.total-=g._progress.total);h.jqXHR=g.jqXHR=a;h.textStatus=g.textStatus=b;h.errorThrown=g.errorThrown=d;this._trigger("fail",null,g)},_onAlways:function(a,b,d,g){this._trigger("always",null,g)},_onSend:function(c,b){b.submit||this._addConvenienceMethods(c,b);var d=this,g,h,k,l,n=d._getAJAXSettings(b),s=function(){d._sending+=1;n._bitrateTimer=new d._BitrateTimer;
return g=g||((h||!1===d._trigger("send",a.Event("send",{delegatedEvent:c}),n))&&d._getXHRPromise(!1,n.context,h)||d._chunkedUpload(n)||a.ajax(n)).done(function(a,b,c){d._onDone(a,b,c,n)}).fail(function(a,b,c){d._onFail(a,b,c,n)}).always(function(a,b,c){d._onAlways(a,b,c,n);d._sending-=1;d._active-=1;if(n.limitConcurrentUploads&&n.limitConcurrentUploads>d._sending)for(a=d._slots.shift();a;){if("pending"===d._getDeferredState(a)){a.resolve();break}a=d._slots.shift()}0===d._active&&d._trigger("stop")})};
this._beforeSend(c,n);return this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(1<this.options.limitConcurrentUploads?(k=a.Deferred(),this._slots.push(k),l=k.pipe(s)):l=this._sequence=this._sequence.pipe(s,s),l.abort=function(){h=[void 0,"abort","abort"];return g?g.abort():(k&&k.rejectWith(n.context,h),s())},this._enhancePromise(l)):s()},_onAdd:function(c,b){var d=this,g=!0,h=a.extend({},this.options,b),k=b.files,l=k.length,n=h.limitMultiFileUploads,
s=h.limitMultiFileUploadSize,p=h.limitMultiFileUploadSizeOverhead,m=0,q=this._getParamName(h),r,t,u=0;!s||l&&void 0!==k[0].size||(s=void 0);if((h.singleFileUploads||n||s)&&this._isXHRUpload(h))if(h.singleFileUploads||s||!n)if(!h.singleFileUploads&&s)for(t=[],r=[],h=0;h<l;h+=1){if(m+=k[h].size+p,h+1===l||m+k[h+1].size+p>s||n&&h+1-u>=n)t.push(k.slice(u,h+1)),m=q.slice(u,h+1),m.length||(m=q),r.push(m),u=h+1,m=0}else r=q;else for(t=[],r=[],h=0;h<l;h+=n)t.push(k.slice(h,h+n)),m=q.slice(h,h+n),m.length||
(m=q),r.push(m);else t=[k],r=[q];b.originalFiles=k;a.each(t||k,function(h,k){var l=a.extend({},b);l.files=t?k:[k];l.paramName=r[h];d._initResponseObject(l);d._initProgressObject(l);d._addConvenienceMethods(c,l);return g=d._trigger("add",a.Event("add",{delegatedEvent:c}),l)});return g},_replaceFileInput:function(c){var b=c.clone(!0);a("<form></form>").append(b)[0].reset();c.after(b).detach();a.cleanData(c.unbind("remove"));this.options.fileInput=this.options.fileInput.map(function(a,g){return g===
c[0]?b[0]:g});c[0]===this.element[0]&&(this.element=b)},_handleFileTreeEntry:function(c,b){var d=this,g=a.Deferred(),h=function(a){a&&!a.entry&&(a.entry=c);g.resolve([a])},k;b=b||"";c.isFile?c._file?(c._file.relativePath=b,g.resolve(c._file)):c.file(function(a){a.relativePath=b;g.resolve(a)},h):c.isDirectory?(k=c.createReader(),k.readEntries(function(a){d._handleFileTreeEntries(a,b+c.name+"/").done(function(a){g.resolve(a)}).fail(h)},h)):g.resolve([]);return g.promise()},_handleFileTreeEntries:function(c,
b){var d=this;return a.when.apply(a,a.map(c,function(a){return d._handleFileTreeEntry(a,b)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(c){c=c||{};var b=c.items;return b&&b.length&&(b[0].webkitGetAsEntry||b[0].getAsEntry)?this._handleFileTreeEntries(a.map(b,function(a){var b;if(a.webkitGetAsEntry){if(b=a.webkitGetAsEntry())b._file=a.getAsFile();return b}return a.getAsEntry()})):a.Deferred().resolve(a.makeArray(c.files)).promise()},_getSingleFileInputFiles:function(c){c=
a(c);var b=c.prop("webkitEntries")||c.prop("entries");if(b&&b.length)return this._handleFileTreeEntries(b);b=a.makeArray(c.prop("files"));if(b.length)void 0===b[0].name&&b[0].fileName&&a.each(b,function(a,b){b.name=b.fileName;b.size=b.fileSize});else{c=c.prop("value");if(!c)return a.Deferred().resolve([]).promise();b=[{name:c.replace(/^.*\\/,"")}]}return a.Deferred().resolve(b).promise()},_getFileInputFiles:function(c){return c instanceof a&&1!==c.length?a.when.apply(a,a.map(c,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],
arguments)}):this._getSingleFileInputFiles(c)},_onChange:function(c){var b=this,d={fileInput:a(c.target),form:a(c.target.form)};this._getFileInputFiles(d.fileInput).always(function(g){d.files=g;b.options.replaceFileInput&&b._replaceFileInput(d.fileInput);!1!==b._trigger("change",a.Event("change",{delegatedEvent:c}),d)&&b._onAdd(c,d)})},_onPaste:function(c){var b=c.originalEvent&&c.originalEvent.clipboardData&&c.originalEvent.clipboardData.items,d={files:[]};b&&b.length&&(a.each(b,function(a,b){var c=
b.getAsFile&&b.getAsFile();c&&d.files.push(c)}),!1!==this._trigger("paste",a.Event("paste",{delegatedEvent:c}),d)&&this._onAdd(c,d))},_onDrop:function(c){c.dataTransfer=c.originalEvent&&c.originalEvent.dataTransfer;var b=this,d=c.dataTransfer,g={};d&&d.files&&d.files.length&&(c.preventDefault(),this._getDroppedFiles(d).always(function(d){g.files=d;!1!==b._trigger("drop",a.Event("drop",{delegatedEvent:c}),g)&&b._onAdd(c,g)}))},_onDragOver:function(c){c.dataTransfer=c.originalEvent&&c.originalEvent.dataTransfer;
var b=c.dataTransfer;b&&-1!==a.inArray("Files",b.types)&&!1!==this._trigger("dragover",a.Event("dragover",{delegatedEvent:c}))&&(c.preventDefault(),b.dropEffect="copy")},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste}));a.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,
"dragover drop");this._off(this.options.pasteZone,"paste");this._off(this.options.fileInput,"change")},_setOption:function(c,b){var d=-1!==a.inArray(c,this._specialOptions);d&&this._destroyEventHandlers();this._super(c,b);d&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var c=this.options;void 0===c.fileInput?c.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):c.fileInput instanceof a||(c.fileInput=a(c.fileInput));
c.dropZone instanceof a||(c.dropZone=a(c.dropZone));c.pasteZone instanceof a||(c.pasteZone=a(c.pasteZone))},_getRegExp:function(a){a=a.split("/");var b=a.pop();a.shift();return RegExp(a.join("/"),b)},_isRegExpOption:function(c,b){return"url"!==c&&"string"===a.type(b)&&/^\/.*\/[igm]{0,3}$/.test(b)},_initDataAttributes:function(){var c=this,b=this.options,d=a(this.element[0].cloneNode(!1));a.each(d.data(),function(a,h){var k="data-"+a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();d.attr(k)&&(c._isRegExpOption(a,
h)&&(h=c._getRegExp(h)),b[a]=h)})},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(!0);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(c){var b=this;c&&!this.options.disabled&&(c.fileInput&&!c.files?this._getFileInputFiles(c.fileInput).always(function(a){c.files=a;b._onAdd(null,c)}):(c.files=
a.makeArray(c.files),this._onAdd(null,c)))},send:function(c){if(c&&!this.options.disabled){if(c.fileInput&&!c.files){var b=this,d=a.Deferred(),g=d.promise(),h,k;g.abort=function(){k=!0;if(h)return h.abort();d.reject(null,"abort","abort");return g};this._getFileInputFiles(c.fileInput).always(function(a){k||(a.length?(c.files=a,h=b._onSend(null,c).then(function(a,b,c){d.resolve(a,b,c)},function(a,b,c){d.reject(a,b,c)})):d.reject())});return this._enhancePromise(g)}c.files=a.makeArray(c.files);if(c.files.length)return this._onSend(null,
c)}return this._getXHRPromise(!1,c&&c.context)}})});(function(a){"function"===typeof define&&define.amd?define(["jquery","./jquery.fileupload"],a):a(window.jQuery)})(function(a){var c=a.blueimp.fileupload.prototype.options.add;a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{processQueue:[],add:function(b,d){var g=a(this);d.process(function(){return g.fileupload("process",d)});c.call(this,b,d)}},processActions:{},_processFile:function(b,c){var g=this,h=a.Deferred().resolveWith(g,[b]).promise();this._trigger("process",null,b);a.each(b.processQueue,
function(b,l){var n=function(b){return c.errorThrown?a.Deferred().rejectWith(g,[c]).promise():g.processActions[l.action].call(g,b,l)};h=h.pipe(n,l.always&&n)});h.done(function(){g._trigger("processdone",null,b);g._trigger("processalways",null,b)}).fail(function(){g._trigger("processfail",null,b);g._trigger("processalways",null,b)});return h},_transformProcessQueue:function(b){var c=[];a.each(b.processQueue,function(){var g={},h=this.action,k=!0===this.prefix?h:this.prefix;a.each(this,function(c,d){"string"===
a.type(d)&&"@"===d.charAt(0)?g[c]=b[d.slice(1)||(k?k+c.charAt(0).toUpperCase()+c.slice(1):c)]:g[c]=d});c.push(g)});b.processQueue=c},processing:function(){return this._processing},process:function(b){var c=this,g=a.extend({},this.options,b);g.processQueue&&g.processQueue.length&&(this._transformProcessQueue(g),0===this._processing&&this._trigger("processstart"),a.each(b.files,function(h){var k=h?a.extend({},g):g,l=function(){return b.errorThrown?a.Deferred().rejectWith(c,[b]).promise():c._processFile(k,
b)};k.index=h;c._processing+=1;c._processingQueue=c._processingQueue.pipe(l,l).always(function(){c._processing-=1;0===c._processing&&c._trigger("processstop")})}));return this._processingQueue},_create:function(){this._super();this._processing=0;this._processingQueue=a.Deferred().resolveWith(this).promise()}})});(function(a){"function"===typeof define&&define.amd?define("jquery load-image load-image-meta load-image-exif load-image-ios canvas-to-blob ./jquery.fileupload-process".split(" "),a):a(window.jQuery,window.loadImage)})(function(a,c){a.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",disableImageHead:"@",disableExif:"@",disableExifThumbnail:"@",disableExifSub:"@",disableExifGps:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",prefix:!0,fileTypes:"@",
maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize"},{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",
thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"},{action:"deleteImageReferences",disabled:"@disableImageReferencesDeletion"});a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png|svg\+xml)$/,loadImageMaxFileSize:1E7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:!1,imageCrop:!1,disableImageResize:!0,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:!0,
previewThumbnail:!0,previewCrop:!1,previewCanvas:!0},processActions:{loadImage:function(b,d){if(d.disabled)return b;var g=this,h=b.files[b.index],k=a.Deferred();return"number"===a.type(d.maxFileSize)&&h.size>d.maxFileSize||d.fileTypes&&!d.fileTypes.test(h.type)||!c(h,function(a){a.src&&(b.img=a);k.resolveWith(g,[b])},d)?b:k.promise()},resizeImage:function(b,d){if(d.disabled||!b.canvas&&!b.img)return b;d=a.extend({canvas:!0},d);var g=this,h=a.Deferred(),k=d.canvas&&b.canvas||b.img,l=function(a){a&&
(a.width!==k.width||a.height!==k.height||d.forceResize)&&(b[a.getContext?"canvas":"img"]=a);b.preview=a;h.resolveWith(g,[b])},n;if(b.exif){!0===d.orientation&&(d.orientation=b.exif.get("Orientation"));if(d.thumbnail&&(n=b.exif.get("Thumbnail")))return c(n,l,d),h.promise();b.orientation?delete d.orientation:b.orientation=d.orientation}return k?(l(c.scale(k,d)),h.promise()):b},saveImage:function(b,c){if(!b.canvas||c.disabled)return b;var g=this,h=b.files[b.index],k=a.Deferred();if(b.canvas.toBlob)b.canvas.toBlob(function(a){a.name||
(h.type===a.type?a.name=h.name:h.name&&(a.name=h.name.replace(/\..+$/,"."+a.type.substr(6))));h.type!==a.type&&delete b.imageHead;b.files[b.index]=a;k.resolveWith(g,[b])},c.type||h.type,c.quality);else return b;return k.promise()},loadImageMetaData:function(b,d){if(d.disabled)return b;var g=this,h=a.Deferred();c.parseMetaData(b.files[b.index],function(c){a.extend(b,c);h.resolveWith(g,[b])},d);return h.promise()},saveImageMetaData:function(a,c){if(!a.imageHead||!a.canvas||!a.canvas.toBlob||c.disabled)return a;
var g=a.files[a.index],h=new Blob([a.imageHead,this._blobSlice.call(g,20)],{type:g.type});h.name=g.name;a.files[a.index]=h;return a},setImage:function(a,c){a.preview&&!c.disabled&&(a.files[a.index][c.name||"preview"]=a.preview);return a},deleteImageReferences:function(a,c){c.disabled||(delete a.img,delete a.canvas,delete a.preview,delete a.imageHead);return a}}})});(function(a){"function"===typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],a):a(window.jQuery,window.loadImage)})(function(a,c){a.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadAudio",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableAudioPreview"},{action:"setAudio",name:"@audioPreviewName",disabled:"@disableAudioPreview"});a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{loadAudioFileTypes:/^audio\/.*$/},_audioElement:document.createElement("audio"),
processActions:{loadAudio:function(b,d){if(d.disabled)return b;var g=b.files[b.index],h;this._audioElement.canPlayType&&this._audioElement.canPlayType(g.type)&&("number"!==a.type(d.maxFileSize)||g.size<=d.maxFileSize)&&(!d.fileTypes||d.fileTypes.test(g.type))&&(g=c.createObjectURL(g))&&(h=this._audioElement.cloneNode(!1),h.src=g,h.controls=!0,b.audio=h);return b},setAudio:function(a,c){a.audio&&!c.disabled&&(a.files[a.index][c.name||"preview"]=a.audio);return a}}})});(function(a){"function"===typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],a):a(window.jQuery,window.loadImage)})(function(a,c){a.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadVideo",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableVideoPreview"},{action:"setVideo",name:"@videoPreviewName",disabled:"@disableVideoPreview"});a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{loadVideoFileTypes:/^video\/.*$/},_videoElement:document.createElement("video"),
processActions:{loadVideo:function(b,d){if(d.disabled)return b;var g=b.files[b.index],h;this._videoElement.canPlayType&&this._videoElement.canPlayType(g.type)&&("number"!==a.type(d.maxFileSize)||g.size<=d.maxFileSize)&&(!d.fileTypes||d.fileTypes.test(g.type))&&(g=c.createObjectURL(g))&&(h=this._videoElement.cloneNode(!1),h.src=g,h.controls=!0,b.video=h);return b},setVideo:function(a,c){a.video&&!c.disabled&&(a.files[a.index][c.name||"preview"]=a.video);return a}}})});(function(a){"function"===typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],a):a(window.jQuery)})(function(a){a.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"});a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{getNumberOfFiles:a.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",
maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(c,b){if(b.disabled)return c;var d=a.Deferred(),g=this.options,h=c.files[c.index],k;if(b.minFileSize||b.maxFileSize)k=h.size;"number"===a.type(b.maxNumberOfFiles)&&(g.getNumberOfFiles()||0)+c.files.length>b.maxNumberOfFiles?h.error=g.i18n("maxNumberOfFiles"):!b.acceptFileTypes||b.acceptFileTypes.test(h.type)||b.acceptFileTypes.test(h.name)?k>b.maxFileSize?h.error=g.i18n("maxFileSize"):"number"===a.type(k)&&
k<b.minFileSize?h.error=g.i18n("minFileSize"):delete h.error:h.error=g.i18n("acceptFileTypes");h.error||c.files.error?(c.files.error=!0,d.rejectWith(this,[c])):d.resolveWith(this,[c]);return d.promise()}}})});(function(a){"function"===typeof define&&define.amd?define("jquery tmpl ./jquery.fileupload-image ./jquery.fileupload-audio ./jquery.fileupload-video ./jquery.fileupload-validate".split(" "),a):a(window.jQuery,window.tmpl)})(function(a,c){a.blueimp.fileupload.prototype._specialOptions.push("filesContainer","uploadTemplateId","downloadTemplateId");a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{autoUpload:!1,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",filesContainer:void 0,
prependFiles:!1,dataType:"json",getNumberOfFiles:function(){return this.filesContainer.children().not(".processing").length},getFilesFromResponse:function(b){return b.result&&a.isArray(b.result.result)?b.result.result:[]},add:function(b,c){if(b.isDefaultPrevented())return!1;var g=a(this),h=g.data("blueimp-fileupload")||g.data("fileupload"),k=h.options;c.context=h._renderUpload(c.files).data("data",c).addClass("processing");k.filesContainer[k.prependFiles?"prepend":"append"](c.context);h._forceReflow(c.context);
h._transition(c.context);c.process(function(){return g.fileupload("process",c)}).always(function(){c.context.each(function(b){a(this).find(".size").text(h._formatFileSize(c.files[b].size))}).removeClass("processing");h._renderPreviews(c)}).done(function(){c.context.find(".start").prop("disabled",!1);!1!==h._trigger("added",b,c)&&(k.autoUpload||c.autoUpload)&&!1!==c.autoUpload&&c.submit()}).fail(function(){c.files.error&&c.context.each(function(b){(b=c.files[b].error)&&a(this).find(".error").text(b)})})},
send:function(b,c){if(b.isDefaultPrevented())return!1;var g=a(this).data("blueimp-fileupload")||a(this).data("fileupload");c.context&&c.dataType&&"iframe"===c.dataType.substr(0,6)&&c.context.find(".progress").addClass(!a.support.transition&&"progress-animated").attr("aria-valuenow",100).children().first().css("width","100%");return g._trigger("sent",b,c)},done:function(b,c){if(b.isDefaultPrevented())return!1;var g=a(this).data("blueimp-fileupload")||a(this).data("fileupload"),h=(c.getFilesFromResponse||
g.options.getFilesFromResponse)(c),k,l;c.context?c.context.each(function(n){var s=h[n]||{error:"Empty file upload result"};l=g._addFinishedDeferreds();g._transition(a(this)).done(function(){var h=a(this);k=g._renderDownload([s]).replaceAll(h);g._forceReflow(k);g._transition(k).done(function(){c.context=a(this);g._trigger("completed",b,c);g._trigger("finished",b,c);l.resolve()})})}):(k=g._renderDownload(h)[g.options.prependFiles?"prependTo":"appendTo"](g.options.filesContainer),g._forceReflow(k),l=
g._addFinishedDeferreds(),g._transition(k).done(function(){c.context=a(this);g._trigger("completed",b,c);g._trigger("finished",b,c);l.resolve()}))},fail:function(b,c){if(b.isDefaultPrevented())return!1;var g=a(this).data("blueimp-fileupload")||a(this).data("fileupload"),h,k;c.context?c.context.each(function(l){if("abort"!==c.errorThrown){var n=c.files[l];n.error=n.error||c.errorThrown||!0;k=g._addFinishedDeferreds();g._transition(a(this)).done(function(){var l=a(this);h=g._renderDownload([n]).replaceAll(l);
g._forceReflow(h);g._transition(h).done(function(){c.context=a(this);g._trigger("failed",b,c);g._trigger("finished",b,c);k.resolve()})})}else k=g._addFinishedDeferreds(),g._transition(a(this)).done(function(){a(this).remove();g._trigger("failed",b,c);g._trigger("finished",b,c);k.resolve()})}):"abort"!==c.errorThrown?(c.context=g._renderUpload(c.files)[g.options.prependFiles?"prependTo":"appendTo"](g.options.filesContainer).data("data",c),g._forceReflow(c.context),k=g._addFinishedDeferreds(),g._transition(c.context).done(function(){c.context=
a(this);g._trigger("failed",b,c);g._trigger("finished",b,c);k.resolve()})):(g._trigger("failed",b,c),g._trigger("finished",b,c),g._addFinishedDeferreds().resolve())},progress:function(b,c){if(b.isDefaultPrevented())return!1;var g=Math.floor(c.loaded/c.total*100);c.context&&c.context.each(function(){a(this).find(".progress").attr("aria-valuenow",g).children().first().css("width",g+"%")})},progressall:function(b,c){if(b.isDefaultPrevented())return!1;var g=a(this),h=Math.floor(c.loaded/c.total*100),
k=g.find(".fileupload-progress"),l=k.find(".progress-extended");l.length&&l.html((g.data("blueimp-fileupload")||g.data("fileupload"))._renderExtendedProgress(c));k.find(".progress").attr("aria-valuenow",h).children().first().css("width",h+"%")},start:function(b){if(b.isDefaultPrevented())return!1;var c=a(this).data("blueimp-fileupload")||a(this).data("fileupload");c._resetFinishedDeferreds();c._transition(a(this).find(".fileupload-progress")).done(function(){c._trigger("started",b)})},stop:function(b){if(b.isDefaultPrevented())return!1;
var c=a(this).data("blueimp-fileupload")||a(this).data("fileupload"),g=c._addFinishedDeferreds();a.when.apply(a,c._getFinishedDeferreds()).done(function(){c._trigger("stopped",b)});c._transition(a(this).find(".fileupload-progress")).done(function(){a(this).find(".progress").attr("aria-valuenow","0").children().first().css("width","0%");a(this).find(".progress-extended").html("&nbsp;");g.resolve()})},processstart:function(b){if(b.isDefaultPrevented())return!1;a(this).addClass("fileupload-processing")},
processstop:function(b){if(b.isDefaultPrevented())return!1;a(this).removeClass("fileupload-processing")},destroy:function(b,c){if(b.isDefaultPrevented())return!1;var g=a(this).data("blueimp-fileupload")||a(this).data("fileupload"),h=function(){g._transition(c.context).done(function(){a(this).remove();g._trigger("destroyed",b,c)})};c.url?(c.dataType=c.dataType||g.options.dataType,a.ajax(c).done(h).fail(function(){g._trigger("destroyfailed",b,c)})):h()}},_resetFinishedDeferreds:function(){this._finishedUploads=
[]},_addFinishedDeferreds:function(b){b||(b=a.Deferred());this._finishedUploads.push(b);return b},_getFinishedDeferreds:function(){return this._finishedUploads},_enableDragToDesktop:function(){var b=a(this),c=b.prop("href"),g=b.prop("download");b.bind("dragstart",function(a){try{a.originalEvent.dataTransfer.setData("DownloadURL",["application/octet-stream",g,c].join(":"))}catch(b){}})},_formatFileSize:function(a){return"number"!==typeof a?"":1E9<=a?(a/1E9).toFixed(2)+" GB":1E6<=a?(a/1E6).toFixed(2)+
" MB":(a/1E3).toFixed(2)+" KB"},_formatBitrate:function(a){return"number"!==typeof a?"":1E9<=a?(a/1E9).toFixed(2)+" Gbit/s":1E6<=a?(a/1E6).toFixed(2)+" Mbit/s":1E3<=a?(a/1E3).toFixed(2)+" kbit/s":a.toFixed(2)+" bit/s"},_formatTime:function(a){var c=new Date(1E3*a);a=Math.floor(a/86400);return(a?a+"d ":"")+("0"+c.getUTCHours()).slice(-2)+":"+("0"+c.getUTCMinutes()).slice(-2)+":"+("0"+c.getUTCSeconds()).slice(-2)},_formatPercentage:function(a){return(100*a).toFixed(2)+" %"},_renderExtendedProgress:function(a){return this._formatBitrate(a.bitrate)+
" | "+this._formatTime(8*(a.total-a.loaded)/a.bitrate)+" | "+this._formatPercentage(a.loaded/a.total)+" | "+this._formatFileSize(a.loaded)+" / "+this._formatFileSize(a.total)},_renderTemplate:function(b,c){if(!b)return a();var g=b({files:c,formatFileSize:this._formatFileSize,options:this.options});return g instanceof a?g:a(this.options.templatesContainer).html(g).children()},_renderPreviews:function(b){b.context.find(".preview").each(function(c,g){a(g).append(b.files[c].preview)})},_renderUpload:function(a){return this._renderTemplate(this.options.uploadTemplate,
a)},_renderDownload:function(a){return this._renderTemplate(this.options.downloadTemplate,a).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(b){b.preventDefault();b=a(b.currentTarget);var c=b.closest(".template-upload").data("data");b.prop("disabled",!0);c&&c.submit&&c.submit()},_cancelHandler:function(b){b.preventDefault();var c=a(b.currentTarget).closest(".template-upload,.template-download"),g=c.data("data")||{};g.context=g.context||c;g.abort?g.abort():(g.errorThrown=
"abort",this._trigger("fail",b,g))},_deleteHandler:function(b){b.preventDefault();var c=a(b.currentTarget);this._trigger("destroy",b,a.extend({context:c.closest(".template-download"),type:"DELETE"},c.data()))},_forceReflow:function(b){return a.support.transition&&b.length&&b[0].offsetWidth},_transition:function(b){var c=a.Deferred();a.support.transition&&b.hasClass("fade")&&b.is(":visible")?b.bind(a.support.transition.end,function(g){g.target===b[0]&&(b.unbind(a.support.transition.end),c.resolveWith(b))}).toggleClass("in"):
(b.toggleClass("in"),c.resolveWith(b));return c},_initButtonBarEventHandlers:function(){var b=this.element.find(".fileupload-buttonbar"),c=this.options.filesContainer;this._on(b.find(".start"),{click:function(a){a.preventDefault();c.find(".start").click()}});this._on(b.find(".cancel"),{click:function(a){a.preventDefault();c.find(".cancel").click()}});this._on(b.find(".delete"),{click:function(a){a.preventDefault();c.find(".toggle:checked").closest(".template-download").find(".delete").click();b.find(".toggle").prop("checked",
!1)}});this._on(b.find(".toggle"),{change:function(b){c.find(".toggle").prop("checked",a(b.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar").find(".start, .cancel, .delete"),"click");this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super();this._on(this.options.filesContainer,{"click .start":this._startHandler,"click .cancel":this._cancelHandler,"click .delete":this._deleteHandler});
this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers();this._off(this.options.filesContainer,"click");this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var a=this.options;a.templatesContainer=this.document[0].createElement(a.filesContainer.prop("nodeName"));
c&&(a.uploadTemplateId&&(a.uploadTemplate=c(a.uploadTemplateId)),a.downloadTemplateId&&(a.downloadTemplate=c(a.downloadTemplateId)))},_initFilesContainer:function(){var b=this.options;void 0===b.filesContainer?b.filesContainer=this.element.find(".files"):b.filesContainer instanceof a||(b.filesContainer=a(b.filesContainer))},_initSpecialOptions:function(){this._super();this._initFilesContainer();this._initTemplates()},_create:function(){this._super();this._resetFinishedDeferreds();a.support.fileInput||
this._disableFileInputButton()},enable:function(){var a=!1;this.options.disabled&&(a=!0);this._super();a&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton());this._super()}})});(function(a){"function"===typeof define&&define.amd?define(["jquery","./jquery.fileupload-ui"],a):a(window.jQuery)})(function(a){a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{processdone:function(a,b){b.context.find(".start").button("enable")},progress:function(a,b){b.context&&b.context.find(".progress").progressbar("option","value",parseInt(b.loaded/b.total*100,10))},progressall:function(c,b){a(this).find(".fileupload-progress").find(".progress").progressbar("option","value",parseInt(b.loaded/
b.total*100,10)).end().find(".progress-extended").each(function(){})}},_renderUpload:function(c,b){var d=this._super(c,b),g=480<a(window).width();d.find(".progress").empty().progressbar();d.find(".start").button({icons:{primary:"ui-icon-circle-arrow-e"},text:g});d.find(".cancel").button({icons:{primary:"ui-icon-cancel"},text:g});d.hasClass("fade")&&d.hide();return d},_renderDownload:function(c,b){var d=this._super(c,b),g=480<a(window).width();d.find(".delete").button({icons:{primary:"ui-icon-trash"},
text:g});d.hasClass("fade")&&d.hide();return d},_startHandler:function(c){a(c.currentTarget).button("disable");this._super(c)},_transition:function(c){var b=a.Deferred();c.hasClass("fade")?c.fadeToggle(this.options.transitionDuration,this.options.transitionEasing,function(){b.resolveWith(c)}):b.resolveWith(c);return b},_create:function(){this._super();this.element.find(".fileupload-buttonbar").find(".fileinput-button").each(function(){var c=a(this).find("input:file").detach();a(this).button({icons:{primary:"ui-icon-plusthick"}}).append(c)}).end().find(".start").button({icons:{primary:"ui-icon-circle-arrow-e"}}).end().find(".cancel").button({icons:{primary:"ui-icon-cancel"}}).end().find(".delete").button({icons:{primary:"ui-icon-trash"}}).end().find(".progress").progressbar()},
_destroy:function(){this.element.find(".fileupload-buttonbar").find(".fileinput-button").each(function(){var c=a(this).find("input:file").detach();a(this).button("destroy").append(c)}).end().find(".start").button("destroy").end().find(".cancel").button("destroy").end().find(".delete").button("destroy").end().find(".progress").progressbar("destroy");this._super()}})});OpenLayers.Control.DynamicMeasure=OpenLayers.Class(OpenLayers.Control.Measure,{accuracy:5,persist:!0,styles:null,positions:null,maxSegments:1,maxHeadings:1,layerSegmentsOptions:void 0,layerHeadingOptions:null,layerLengthOptions:void 0,layerAreaOptions:void 0,drawingLayer:null,multi:!1,layerSegments:null,layerLength:null,layerArea:null,dynamicObj:null,isArea:null,initialize:function(a,c){c=c||{};c.handlerOptions=OpenLayers.Util.extend({persist:!c.drawingLayer},c.handlerOptions);!c.drawingLayer||"multi"in
c.handlerOptions||(c.handlerOptions.multi=c.multi);if(c.drawingLayer){var b=c.drawingLayer.styleMap&&c.drawingLayer.styleMap.styles.temporary;b&&(c.handlerOptions.layerOptions=OpenLayers.Util.applyDefaults(c.handlerOptions.layerOptions,{styleMap:new OpenLayers.StyleMap({"default":b})}))}b=c.styles||{};c.styles=b;var d=OpenLayers.Control.DynamicMeasure.styles;c.handlerOptions.layerOptions&&c.handlerOptions.layerOptions.styleMap||(b=new OpenLayers.Style(null,{rules:[new OpenLayers.Rule({symbolizer:{Point:OpenLayers.Util.applyDefaults(b.Point,
d.Point),Line:OpenLayers.Util.applyDefaults(b.Line,d.Line),Polygon:OpenLayers.Util.applyDefaults(b.Polygon,d.Polygon)}})]}),c.handlerOptions=c.handlerOptions||{},c.handlerOptions.layerOptions=c.handlerOptions.layerOptions||{},c.handlerOptions.layerOptions.styleMap=new OpenLayers.StyleMap({"default":b}));c.positions=OpenLayers.Util.applyDefaults(c.positions,OpenLayers.Control.DynamicMeasure.positions);c.callbacks=c.callbacks||{};c.drawingLayer&&OpenLayers.Util.applyDefaults(c.callbacks,{create:function(a,
b){this.callbackCreate(a,b);this.drawingLayer.events.triggerEvent("sketchstarted",{vertex:a,feature:b})},modify:function(a,b){this.callbackModify(a,b);this.drawingLayer.events.triggerEvent("sketchmodified",{vertex:a,feature:b})},done:function(a){this.callbackDone(a);this.drawFeature(a)}});OpenLayers.Util.applyDefaults(c.callbacks,{create:this.callbackCreate,point:this.callbackPoint,cancel:this.callbackCancel,done:this.callbackDone,modify:this.callbackModify,redo:this.callbackRedo,undo:this.callbackUndo});
var g=document.onselectstart?document.onselectstart:OpenLayers.Function.True,b=OpenLayers.Class(a,{down:function(b){document.onselectstart=OpenLayers.Function.False;return a.prototype.down.apply(this,arguments)},up:function(b){document.onselectstart=g;return a.prototype.up.apply(this,arguments)},move:function(b){this.mouseDown||(document.onselectstart=g);return a.prototype.move.apply(this,arguments)},mouseout:function(b){OpenLayers.Util.mouseLeft(b,this.map.viewPortDiv)&&this.mouseDown&&(document.onselectstart=
g);return a.prototype.mouseout.apply(this,arguments)},finalize:function(){document.onselectstart=g;a.prototype.finalize.apply(this,arguments)}},{undo:function(){var b=a.prototype.undo.call(this);b&&this.callback("undo",[this.point.geometry,this.getSketch(),!0]);return b},redo:function(){var b=a.prototype.redo.call(this);b&&this.callback("redo",[this.point.geometry,this.getSketch(),!0]);return b}});OpenLayers.Control.Measure.prototype.initialize.call(this,b,c);this.isArea=void 0!==a.prototype.polygon},
destroy:function(){this.deactivate();OpenLayers.Control.Measure.prototype.destroy.apply(this,arguments)},draw:function(){},activate:function(){var a=OpenLayers.Control.Measure.prototype.activate.apply(this,arguments);if(a){this.dynamicObj={};var c=this.styles||{},b=OpenLayers.Control.DynamicMeasure.styles,d=this,g=function(a,g){if(null===g)return null;var l=OpenLayers.Util.extend({displayInLayerSwitcher:!1,calculateInRange:OpenLayers.Function.True},g);l.styleMap||(l.styleMap=new OpenLayers.StyleMap({"default":OpenLayers.Util.applyDefaults(c[a],
b[a])}));l=new OpenLayers.Layer.Vector(d.CLASS_NAME+" "+a,l);d.map.addLayer(l);return l};this.layerSegments=g("labelSegments",this.layerSegmentsOptions);this.layerHeading=g("labelHeading",this.layerHeadingOptions);this.layerLength=g("labelLength",this.layerLengthOptions);this.isArea&&(this.layerArea=g("labelArea",this.layerAreaOptions))}return a},deactivate:function(){var a=OpenLayers.Control.Measure.prototype.deactivate.apply(this,arguments);a&&(this.layerSegments&&this.layerSegments.destroy(),this.layerLength&&
this.layerLength.destroy(),this.layerHeading&&this.layerHeading.destroy(),this.layerArea&&this.layerArea.destroy(),this.layerArea=this.layerHeading=this.layerLength=this.layerSegments=this.dynamicObj=null);return a},setImmediate:function(a){this.immediate=a},callbackCreate:function(){var a=this.dynamicObj;a.drawing=!1;a.freehand=!1;a.fromIndex=0;a.countSegments=0},callbackCancel:function(){this.destroyLabels()},callbackDone:function(a){this.measureComplete(a);this.persist||this.destroyLabels()},drawFeature:function(a){a=
new OpenLayers.Feature.Vector(a);!1!==this.drawingLayer.events.triggerEvent("sketchcomplete",{feature:a})&&(a.state=OpenLayers.State.INSERT,this.drawingLayer.addFeatures([a]),this.featureAdded&&this.featureAdded(a),this.events.triggerEvent("featureadded",{feature:a}))},destroyLabels:function(){this.layerSegments&&this.layerSegments.destroyFeatures(null,{silent:!0});this.layerLength&&this.layerLength.destroyFeatures(null,{silent:!0});this.layerHeading&&this.layerHeading.destroyFeatures(null,{silent:!0});
this.layerArea&&this.layerArea.destroyFeatures(null,{silent:!0})},callbackPoint:function(a,c){var b=this.dynamicObj;b.drawing||this.destroyLabels();this.handler.freehandMode(this.handler.evt)?b.freehand||(b.fromIndex=this.handler.getCurrentPointIndex()-1,b.freehand=!0,b.countSegments++):(b.fromIndex=this.handler.getCurrentPointIndex()-1,b.freehand=!1,b.countSegments++);this.measurePartial(a,c);b.drawing=!0},callbackUndo:function(a,c){var b=this,d=function(a){if(a){var c=a.features,d=c.length-1,l=
c[d],n=l.attributes.from,s=b.handler.getCurrentPointIndex();n>=s&&(n=b.dynamicObj,a.destroyFeatures(l),l=c[d-1],n.fromIndex=l.attributes.from,n.countSegments=c.length)}};d(this.layerSegments);d(this.layerHeading);this.callbackModify(a,c,!0)},callbackRedo:function(a,c){var b=this.handler.line.geometry,d=this.handler.getCurrentPointIndex(),g=this.dynamicObj;this.showLabelSegment(g.countSegments,g.fromIndex,b.components.slice(g.fromIndex,d));g.fromIndex=this.handler.getCurrentPointIndex()-1;g.countSegments++;
this.callbackModify(a,c,!0)},callbackModify:function(a,c,b){this.immediate&&this.measureImmediate(a,c,b);var d=this.dynamicObj;if(!1!==d.drawing){var g=this.handler.line.geometry;b=this.handler.getCurrentPointIndex();!this.handler.freehandMode(this.handler.evt)&&d.freehand&&(d.fromIndex=b-1,d.freehand=!1,d.countSegments++);var h=[g.getGeodesicLength(this.map.projection),"m"];1E3<h[0]&&(h[0]/=1E3,h[1]="km");if(h[0]){var k=this.positions,l={center:function(){var b=c.geometry.getBounds().clone();b.extend(a);
b=b.getCenterLonLat();return[b.lon,b.lat]},initial:function(){var a=g.components[0];return[a.x,a.y]},start:function(){var a=g.components[d.fromIndex];return[a.x,a.y]},middle:function(){var b=g.components[d.fromIndex];return[(b.x+a.x)/2,(b.y+a.y)/2]},end:function(){return[a.x,a.y]}};this.layerLength&&this.showLabel(this.layerLength,1,0,h,l[k.labelLength](),1);this.isArea&&(this.layerArea&&(h=[c.geometry.getGeodesicArea(this.map.projection),"m"],1E3<h[0]&&(h[0]/=1E3,h[1]="km"),this.showLabel(this.layerArea,
1,0,h,l[k.labelArea](),1)),this.showLabelSegment(1,0,[g.components[0],g.components[b]])&&d.countSegments++);this.showLabelSegment(d.countSegments,d.fromIndex,g.components.slice(d.fromIndex,b+1))}}},showLabelSegment:function(a,c,b){var d=this.layerSegments,g=this.layerHeading;if(!d&&!g)return!1;for(var h=[],k=b.length,l=0;l<k;l++)h.push(b[l].clone());b=[(new OpenLayers.Geometry.LineString(h)).getGeodesicLength(this.map.projection),"m"];1E3<b[0]&&(b[0]/=1E3,b[1]="km");var n=h[0],s=h[k-1],h=this.positions,
k={start:function(){return[n.x,n.y]},middle:function(){return[(n.x+s.x)/2,(n.y+s.y)/2]},end:function(){return[s.x,s.y]}},l=!1;d&&(l=this.showLabel(d,a,c,b,k[h.labelSegments](),this.maxSegments));g&&0<b[0]&&(d=90-180*Math.atan2(s.y-n.y,s.x-n.x)/Math.PI,0>d&&(d+=360),l=l||this.showLabel(g,a,c,[d,"\u00b0"],k[h.labelHeading](),this.maxHeadings));return l},showLabel:function(a,c,b,d,g,h){var k;k=a.features;if(k.length<c){if(0===d[0])return!1;c=new OpenLayers.Feature.Vector(new OpenLayers.Geometry.Point(g[0],
g[1]),{from:b});this.setMesureAttributes(c.attributes,d);a.addFeatures([c]);null!==h&&(d=k.length-h-1,0<=d&&(k=k[d],k.style={display:"none"},a.drawFeature(k)));return!0}c=k[c-1];b=c.geometry;b.x=g[0];b.y=g[1];b.clearBounds();this.setMesureAttributes(c.attributes,d);a.drawFeature(c);null!==h&&(d=k.length-h,0<=d&&(k=k[d],k.style&&(delete k.style,a.drawFeature(k))));return!1},setMesureAttributes:function(a,c){a.measure=OpenLayers.Number.format(Number(c[0].toPrecision(this.accuracy)),null);a.units=c[1]},
CLASS_NAME:"OpenLayers.Control.DynamicMeasure"});
OpenLayers.Control.DynamicMeasure.styles={Point:{pointRadius:4,graphicName:"square",fillColor:"white",fillOpacity:1,strokeWidth:1,strokeOpacity:1,strokeColor:"#333333"},Line:{strokeWidth:2,strokeOpacity:1,strokeColor:"#666666",strokeDashstyle:"dash"},Polygon:{strokeWidth:2,strokeOpacity:1,strokeColor:"#666666",strokeDashstyle:"solid",fillColor:"white",fillOpacity:0.3},labelSegments:{label:"${measure} ${units}",fontSize:"11px",fontColor:"#800517",fontFamily:"Verdana",labelOutlineColor:"#dddddd",labelAlign:"cm",
labelOutlineWidth:2},labelLength:{label:"${measure} ${units}\n",fontSize:"11px",fontWeight:"bold",fontColor:"#800517",fontFamily:"Verdana",labelOutlineColor:"#dddddd",labelAlign:"lb",labelOutlineWidth:3},labelArea:{label:"${measure}\n${units}\u00b2\n",fontSize:"11px",fontWeight:"bold",fontColor:"#800517",fontFamily:"Verdana",labelOutlineColor:"#dddddd",labelAlign:"cm",labelOutlineWidth:3},labelHeading:{label:"${measure} ${units}",fontSize:"11px",fontColor:"#800517",fontFamily:"Verdana",labelOutlineColor:"#dddddd",
labelAlign:"cm",labelOutlineWidth:3}};OpenLayers.Control.DynamicMeasure.positions={labelSegments:"middle",labelLength:"end",labelArea:"center",labelHeading:"start"};
