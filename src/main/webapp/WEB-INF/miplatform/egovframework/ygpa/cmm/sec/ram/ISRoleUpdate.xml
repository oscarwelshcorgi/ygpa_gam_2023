<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="300" Id="ISRoleUpdate" Left="8" OnLoadCompleted="ISRoleUpdate_OnLoadCompleted" PidAttrib="7" Title="롤&#32;수정" Top="8" Ver="1.0" Width="400" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_input">
				<Contents>
					<colinfo id="roleCode" size="256" summ="default" type="STRING"/>
					<colinfo id="roleNm" size="256" summ="default" type="STRING"/>
					<colinfo id="rolePtn" size="256" summ="default" type="STRING"/>
					<colinfo id="roleDc" size="256" summ="default" type="STRING"/>
					<colinfo id="roleTyp" size="256" summ="default" type="STRING"/>
					<colinfo id="roleSort" size="256" summ="default" type="STRING"/>
					<colinfo id="roleCreatDe" size="256" summ="default" type="STRING"/>
					<colinfo id="authorCode" size="256" summ="default" type="STRING"/>
					<record>
						<authorCode></authorCode>
						<roleCode></roleCode>
						<roleCreatDe></roleCreatDe>
						<roleDc></roleDc>
						<roleNm></roleNm>
						<rolePtn></rolePtn>
						<roleSort></roleSort>
						<roleTyp></roleTyp>
					</record>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_cmmcode">
				<Contents></Contents>
			</Dataset>
		</Datasets>
		<Static Align="Right" Height="14" Id="Static19" Left="18" Style="C_Static" TabOrder="10" Text="롤코드" Top="96" Width="60"></Static>
		<Edit BindDataset="ds_input" Border="Flat" Column="roleCode" DisableColor="black" Enable="FALSE" Height="18" Id="txtUser" ImeMode="none" Left="83" LeftMargin="1" MaxLength="20" Readonly="TRUE" Style="C_Edit" TabOrder="1" Top="93" Width="118"></Edit>
		<Static Align="Right" Height="14" Id="Static1" Left="18" Style="C_Static" TabOrder="11" Text="롤명" Top="116" Width="60"></Static>
		<Edit BindDataset="ds_input" Border="Flat" Column="roleNm" DisableBKColor="white" DisableColor="black" Height="18" Id="Edit0" ImeMode="none" Left="83" LeftMargin="1" MaxLength="18" Style="C_Edit" TabOrder="2" Top="113" Width="118"></Edit>
		<Static Align="Right" Height="14" Id="Static3" Left="18" Style="C_Static" TabOrder="12" Text="롤패턴" Top="136" Width="60"></Static>
		<Edit BindDataset="ds_input" Border="Flat" Column="rolePtn" DisableBKColor="white" DisableColor="black" Height="18" Id="Edit1" ImeMode="none" Left="83" LeftMargin="1" MaxLength="100" Style="C_Edit" TabOrder="3" Top="133" Width="300"></Edit>
		<Edit BindDataset="ds_input" Border="Flat" Column="roleDc" DisableBKColor="white" DisableColor="black" Height="18" Id="Edit2" ImeMode="none" Left="83" LeftMargin="1" MaxLength="33" Style="C_Edit" TabOrder="4" Top="153" Width="250"></Edit>
		<Static Align="Right" Height="14" Id="Static5" Left="18" Style="C_Static" TabOrder="13" Text="설명" Top="156" Width="60"></Static>
		<Static Align="Right" Height="14" Id="Static6" Left="18" Style="C_Static" TabOrder="14" Text="롤타입" Top="176" Width="60"></Static>
		<Edit BindDataset="ds_input" Border="Flat" Column="roleSort" DisableBKColor="white" DisableColor="black" Height="18" Id="Edit4" ImeMode="none" Left="83" LeftMargin="1" MaxLength="7" Number="TRUE" Style="C_Edit" TabOrder="6" Top="193" Width="114"></Edit>
		<Static Align="Right" Height="14" Id="Static7" Left="18" Style="C_Static" TabOrder="15" Text="롤Sort" Top="196" Width="60"></Static>
		<Combo BindDataset="ds_input" Border="Flat" BorderColor="user5" CodeColumn="code" Column="roleTyp" DataColumn="codeNm" Editable="TRUE" Height="18" Id="Combo0" InnerDataset="ds_cmmcode" Left="82" TabOrder="5" Text="---선택하세요---" Top="172" Width="114"></Combo>
		<Static Align="Right" Height="14" Id="Static9" Left="18" Style="C_Static" TabOrder="16" Text="등록일자" Top="216" Width="60"></Static>
		<Edit BindDataset="ds_input" Border="Flat" Column="roleCreatDe" DisableColor="black" Enable="FALSE" Height="18" Id="Edit3" ImeMode="none" Left="83" LeftMargin="1" MaxLength="20" Readonly="TRUE" Style="C_Edit" TabOrder="7" Top="213" Width="70"></Edit>
		<Button ButtonStyle="TRUE" Height="18" Id="btnUpdate" ImageID="btn_02_2" Left="280" OnClick="btnUpdate_OnClick" Style="C_Button" TabOrder="8" Text="수정" Top="64" Width="48"></Button>
		<Button ButtonStyle="TRUE" Height="18" Id="btnDelete" ImageID="btn_02_2" Left="336" OnClick="btnDelete_OnClick" Style="C_Button" TabOrder="9" Text="삭제" Top="64" Width="48"></Button>
		<Image Align="Left" Height="50" Id="Image0" ImageID="pop_title_bg" TabOrder="17" Width="400"></Image>
		<Image Height="15" Id="Image2" ImageID="bu02" Left="15" TabOrder="18" Top="18" Width="8"></Image>
		<Static Color="user6" Height="16" Id="Static0" Left="27" Style="C_lblTitle" TabOrder="19" Text="롤&#32;수정" Top="20" Width="200"></Static>
		<Image Height="11" Id="ImgClose" ImageID="btn_close" Left="341" OnClick="ImgClose_OnClick" Static="FALSE" TabOrder="20" Top="19" Width="44"></Image>
		<Image Height="4" Id="Image7" ImageID="icon_06" Left="46" TabOrder="21" Top="120" Width="5"></Image>
		<Image Height="4" Id="Image1" ImageID="icon_06" Left="34" TabOrder="22" Top="140" Width="5"></Image>
		<Image Height="4" Id="Image3" ImageID="icon_06" Left="46" TabOrder="23" Top="160" Width="5"></Image>
		<Image Height="4" Id="Image4" ImageID="icon_06" Left="34" TabOrder="24" Top="180" Width="5"></Image>
		<Image Height="4" Id="Image5" ImageID="icon_06" Left="38" TabOrder="25" Top="200" Width="5"></Image>
	</Form>
	<Script><![CDATA[#include "lib::common.js";

function fnCallback(svcid, errcd, errmsg)
{
	gfn_hideProg(this);
	if(errCd < 0){
		gfn_Message(errCd,errMsg);
		return;
	}
	if(svcid == "get"){
		//alert("Success");
			
	}
	if(svcid == "update"){
		alert(errMsg);
		parent.btnSearch_OnClick();
		imgClose_OnClick();	
		
	}
	if(svcid == "delete"){
		alert(errMsg);
		parent.btnSearch_OnClick();
		imgClose_OnClick();	
		
	}	

}

function btnList_OnClick(obj)
{
	Go(G_Server + "/ipa/cmm/sec/ram/ISRoleListView.do");
}

function btnUpdate_OnClick(obj)
{
	if ( !gfn_CheckField("Edit0|Edit1|Edit2|Combo0|Edit4", "롤명|롤패턴|설명|롤타입|롤Sort") ) return false;
	
	gfn_showProg(this,"수정중입니다.");
	var strSvcid = "update";
	var strController = "/ipa/cmm/sec/ram/ISRoleUpdate.do";
	var arrayInputDs = [
						["ds_input","ds_input","egovframework.com.sec.ram.service.RoleManage"]
					   ];
	var strOutputDs = "";
	var strParam = "";
	var strFnCallback = "fnCallback";

	fnCmTr(this, strSvcid, strController, arrayInputDs, strOutputDs, strParam, strFnCallback);	
}

function btnDelete_OnClick(obj)
{
	if ( !confirm(txtUser.Text + "(을)를 삭제 하시겠습니까?") ) return;
	
	gfn_showProg(this,"삭제중입니다.");
	var strSvcid = "delete";
	var strController = "/ipa/cmm/sec/ram/ISRoleDelete.do";
	var arrayInputDs = [
						["ds_input","ds_input","egovframework.com.sec.ram.service.RoleManage"]
					   ];
	var strOutputDs = "";
	var strParam = "";
	var strFnCallback = "fnCallback";

	fnCmTr(this, strSvcid, strController, arrayInputDs, strOutputDs, strParam, strFnCallback);	
}


function ISRoleUpdate_OnLoadCompleted(obj)
{
	gfn_showProg(this,"조회중입니다.");

	var strSvcid = "get";
	
	//if ( gdsPARAM.GetColumn(0,"PARAM_NAME") == 'roleCode' ) 
	var strController = "/ipa/cmm/sec/ram/ISRole.do?roleCode="+gdsPARAM.GetColumn(0,"PARAM_VALUE");
	//var strController = "/ipa/sym/mpm/IPMenuManageListDetailSelect.do?req_menuNo="+"1010000";
						//서버, 클라이언트, VO
						
	gdsPARAM.ClearData();
	var arrayInputDs = [];
					   
					   //클라이언트, 서버
	var strOutputDs = "ds_input=ds_output ds_cmmcode=ds_outputcmmcode";
	var strParam = "";
	var strFnCallback = "fnCallback";
	
	fnCmTr(this, strSvcid, strController, arrayInputDs, strOutputDs, strParam, strFnCallback);
}



function ImgClose_OnClick(obj,nX,nY)
{
	close();
}
]]></Script>
</Window>