<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="300" Id="ISAuthorUpdate" Left="8" OnLoadCompleted="ISAuthorUpdate_OnLoadCompleted" PidAttrib="7" Title="권한수정" Top="8" Ver="1.0" Width="400" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_input">
				<Contents>
					<colinfo id="authorCode" size="256" summ="default" type="STRING"/>
					<colinfo id="authorNm" size="256" summ="default" type="STRING"/>
					<colinfo id="authorDc" size="256" summ="default" type="STRING"/>
					<record>
						<authorCode></authorCode>
						<authorDc></authorDc>
						<authorNm></authorNm>
					</record>
				</Contents>
			</Dataset>
		</Datasets>
		<Static Align="Right" Height="14" Id="Static19" Left="18" Style="C_Static" TabOrder="7" Text="권한코드" Top="96" Width="80"></Static>
		<Edit BindDataset="ds_input" Border="Flat" CheckLength="Byte" Column="authorCode" DisableColor="black" Enable="FALSE" Height="18" Id="Edit3" ImeMode="none" Left="104" LeftMargin="1" MaxLength="30" Readonly="TRUE" Style="C_Edit" TabOrder="1" Top="93" UseIME="FALSE" Width="270"></Edit>
		<Static Align="Right" Height="14" Id="Static1" Left="18" Style="C_Static" TabOrder="8" Text="권한명" Top="116" Width="80"></Static>
		<Edit BindDataset="ds_input" Border="Flat" CheckLength="Byte" Column="authorNm" DisableBKColor="white" DisableColor="black" Height="18" Id="Edit0" ImeMode="none" Left="104" LeftMargin="1" MaxLength="18" Style="C_Edit" TabOrder="2" Top="113" Width="270"></Edit>
		<Static Align="Right" Height="14" Id="Static3" Left="18" Style="C_Static" TabOrder="9" Text="설명" Top="136" Width="80"></Static>
		<Edit BindDataset="ds_input" Border="Flat" CheckLength="Byte" Column="authorDc" DisableBKColor="white" DisableColor="black" Height="18" Id="Edit1" ImeMode="none" Left="104" LeftMargin="1" MaxLength="33" Style="C_Edit" TabOrder="3" Top="133" Width="270"></Edit>
		<Edit BindDataset="ds_input" Border="Flat" CheckLength="Byte" Column="authorCreatDe" DisableColor="black" Enable="FALSE" Height="18" Id="Edit2" ImeMode="none" Left="104" LeftMargin="1" MaxLength="20" Readonly="TRUE" Style="C_Edit" TabOrder="4" Top="153" Width="270"></Edit>
		<Static Align="Right" Height="14" Id="Static5" Left="18" Style="C_Static" TabOrder="10" Text="등록일자" Top="156" Width="80"></Static>
		<Button ButtonStyle="TRUE" Height="18" Id="btnUpdate" ImageID="btn_02_2" Left="280" OnClick="btnUpdate_OnClick" Style="C_Button" TabOrder="5" Text="수정" Top="64" Width="48"></Button>
		<Button ButtonStyle="TRUE" Height="18" Id="btnDelete" ImageID="btn_02_2" Left="336" OnClick="btnDelete_OnClick" Style="C_Button" TabOrder="6" Text="삭제" Top="64" Width="49"></Button>
		<Image Align="Left" Height="50" Id="Image0" ImageID="pop_title_bg" TabOrder="11" Width="400"></Image>
		<Image Height="15" Id="Image2" ImageID="bu02" Left="15" TabOrder="12" Top="18" Width="8"></Image>
		<Static Color="user6" Height="16" Id="Static6" Left="27" Style="C_lblTitle" TabOrder="13" Text="권한수정" Top="20" Width="200"></Static>
		<Image Height="11" Id="ImgClose" ImageID="btn_close" Left="341" OnClick="ImgClose_OnClick" Static="FALSE" TabOrder="14" Top="19" Width="44"></Image>
		<Image Height="4" Id="Image4" ImageID="icon_06" Left="54" TabOrder="15" Top="120" Width="5"></Image>
		<Image Height="4" Id="Image1" ImageID="icon_06" Left="66" TabOrder="16" Top="140" Width="5"></Image>
	</Form>
	<Script><![CDATA[#include "lib::common.js";

function fnCallback(svcid, errcd, errmsg)
{
	gfn_hideProg(this);
	if(errCd < 0){
		gfn_Message(errCd,errMsg);
		return;
	}
	if(svcid == "get"){

			
	}	
	if(svcid == "update"){
		alert(errMsg);
		parent.btnSearch_OnClick();
		imgClose_OnClick();	
			
	}
	if(svcid == "delete"){
		alert(errMsg);
		parent.btnSearch_OnClick();
		imgClose_OnClick();	
			
	}	
	
}
function btnList_OnClick(obj)
{
	Go(G_Server + "/ipa/cmm/sec/ram/ISAuthorListView.do");
}

function btnUpdate_OnClick(obj)
{
	if ( !gfn_CheckField("Edit3|Edit0|Edit1", "권한코드|권한명|설명") ) return false;
	
	gfn_showProg(this,"수정중입니다.");
	var strSvcid = "update";
	var strController = "/ipa/cmm/sec/ram/ISAuthorUpdate.do";
	var arrayInputDs = [
						["ds_input","ds_input","egovframework.com.sec.ram.service.AuthorManage"]
					   ];
	var strOutputDs = "";
	var strParam = "";
	var strFnCallback = "fnCallback";

	fnCmTr(this, strSvcid, strController, arrayInputDs, strOutputDs, strParam, strFnCallback);	
}

function btnDelete_OnClick(obj)
{
	if ( !confirm(Edit3.Text + "(을)를 삭제 하시겠습니까?") ) return;
	
	gfn_showProg(this,"삭제중입니다.");
	var strSvcid = "delete";
	var strController = "/ipa/cmm/sec/ram/ISAuthorDelete.do";
	var arrayInputDs = [
						["ds_input","ds_input","egovframework.com.sec.ram.service.AuthorManage"]
					   ];
	var strOutputDs = "";
	var strParam = "";
	var strFnCallback = "fnCallback";

	fnCmTr(this, strSvcid, strController, arrayInputDs, strOutputDs, strParam, strFnCallback);	
}

function ISAuthorUpdate_OnLoadCompleted(obj)
{
	gfn_showProg(this,"조회중입니다.");
	//	alert(gdsPARAM.GetColumn(0,"PARAM_NAME") + 	gdsPARAM.GetColumn(0,"PARAM_VALUE") );
	var strSvcid = "get";
	
	//if ( gdsPARAM.GetColumn(0,"PARAM_NAME") == 'authorCode' ) 
	
	
	var strController = "/ipa/cmm/sec/ram/ISAuthor.do?authorCode="+gdsPARAM.GetColumn(0,"PARAM_VALUE");
	//var strController = "/ipa/sym/mpm/IPMenuManageListDetailSelect.do?req_menuNo="+"1010000";
						//서버, 클라이언트, VO
						
	gdsPARAM.ClearData();
	var arrayInputDs = [];
					   
					   //클라이언트, 서버
	var strOutputDs = "ds_input=ds_output";
	var strParam = "";
	var strFnCallback = "fnCallback";
	
	fnCmTr(this, strSvcid, strController, arrayInputDs, strOutputDs, strParam, strFnCallback);
}


function ImgClose_OnClick(obj,nX,nY)
{
	close();
}
]]></Script>
</Window>