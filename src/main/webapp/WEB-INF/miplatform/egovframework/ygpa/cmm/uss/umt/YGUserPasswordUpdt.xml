<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="300" Id="ISUserPasswordUpdt" Left="8" OnLoadCompleted="ISUserPasswordUpdt_OnLoadCompleted" PidAttrib="7" Title="업무사용자&#32;암호변경" Top="8" Ver="1.0" Width="400" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_input">
				<Contents>
					<colinfo id="uniqId" size="256" summ="default" type="STRING"/>
					<colinfo id="emplyrId" size="256" summ="default" type="STRING"/>
					<colinfo id="oldPassword" size="256" summ="default" type="STRING"/>
					<colinfo id="password" size="256" summ="default" type="STRING"/>
					<record>
						<emplyrId></emplyrId>
						<oldPassword></oldPassword>
						<password></password>
						<uniqId></uniqId>
					</record>
				</Contents>
			</Dataset>
		</Datasets>
		<Static Align="Right" Height="14" Id="Static19" Left="18" Style="C_Static" TabOrder="1" Text="사용자아이디" Top="98" Width="90"></Static>
		<Static Align="Right" Height="14" Id="Static1" Left="18" Style="C_Static" TabOrder="2" Text="기존비밀번호" Top="118" Width="90"></Static>
		<Static Align="Right" Height="14" Id="Static3" Left="18" Style="C_Static" TabOrder="3" Text="비밀번호" Top="138" Width="90"></Static>
		<Static Align="Right" Height="14" Id="Static5" Left="18" Style="C_Static" TabOrder="4" Text="비밀번호확인" Top="158" Width="90"></Static>
		<Edit Border="Flat" CheckLength="Byte" DisableBKColor="white" DisableColor="black" Height="18" Id="txtNewPassword2" ImeMode="none" Left="112" LeftMargin="1" MaxLength="20" Password="TRUE" Style="C_Edit" TabOrder="8" Top="155" UseIME="FALSE" Width="150"></Edit>
		<Edit BindDataset="ds_input" Border="Flat" CheckLength="Byte" Column="password" DisableBKColor="white" DisableColor="black" Height="18" Id="Edit1" ImeMode="none" Left="112" LeftMargin="1" MaxLength="20" Password="TRUE" Style="C_Edit" TabOrder="7" Top="135" UseIME="FALSE" Width="150"></Edit>
		<Edit BindDataset="ds_input" Border="Flat" CheckLength="Byte" Column="oldPassword" DisableBKColor="white" DisableColor="black" Height="18" Id="Edit0" ImeMode="none" Left="112" LeftMargin="1" MaxLength="20" Password="TRUE" Style="C_Edit" TabOrder="6" Top="115" UseIME="FALSE" Width="150"></Edit>
		<Edit BindDataset="ds_input" Border="Flat" CheckLength="Byte" Column="emplyrId" DisableColor="black" Enable="FALSE" Height="18" Id="Edit2" ImeMode="none" Left="112" LeftMargin="1" MaxLength="20" Readonly="TRUE" Style="C_Edit" TabOrder="5" Top="95" UseIME="FALSE" Width="150"></Edit>
		<Button ButtonStyle="TRUE" Height="18" Id="btnUpdate" ImageID="btn_02_2" Left="279" OnClick="btnUpdate_OnClick" Style="C_Button" TabOrder="9" Text="수정" Top="64" Width="48"></Button>
		<Button ButtonStyle="TRUE" Height="18" Id="btnClear" ImageID="btn_02_2" Left="337" OnClick="btnClear_OnClick" Style="C_Button" TabOrder="10" Text="취소" Top="64" Width="48"></Button>
		<Image Align="Left" Height="50" Id="Image2" ImageID="pop_title_bg" OnClick="Image2_OnClick" TabOrder="11" Width="400"></Image>
		<Image Height="15" Id="Image3" ImageID="bu02" Left="15" TabOrder="12" Top="18" Width="8"></Image>
		<Static Color="user6" Height="16" Id="Static6" Left="27" Style="C_lblTitle" TabOrder="13" Text="업무사용자&#32;암호변경" Top="20" Width="200"></Static>
		<Image Height="11" Id="ImgClose" ImageID="btn_close" Left="341" OnClick="ImgClose_OnClick" Static="FALSE" TabOrder="14" Top="19" Width="44"></Image>
		<Image Height="4" Id="Image1" ImageID="icon_06" Left="28" TabOrder="15" Top="123" Width="5"></Image>
		<Image Height="4" Id="Image0" ImageID="icon_06" Left="51" TabOrder="16" Top="143" Width="5"></Image>
		<Image Height="4" Id="Image4" ImageID="icon_06" Left="27" TabOrder="17" Top="163" Width="5"></Image>
	</Form>
	<Script><![CDATA[#include "lib::common.js";

function fnCallback(svcid, errcd, errmsg)
{
	gfn_hideProg(this);
	if(errCd < 0){
		gfn_Message(errCd,errMsg);
		return;
	}
	if(svcid == "get"){

			
	}	
	if(svcid == "update"){
		alert(errMsg);	
		imgClose_OnClick();
	}

	
}
function btnList_OnClick(obj)
{
	Go(G_Server + "/ipa/uss/umt/user/ISUserManageView.do");
}

function btnUpdate_OnClick(obj)
{
	if ( Edit1.text != txtNewPassword2.text ){
			alert("비밀번호와 비밀번호 확인이 일치하지 않습니다.");
			Edit1.setFocus();
			return false;	
	}
	
	if ( !gfn_CheckField("Edit2|Edit0|Edit1|txtNewPassword2", "일반회원아이디|기존비밀번호|비밀번호|비밀번호확인") ) return false;
	
	gfn_showProg(this,"수정중입니다.");
	var strSvcid = "update";
	var strController = "/ipa/uss/umt/user/ISUserPasswordUpdt.do";
	var arrayInputDs = [
						["ds_input","ds_input","egovframework.com.uss.umt.service.UserManageVO"]
					   ];
	var strOutputDs = "";
	var strParam = "newPassword2="+txtNewPassword2.Text;
	var strFnCallback = "fnCallback";

	fnCmTr(this, strSvcid, strController, arrayInputDs, strOutputDs, strParam, strFnCallback);	
}



function btnClear_OnClick(obj)
{
	ds_input.SetColumn(0,"oldPassword","");
	ds_input.SetColumn(0,"password","");	
	txtNewPassword2.Text = "";
}


function ISUserPasswordUpdt_OnLoadCompleted(obj)
{
	ds_input.SetColumn(0,"uniqId", gdsPARAM.GetColumn(0,"PARAM_VALUE"));
	ds_input.SetColumn(0,"emplyrId", gdsPARAM.GetColumn(1,"PARAM_VALUE"));
	gdsPARAM.ClearData();
}

function ImgClose_OnClick(obj,nX,nY)
{
	close();
}
]]></Script>
</Window>