<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="700" Id="PCMberManage" Left="8" OnLoadCompleted="PCMberManage_OnLoadCompleted" PidAttrib="7" Title="일반회원&#32;상세조회(수정)" Top="8" Ver="1.0" Width="1190" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_mberSttus">
				<Contents></Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_groupId">
				<Contents></Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_input">
				<Contents>
					<colinfo id="uniqId" size="256" summ="default" type="STRING"/>
					<colinfo id="userTy" size="256" summ="default" type="STRING"/>
					<colinfo id="mberId" size="256" summ="default" type="STRING"/>
					<colinfo id="mberNm" size="256" summ="default" type="STRING"/>
					<colinfo id="password" size="256" summ="default" type="STRING"/>
					<colinfo id="passwordHint" size="256" summ="default" type="STRING"/>
					<colinfo id="passwordCnsr" size="256" summ="default" type="STRING"/>
					<colinfo id="ihidnum" size="256" summ="default" type="STRING"/>
					<colinfo id="sexdstnCode" size="256" summ="default" type="STRING"/>
					<colinfo id="zip" size="256" summ="default" type="STRING"/>
					<colinfo id="adres" size="256" summ="default" type="STRING"/>
					<colinfo id="areaNo" size="256" summ="default" type="STRING"/>
					<colinfo id="mberSttus" size="256" summ="default" type="STRING"/>
					<colinfo id="detailAdres" size="256" summ="default" type="STRING"/>
					<colinfo id="endTelno" size="256" summ="default" type="STRING"/>
					<colinfo id="moblphonNo" size="256" summ="default" type="STRING"/>
					<colinfo id="groupId" size="256" summ="default" type="STRING"/>
					<colinfo id="mberFxnum" size="256" summ="default" type="STRING"/>
					<colinfo id="mberEmailAdres" size="256" summ="default" type="STRING"/>
					<colinfo id="middleTelno" size="256" summ="default" type="STRING"/>
					<colinfo id="sbscrbDe" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_passwordHint">
				<Contents></Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_sexdstnCode">
				<Contents></Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_author">
				<Contents></Contents>
			</Dataset>
			<Dataset DataSetType="Dataset" Id="ds_pcinput">
				<Contents></Contents>
			</Dataset>
		</Datasets>
		<Shape BKColor="user13" Bottom="87" Height="50" Id="Shape0" Left="15" LineColor="user14" LineKind="Vertical" Right="1175" TabOrder="3" Top="37" Type="Rectangle" Width="1160"></Shape>
		<Image Height="11" Id="imgBullet" ImageID="bullet_b" Left="15" TabOrder="1" Top="15" Width="11"></Image>
		<Static Height="16" Id="lblTitle" Left="29" Style="C_lblTitle" TabOrder="2" Text="일반회원&#32;상세조회(수정)" Top="15" Width="153"></Static>
		<Static Align="Right" Height="14" Id="Static19" Left="23" Style="C_Static" TabOrder="4" Text="일반회원아이디" Top="103" Width="100"></Static>
		<Static Align="Right" Height="14" Id="Static1" Left="23" Style="C_Static" TabOrder="5" Text="일반회원이름" Top="123" Width="100"></Static>
		<Static Align="Right" Height="14" Id="Static6" Left="23" Style="C_Static" TabOrder="6" Text="비밀번호힌트" Top="145" Width="100"></Static>
		<Static Align="Right" Height="14" Id="Static7" Left="23" Style="C_Static" TabOrder="7" Text="비밀번호정답" Top="165" Width="100"></Static>
		<Static Align="Right" Height="14" Id="Static8" Left="23" Style="C_Static" TabOrder="8" Text="성별구분코드" Top="185" Width="100"></Static>
		<Static Align="Right" Height="14" Id="Static9" Left="23" Style="C_Static" TabOrder="9" Text="전화번호" Top="205" Width="100"></Static>
		<Static Align="Right" Height="14" Id="Static12" Left="23" Style="C_Static" TabOrder="10" Text="팩스번호" Top="225" Width="100"></Static>
		<Static Align="Right" Height="14" Id="Static13" Left="23" Style="C_Static" TabOrder="11" Text="휴대폰번호" Top="245" Width="100"></Static>
		<Static Align="Right" Height="14" Id="Static15" Left="23" Style="C_Static" TabOrder="12" Text="우편번호" Top="285" Width="100"></Static>
		<Static Align="Right" Height="14" Id="Static17" Left="23" Style="C_Static" TabOrder="13" Text="주소" Top="305" Width="100"></Static>
		<Static Align="Right" Height="14" Id="Static18" Left="23" Style="C_Static" TabOrder="14" Text="상세주소" Top="325" Width="100"></Static>
		<Static Align="Right" Height="14" Id="Static20" Left="23" Style="C_Static" TabOrder="15" Text="그룹아이디" Top="386" Width="100"></Static>
		<Static Align="Right" Height="14" Id="Static21" Left="24" Style="C_Static" TabOrder="16" Text="일반회원상태코드" Top="407" Width="100"></Static>
		<Button ButtonStyle="TRUE" Height="18" Id="btnPasswordUpdate" ImageID="btn_02_4" Left="1030" OnClick="btnPasswordUpdate_OnClick" Style="C_Button" TabOrder="17" Text="암호변경" Top="52" Width="72"></Button>
		<Button ButtonStyle="TRUE" Height="18" Id="btnClear" ImageID="btn_02_2" Left="1112" OnClick="btnClear_OnClick" Style="C_Button" TabOrder="18" Text="취소" Top="52" Width="48"></Button>
		<Button ButtonStyle="TRUE" Height="18" Id="btnUpdate" ImageID="btn_02_2" Left="972" OnClick="btnUpdate_OnClick" Style="C_Button" TabOrder="19" Text="수정" Top="52" Width="48"></Button>
		<Button ButtonStyle="TRUE" Height="18" Id="btnDelete" ImageID="btn_02_2" Left="877" OnClick="btnDelete_OnClick" Style="C_Button" TabOrder="20" Text="삭제" Top="52" Visible="FALSE" Width="48"></Button>
		<Static Height="14" Id="Static16" Left="252" Style="C_Static" TabOrder="21" Text="(우편번호&#32;검색)" Top="285" Width="137"></Static>
		<Image Height="15" Id="imgZip" ImageID="btn_07" Left="230" OnClick="imgZip_OnClick" Static="FALSE" TabOrder="22" Top="284" Width="18"></Image>
		<Edit BindDataset="ds_input" Border="Flat" Column="mberId" DisableColor="black" Enable="FALSE" Height="18" Id="txtMberId" ImeMode="none" Left="126" LeftMargin="1" MaxLength="20" Readonly="TRUE" Style="C_Edit" TabOrder="23" Top="100" UseIME="FALSE" Width="118"></Edit>
		<Edit BindDataset="ds_input" Border="Flat" Column="mberNm" DisableColor="black" Enable="FALSE" Height="18" Id="txtCmpnyNm" ImeMode="none" Left="126" LeftMargin="1" MaxLength="20" Readonly="TRUE" Style="C_Edit" TabOrder="24" Top="120" Width="118"></Edit>
		<Edit BindDataset="ds_input" Border="Flat" Column="passwordCnsr" DisableBKColor="white" DisableColor="black" Height="18" Id="txtEntrprsMberPasswordCnsr" ImeMode="none" Left="126" LeftMargin="1" MaxLength="33" Style="C_Edit" TabOrder="25" Top="162" Width="300"></Edit>
		<Combo BindDataset="ds_input" Border="Flat" BorderColor="user5" CodeColumn="code" Column="passwordHint" DataColumn="codeNM" Height="18" Id="passwordHint" INDEX="1" InnerDataset="ds_passwordHint" Left="126" TabOrder="26" Text="---선택하세요---" Top="141" Width="300"></Combo>
		<Edit BindDataset="ds_input" Border="Flat" Column="areaNo" DisableBKColor="white" DisableColor="black" Height="18" Id="Edit13" ImeMode="none" Left="126" LeftMargin="1" MaxLength="5" Number="TRUE" Style="C_Edit" TabOrder="27" Top="203" Width="48"></Edit>
		<Static Align="Center" Font="Tahoma,10,Bold" Height="14" Id="Static23" Left="176" Style="C_Static" TabOrder="28" Text="-" Top="204" Width="9"></Static>
		<Edit BindDataset="ds_input" Border="Flat" Column="middleTelno" DisableBKColor="white" DisableColor="black" Height="18" Id="Edit14" ImeMode="none" Left="187" LeftMargin="1" MaxLength="5" Number="TRUE" Style="C_Edit" TabOrder="29" Top="203" Width="48"></Edit>
		<Static Align="Center" Font="Tahoma,10,Bold" Height="14" Id="Static24" Left="237" Style="C_Static" TabOrder="30" Text="-" Top="204" Width="9"></Static>
		<Edit BindDataset="ds_input" Border="Flat" Column="endTelno" DisableBKColor="white" DisableColor="black" Height="18" Id="Edit15" ImeMode="none" Left="248" LeftMargin="1" MaxLength="5" Number="TRUE" Style="C_Edit" TabOrder="31" Top="203" Width="48"></Edit>
		<Edit BindDataset="ds_input" Border="Flat" Column="mberFxnum" DisableBKColor="white" DisableColor="black" Height="18" Id="Edit16" ImeMode="none" Left="126" LeftMargin="1" MaxLength="15" Style="C_Edit" TabOrder="32" Top="223" UseIME="FALSE" Width="200"></Edit>
		<Edit BindDataset="ds_input" Border="Flat" Column="zip" DisableColor="black" Enable="FALSE" Height="18" Id="txtZip" ImeMode="none" Left="126" LeftMargin="1" MaxLength="6" Number="TRUE" Readonly="TRUE" Style="C_Edit" TabOrder="33" Top="284" Width="96"></Edit>
		<Edit BindDataset="ds_input" Border="Flat" Column="adres" DisableColor="black" Enable="FALSE" Height="18" Id="txtAdres" ImeMode="none" Left="126" LeftMargin="1" MaxLength="33" Readonly="TRUE" Style="C_Edit" TabOrder="34" Top="304" Width="300"></Edit>
		<Edit BindDataset="ds_input" Border="Flat" Column="detailAdres" DisableBKColor="white" DisableColor="black" Height="18" Id="txtDetailAdres" ImeMode="none" Left="126" LeftMargin="1" MaxLength="33" Style="C_Edit" TabOrder="35" Top="324" Width="300"></Edit>
		<Combo BindDataset="ds_input" Border="Flat" BorderColor="user5" CodeColumn="code" Column="groupId" DataColumn="codeNm" Enable="FALSE" Height="18" Id="Combo5" InnerDataset="ds_groupId" Left="126" TabOrder="36" Text="---선택하세요---" Top="385" Width="200"></Combo>
		<Combo BindDataset="ds_input" Border="Flat" BorderColor="user5" CodeColumn="code" Column="mberSttus" DataColumn="codeNm" Enable="FALSE" Height="18" Id="Combo6" InnerDataset="ds_mberSttus" Left="126" TabOrder="37" Text="---선택하세요---" Top="406" Width="200"></Combo>
		<Combo BindDataset="ds_input" Border="Flat" BorderColor="user5" CodeColumn="code" Column="sexdstnCode" DataColumn="codeNm" Height="18" Id="Combo7" InnerDataset="ds_sexdstnCode" Left="126" TabOrder="38" Text="---선택하세요---" Top="182" Width="110"></Combo>
		<Edit BindDataset="ds_input" Border="Flat" Column="moblphonNo" DisableBKColor="white" DisableColor="black" Height="18" Id="Edit20" ImeMode="none" Left="126" LeftMargin="1" MaxLength="15" Style="C_Edit" TabOrder="39" Top="243" UseIME="FALSE" Width="200"></Edit>
		<Static Align="Right" Height="14" Id="Static2" Left="93" Style="C_Static" TabOrder="40" Text="권한" Top="433" Width="30"></Static>
		<Image Height="4" Id="Image1" ImageID="icon_06" Left="30" TabOrder="41" Top="108" Width="5"></Image>
		<Image Height="4" Id="Image3" ImageID="icon_06" Left="42" TabOrder="42" Top="128" Width="5"></Image>
		<Image Height="4" Id="Image4" ImageID="icon_06" Left="41" TabOrder="43" Top="149" Width="5"></Image>
		<Image Height="4" Id="Image5" ImageID="icon_06" Left="41" TabOrder="44" Top="169" Width="5"></Image>
		<Image Height="4" Id="Image6" ImageID="icon_06" Left="66" TabOrder="45" Top="210" Width="5"></Image>
		<Image Height="4" Id="Image7" ImageID="icon_06" Left="55" TabOrder="46" Top="249" Width="5"></Image>
		<Image Height="4" Id="Image8" ImageID="icon_06" Left="54" TabOrder="47" Top="269" Width="5"></Image>
		<Image Height="4" Id="Image9" ImageID="icon_06" Left="66" TabOrder="48" Top="288" Width="5"></Image>
		<Image Height="4" Id="Image10" ImageID="icon_06" Left="90" TabOrder="49" Top="309" Width="5"></Image>
		<Image Height="4" Id="Image11" ImageID="icon_06" Left="55" TabOrder="50" Top="390" Width="5"></Image>
		<Image Height="4" Id="Image12" ImageID="icon_06" Left="20" TabOrder="51" Top="412" Width="5"></Image>
		<Edit BindDataset="ds_input" Border="Flat" Column="mberEmailAdres" DisableBKColor="white" DisableColor="black" Height="18" Id="Edit19" ImeMode="none" Left="126" LeftMargin="1" MaxLength="50" Style="C_Edit" TabOrder="52" Top="263" UseIME="FALSE" Width="200"></Edit>
		<Static Align="Right" Height="14" Id="Static14" Left="23" Style="C_Static" TabOrder="53" Text="이메일주소" Top="265" Width="100"></Static>
		<Static Align="Right" Height="14" Id="Static0" Left="23" Style="C_Static" TabOrder="54" Text="직급" Top="346" Width="100"></Static>
		<Edit BindDataset="ds_pcinput" Border="Flat" Column="POS_NM" DisableBKColor="white" DisableColor="black" Height="18" Id="edtPosNm" ImeMode="none" Left="126" LeftMargin="1" MaxLength="25" Style="C_Edit" TabOrder="55" Top="344" Width="200"></Edit>
		<Image Height="4" Id="Image13" ImageID="icon_06" Left="90" TabOrder="57" Top="371" Width="5"></Image>
		<Static Align="Right" Height="14" Id="Static3" Left="93" Style="C_Static" TabOrder="56" Text="업체" Top="366" Width="30"></Static>
		<Combo BindDataset="ds_input" Border="Flat" BorderColor="user5" CodeColumn="authorCode" Column="authorCode" DataColumn="authorNm" Enable="FALSE" Height="18" Id="Combo0" InnerDataset="ds_author" Left="126" TabOrder="58" Text="---선택하세요---" Top="429" Width="200"></Combo>
		<Static Align="Right" Height="14" Id="Static4" Left="331" Style="C_Static" TabOrder="59" Text="등록여부" Top="434" Width="50"></Static>
		<Edit BindDataset="ds_input" Border="Flat" Column="regYn" Enable="FALSE" Height="18" Id="Edit1" ImeMode="none" Left="386" LeftMargin="1" MaxLength="20" Readonly="TRUE" Style="C_Edit" TabOrder="60" Top="429" Width="50"></Edit>
		<Edit BindDataset="ds_pcinput" Border="Flat" Column="BIZ_NM" DisableColor="black" Enable="FALSE" Height="18" Id="Edit0" ImeMode="none" Left="126" LeftMargin="1" MaxLength="20" Readonly="TRUE" Style="C_Edit" TabOrder="61" Top="365" Width="200"></Edit>
		<Image Height="4" Id="Image0" ImageID="icon_06" Left="90" TabOrder="62" Top="437" Width="5"></Image>
	</Form>
	<Script><![CDATA[#include "lib::common.js";

function fnCallback(svcid, errcd, errmsg)
{
	gfn_hideProg(this);
	if(errCd < 0){
		gfn_Message(errCd,errMsg);
		return;
	}
	if(svcid == "get"){

	}	
	if(svcid == "getcode"){

	}
	if(svcid == "update"){
		alert(errMsg);	
		PCMberManage_OnLoadCompleted();

	}
	if(svcid == "delete"){
		alert(errMsg);	
		parent.btnSearch_OnClick();
		imgClose_OnClick();
	}	
	
}
function btnList_OnClick(obj)
{
	Go(G_Server + "/ipa/uss/umt/mber/ISMberManageView.do");
}

function btnUpdate_OnClick(obj)
{
	if ( !gfn_CheckField("txtMberId|txtCmpnyNm|passwordHint|txtEntrprsMberPasswordCnsr|Edit13|Edit14|Edit15|Edit20|Edit19|txtZip|txtAdres|Combo5|Combo6", "일반회원아이디|일반회원이름|비밀번호힌트|비밀번호정답|전화번호|전화번호|전화번호|휴대폰번호|이메일주소|우편번호|주소|그룹아이디|일반회원상태코드") ) return false;
	
	if ( !gfn_CheckEmail(Edit19.Text) ) {
			alert("이메일 주소 형식이 아닙니다.");
			Edit19.setFocus();
			return false;
	}	
	
	gfn_showProg(this,"수정중입니다.");
	var strSvcid = "update";
	var strController = "/ipa/uss/umt/mber/PCMberSelectUpdt.do";
	var arrayInputDs = [
						["ds_input","ds_input","egovframework.com.ipa.uss.umt.service.ISMberManageVO"],
						["ds_pcinput","ds_pcinput","egovframework.com.ipa.ipcis.cmm.service.UserInfoVO"]
					   ];
	var strOutputDs = "";
	var strParam = "";
	var strFnCallback = "fnCallback";

	fnCmTr(this, strSvcid, strController, arrayInputDs, strOutputDs, strParam, strFnCallback);	
}

function btnDelete_OnClick(obj)
{
	if ( !confirm(txtMberId.Text + "(을)를 삭제 하시겠습니까?") ) return;
	
	gfn_showProg(this,"삭제중입니다.");
	var checkedIdForDel = ds_input.GetColumn(0,"userTy") +":"+ds_input.GetColumn(0,"uniqId");

 	var param = "checkedIdForDel=" + checkedIdForDel;
	var strSvcid = "delete";
	var strController = "/ipa/uss/umt/mber/PCMberDelete.do?"+param;
	var arrayInputDs = [];
	var strOutputDs = "";
	var strParam = "";
	var strFnCallback = "fnCallback";

	fnCmTr(this, strSvcid, strController, arrayInputDs, strOutputDs, strParam, strFnCallback);
}


function btnPasswordUpdate_OnClick(obj)
{
	gdsPARAM.ClearData();
	gdsPARAM.AddRow();
	gdsPARAM.SetColumn(0,"PARAM_NAME","uniqId");
	gdsPARAM.SetColumn(0,"PARAM_VALUE",ds_input.GetColumn(0,"uniqId"));
	gdsPARAM.AddRow();
	gdsPARAM.SetColumn(1,"PARAM_NAME","mberId");
	gdsPARAM.SetColumn(1,"PARAM_VALUE",ds_input.GetColumn(0,"mberId"));
	
	var url=G_Server+"/ipa/uss/umt/mber/ISMberPasswordUpdtView.do";

	var iXPos = ClientToScreenX(this, 0);
	var iyPos = ClientToScreenY(this, 30);

	Dialog(url,"",400,300,"",iXPos,iyPos);		
}

function btnClear_OnClick(obj)
{
	ds_input.Reset();
}

function PCMberManage_OnLoadCompleted(obj)
{
	gfn_showProg(this,"조회중입니다.");
	
	selectCmmCode();
	
	var strSvcid = "get";
	
	var strController = "/ipa/uss/umt/mber/PCMberSelect.do";
						
	gdsPARAM.ClearData();
	var arrayInputDs = [];
					   
					   //클라이언트, 서버
	var strOutputDs = "ds_input=ds_output ds_pcinput=ds_pcoutput ds_author=ds_outputmanage";
	var strParam = "";
	var strFnCallback = "fnCallback";
	
	fnCmTr(this, strSvcid, strController, arrayInputDs, strOutputDs, strParam, strFnCallback);
}


function selectCmmCode()
{
	gfn_showProg(this,"조회중입니다.");
	

	var strSvcid = "getcode";
	var strController = "/ipa/uss/umt/mber/ISMberInsertCmmCode.do";
	var arrayInputDs = [];
					   //클라이언트, 서버
	var strOutputDs = "ds_passwordHint=ds_passwordHint"
					 +" ds_sexdstnCode=ds_sexdstnCode"
					 +" ds_mberSttus=ds_mberSttus"
					 +" ds_groupId=ds_groupId";
	var strParam = "";
	var strFnCallback = "fnCallback";
	
	fnCmTr(this, strSvcid, strController, arrayInputDs, strOutputDs, strParam, strFnCallback);	
}

function imgZip_OnClick(obj,nX,nY)
{
	var url=G_Server+"/ipa/sym/cmm/zip/ISCcmZipSearchPopupView.do";

	var iXPos = ClientToScreenX(this, 0);
	var iyPos = ClientToScreenY(this, 30);

	Dialog(url,"",400,300,"",iXPos,iyPos);	

}]]></Script>
</Window>