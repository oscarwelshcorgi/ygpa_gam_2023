<?xml version="1.0" encoding="utf-8"?>
<Window>
	<Form Height="900" Id="ISMain" Left="8" OnLoadCompleted="ISMain_OnLoadCompleted" OnSize="ISMain_OnSize" PidAttrib="7" Title="인천항만공사" Top="8" Ver="1.0" Width="1280" WorkArea="true">
		<Datasets>
			<Dataset DataSetType="Dataset" Id="ds_voInfo">
				<Contents>
					<colinfo id="voClass" size="256" summ="default" type="STRING"/>
				</Contents>
			</Dataset>
		</Datasets>
		<Shape BKColor="#3fa9f5" Bottom="66" Height="67" Id="img_top_shape" Left="0" LineWidth="0" Right="1280" TabOrder="7" Top="-1" Type="Rectangle" UserData="H" Width="1280"></Shape>
		<Image FillType="STRETCH" Height="33" Id="menu_bar_bg" ImageID="menu_bar" TabOrder="3" Top="64" UserData="W" Width="1280"></Image>
		<Div Border="Flat" BorderColor="user5" Height="803" Id="divFrame" OnSize="divFrame_OnSize" TabOrder="1" Text="Div0" Top="97" UserData="HW" Width="1280">
			<Contents>
				<Image Height="278" Id="Image0" ImageID="YGPA_LogoBg" Left="22" TabOrder="1" Top="29" Width="332"></Image>
			</Contents>
		</Div>
		<Image Align="Left" BorderColor="#3fa9f5" Color="#3fa9f5" DisableBKColor="#3fa9f5" DkshadowColor="#3fa9f5" Face3dColor="#3fa9f5" Height="64" Hilight3dColor="#3fa9f5" Id="img_top" ImageID="YGPA_LogoTop" LeftMargin="0" OnClick="Image0_OnClick" TabOrder="2" Width="1016"></Image>
		<MenuBar BorderColor="-1" CaptionCol="menuNm" EnableCol="Enable" EndColor="-1" Font="돋움,9,Bold" GradationMode="Horizontal" Height="17" HighlightBKColor="#3b97d3" HighlightTextColor="white" IconCol="Icon" Id="mnuBar" IDCol="menuNo" ImageID="menu_bg" LevelCol="level" MainTextColor="user6" MenuDataset="gdsMenu" OnMenuClick="mnuBar_OnMenuClick" PopupBoard3D="False" PopupLeftMargin="12" PopupTextColor="-1" Selection3D="False" StartColor="-1" Style="XP&#32;2003" TabOrder="5" Top="72" Width="1104"></MenuBar>
		<Image Cursor="HAND" Height="32" Id="imgHome" ImageID="ext_button" Left="1104" OnClick="imgHome_OnClick" Static="FALSE" TabOrder="4" Top="64" Visible="FALSE" Width="176"></Image>
		<Static BindDataset="gdsUser" Column="id" Height="57" Id="Static1" Left="1136" TabOrder="6" Text="Static0" Top="112" Width="80"></Static>
	</Form>
	<Script><![CDATA[
#include "lib::common.js";
function ISMain_OnLoadCompleted(obj)
{
	gfn_Init();
	
	var strSvcid = "getMenu";
	var strController = "/ygpa/sym/mpm/YGUserMenuSelect.do";	// context root + 컨트롤 명 
	var arrayInputDs = [];					   	
	var strOutputDs = "gdsMenu=ds_output gdsUser=ds_user";
	var strParam = "";
	var strFnCallback = "fnCallback";

	//fnCmTr(this, strSvcid, strController, arrayInputDs, strOutputDs, strParam, strFnCallback);
}
function fnCallback(svcid, errcd, errmsg)
{
	//alert(IPLUSSES);
	if(errCd < 0){
		alert(errMsg);
		return;
	}
	if(svcid == "getMenu"){
		//alert(errMsg);
	}
}



function mnuBar_OnMenuClick(obj, strID)
{
	var row = gdsMenu.FindRow("menuNo",strID);
	if(row < 0 || gdsMenu.GetColumn(row,"chkURL") == "dir")	return;
	
	fn_menu(row, "");
}
function lfn_menu(strURL)
{

	lfn_menu2(strURL, "");
}

function lfn_menu2(strURL, strArg)
{
	if ( strURL == "dir" ) return;
	
	var row = gdsMenu.FindRow("chkURL",strURL);
	if(row < 0 ) return;
	
	fn_menu(row, strArg);
}

function lfn_menu_id(strID)
{

	lfn_menu_id2(strID, "");
}
function lfn_menu_id2(strID, strArg)
{
	if ( strURL == "dir" ) return;
	
	var row = gdsMenu.FindRow("menuNo",strID);
	if(row < 0 || gdsMenu.GetColumn(row,"chkURL") == "dir")	return;
	
	fn_menu(row, strArg);
}


function fn_menu(menuRow, strArg)
{
	var row = menuRow;

	gdsCurMenu.DeleteAll();
	gdsCurMenu.AddRow();
	gdsCurMenu.CopyRow(gdsCurMenu.row,"gdsMenu",row);
	//alert(left(gdsMenu.GetColumn(row,"chkURL"), 4));
	//if ( IndexOf(gdsMenu.GetColumn(row,"chkURL"), "http") > -1 ) {
	if ( left(gdsMenu.GetColumn(row,"chkURL"), 5) == "http:" ) {
		var str_arg = "param=" + UrlEncode(gdsMenu.GetColumn(row,"chkURL"));
		var iXPos = ClientToScreenX(this, 0);
		var iyPos = ClientToScreenY(this, 30);

		var url=G_Server+"/ISMiPlatformPopUpPage.do";
		Dialog(url,str_arg,400,300,"",iXPos,iyPos);

		//var url=G_Server+"/ipa/ISCommonPopup.do";
		//WebBrowser0.PageUrl = url;
		//WebBrowser0.run();		
	//}else if ( IndexOf(gdsMenu.GetColumn(row,"chkURL"), "browser::") > -1 ) {
	}else if ( left(gdsMenu.GetColumn(row,"chkURL"), 9) == "browser::" ) {
		var param = right(gdsMenu.GetColumn(row,"chkURL"), length(gdsMenu.GetColumn(row,"chkURL"))-9);

		var str_arg = "param=" + UrlEncode(param);
		var iXPos = ClientToScreenX(this, 0);
		var iyPos = ClientToScreenY(this, 30);

		var url=G_Server+"/ISBrowserViewer.do";
		Open(url,str_arg,50,50,"",iXPos,iyPos);

		//var url=G_Server+"/ipa/ISCommonPopup.do";
		//WebBrowser0.PageUrl = url;
		//WebBrowser0.run();		
	}else{
		divFrame.url = G_Server + gdsMenu.GetColumn(row,"chkURL");
	}
}

function imgLogout_OnClick(obj,nX,nY)
{
	//gfn_Error("-9999","");
	gfn_Message("-9999","logout");
}



function imgHome_OnClick(obj,nX,nY)
{
	gfn_Message("-8888","gohome");
}

function Button0_OnClick(obj)
{
	var param = "http://192.168.2.33:8095/domas/?data=test";

	var str_arg = "param=" + UrlEncode(param);
	var iXPos = ClientToScreenX(this, 0);
	var iyPos = ClientToScreenY(this, 30);

//"http://192.168.2.33:8095/domas/"

	//	Dialog(G_Server + "/ISMiPlatformPopUpPage.do",str_arg,310,130,"CloseFlag=false TitleBar=false",lv_left,lv_top);
		//var url=G_Server+"/ipa/ISCommonPopup.do";

	var url=G_Server+"/ISMiPlatformPopUpPage.do";
		
	Dialog(url,str_arg,900,700,"",iXPos,iyPos);	
		
}

function imgOnly_OnClick(obj,nX,nY)
{
	gfn_Message("-9090","only");
}

function ISMain_OnSize(obj,nCx,nCy,nState)
{
	Image0.Width=nCx;
	Image2.Width=nCx;
}

function divFrame_OnSize(obj,nCx,nCy)
{
	divFrame.Image0.Left=nCx/2-divFrame.Image0.Width/2;
	divFrame.Image0.Top=nCy/2-divFrame.Image0.Height/2;
}
]]></Script>
</Window>